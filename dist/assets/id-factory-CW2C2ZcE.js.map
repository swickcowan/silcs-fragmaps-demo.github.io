{"version":3,"file":"id-factory-CW2C2ZcE.js","sources":["../../node_modules/molstar/lib/mol-util/now.js","../../node_modules/molstar/lib/mol-util/uuid.js","../../node_modules/molstar/lib/mol-util/id-factory.js"],"sourcesContent":["/**\n * Copyright (c) 2017 mol* contributors, licensed under MIT, See LICENSE file for more info.\n *\n * @author David Sehnal <david.sehnal@gmail.com>\n */\nconst now = (function () {\n    if (typeof window !== 'undefined' && window.performance) {\n        const perf = window.performance;\n        return () => perf.now();\n    }\n    else if (typeof process !== 'undefined' && process.hrtime !== 'undefined' && typeof process.hrtime === 'function') {\n        return () => {\n            const t = process.hrtime();\n            return t[0] * 1000 + t[1] / 1000000;\n        };\n    }\n    else if (Date.now) {\n        return () => Date.now();\n    }\n    else {\n        return () => +new Date();\n    }\n}());\nfunction formatTimespan(t, includeMsZeroes = true) {\n    if (isNaN(t))\n        return 'n/a';\n    const h = Math.floor(t / (60 * 60 * 1000)), m = Math.floor(t / (60 * 1000) % 60), s = Math.floor(t / 1000 % 60);\n    let ms = Math.floor(t % 1000).toString();\n    while (ms.length < 3)\n        ms = '0' + ms;\n    while (!includeMsZeroes && ms.length > 1 && ms[ms.length - 1] === '0')\n        ms = ms.substr(0, ms.length - 1);\n    if (h > 0)\n        return `${h}h${m}m${s}.${ms}s`;\n    if (m > 0)\n        return `${m}m${s}.${ms}s`;\n    if (s > 0)\n        return `${s}.${ms}s`;\n    return `${t.toFixed(0)}ms`;\n}\nexport { now, formatTimespan };\n","/**\n * Copyright (c) 2017 mol* contributors, licensed under MIT, See LICENSE file for more info.\n *\n * @author David Sehnal <david.sehnal@gmail.com>\n */\nimport { now } from './now.js';\nvar UUID;\n(function (UUID) {\n    const _btoa = typeof btoa !== 'undefined' ? btoa : (s) => Buffer.from(s).toString('base64');\n    const chars = [];\n    /** Creates a 22 characters 'base64' encoded UUID */\n    function create22() {\n        let d = (+new Date()) + now();\n        for (let i = 0; i < 16; i++) {\n            chars[i] = String.fromCharCode((d + Math.random() * 0xff) % 0xff | 0);\n            d = Math.floor(d / 0xff);\n        }\n        return _btoa(chars.join('')).replace(/\\+/g, '-').replace(/\\//g, '_').substr(0, 22);\n    }\n    UUID.create22 = create22;\n    function createv4() {\n        let d = (+new Date()) + now();\n        const uuid = 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function (c) {\n            const r = (d + Math.random() * 16) % 16 | 0;\n            d = Math.floor(d / 16);\n            return (c === 'x' ? r : (r & 0x3 | 0x8)).toString(16);\n        });\n        return uuid;\n    }\n    UUID.createv4 = createv4;\n    function is(x) {\n        return typeof x === 'string';\n    }\n    UUID.is = is;\n})(UUID || (UUID = {}));\nexport { UUID };\n","/**\n * Copyright (c) 2018 mol* contributors, licensed under MIT, See LICENSE file for more info.\n *\n * @author Alexander Rose <alexander.rose@weirdbyte.de>\n */\n/** Builds id function returning ids within [firstId, maxId) */\nexport function idFactory(firstId = 0, maxId = Number.MAX_SAFE_INTEGER) {\n    let _nextId = firstId;\n    return () => {\n        const ret = _nextId;\n        _nextId = (_nextId + 1) % maxId;\n        return ret;\n    };\n}\n"],"names":["now","perf","t","formatTimespan","includeMsZeroes","h","m","s","ms","UUID","_btoa","chars","create22","d","i","createv4","r","is","x","idFactory","firstId","maxId","_nextId","ret"],"mappings":"AAKK,MAACA,EAAO,UAAY,CACrB,GAAI,OAAO,OAAW,KAAe,OAAO,YAAa,CACrD,MAAMC,EAAO,OAAO,YACpB,MAAO,IAAMA,EAAK,IAAG,CACzB,KACK,QAAI,OAAO,QAAY,KAAe,QAAQ,SAAW,aAAe,OAAO,QAAQ,QAAW,WAC5F,IAAM,CACT,MAAMC,EAAI,QAAQ,OAAM,EACxB,OAAOA,EAAE,CAAC,EAAI,IAAOA,EAAE,CAAC,EAAI,GAChC,EAEK,KAAK,IACH,IAAM,KAAK,IAAG,EAGd,IAAM,CAAC,IAAI,IAE1B,EAAC,EACD,SAASC,EAAeD,EAAGE,EAAkB,GAAM,CAC/C,GAAI,MAAMF,CAAC,EACP,MAAO,MACX,MAAMG,EAAI,KAAK,MAAMH,GAAK,GAAK,GAAK,IAAK,EAAGI,EAAI,KAAK,MAAMJ,GAAK,GAAK,KAAQ,EAAE,EAAGK,EAAI,KAAK,MAAML,EAAI,IAAO,EAAE,EAC9G,IAAIM,EAAK,KAAK,MAAMN,EAAI,GAAI,EAAE,SAAQ,EACtC,KAAOM,EAAG,OAAS,GACfA,EAAK,IAAMA,EACf,KAAO,CAACJ,GAAmBI,EAAG,OAAS,GAAKA,EAAGA,EAAG,OAAS,CAAC,IAAM,KAC9DA,EAAKA,EAAG,OAAO,EAAGA,EAAG,OAAS,CAAC,EACnC,OAAIH,EAAI,EACG,GAAGA,CAAC,IAAIC,CAAC,IAAIC,CAAC,IAAIC,CAAE,IAC3BF,EAAI,EACG,GAAGA,CAAC,IAAIC,CAAC,IAAIC,CAAE,IACtBD,EAAI,EACG,GAAGA,CAAC,IAAIC,CAAE,IACd,GAAGN,EAAE,QAAQ,CAAC,CAAC,IAC1B,CCjCG,IAACO,GACH,SAAUA,EAAM,CACb,MAAMC,EAAQ,OAAO,KAAS,IAAc,KAAQH,GAAM,OAAO,KAAKA,CAAC,EAAE,SAAS,QAAQ,EACpFI,EAAQ,CAAA,EAEd,SAASC,GAAW,CAChB,IAAIC,EAAK,CAAC,IAAI,KAAUb,EAAG,EAC3B,QAASc,EAAI,EAAGA,EAAI,GAAIA,IACpBH,EAAMG,CAAC,EAAI,OAAO,cAAcD,EAAI,KAAK,OAAM,EAAK,KAAQ,IAAO,CAAC,EACpEA,EAAI,KAAK,MAAMA,EAAI,GAAI,EAE3B,OAAOH,EAAMC,EAAM,KAAK,EAAE,CAAC,EAAE,QAAQ,MAAO,GAAG,EAAE,QAAQ,MAAO,GAAG,EAAE,OAAO,EAAG,EAAE,CACrF,CACAF,EAAK,SAAWG,EAChB,SAASG,GAAW,CAChB,IAAIF,EAAK,CAAC,IAAI,KAAUb,EAAG,EAM3B,MALa,uCAAuC,QAAQ,QAAS,SAAU,EAAG,CAC9E,MAAMgB,GAAKH,EAAI,KAAK,SAAW,IAAM,GAAK,EAC1C,OAAAA,EAAI,KAAK,MAAMA,EAAI,EAAE,GACb,IAAM,IAAMG,EAAKA,EAAI,EAAM,GAAM,SAAS,EAAE,CACxD,CAAC,CAEL,CACAP,EAAK,SAAWM,EAChB,SAASE,EAAGC,EAAG,CACX,OAAO,OAAOA,GAAM,QACxB,CACAT,EAAK,GAAKQ,CACd,GAAGR,IAASA,EAAO,CAAA,EAAG,EC5Bf,SAASU,EAAUC,EAAU,EAAGC,EAAQ,OAAO,iBAAkB,CACpE,IAAIC,EAAUF,EACd,MAAO,IAAM,CACT,MAAMG,EAAMD,EACZ,OAAAA,GAAWA,EAAU,GAAKD,EACnBE,CACX,CACJ","x_google_ignoreList":[0,1,2]}