import{n as ct,i as S0,U as Lt}from"./value-cell-gCnOgR8f.js";const mc=function(){};function gc(e,n){const t=Math.pow(10,n);return Math.round(t*e)/t}function pc(e,n){const t=e.length;if(t!==n.length)return!1;for(let r=0;r<t;r++)if(e[r]!==n[r])return!1;return!0}const Zr=Object.prototype.hasOwnProperty;function cr(e,n){if(e===n)return!0;const t=Array.isArray(e),r=Array.isArray(n);if(t&&r){if(e.length!==n.length)return!1;for(let i=0;i<e.length;i++)if(!cr(e[i],n[i]))return!1;return!0}if(t!==r)return!1;if(e&&n&&typeof e=="object"&&typeof n=="object"){const i=Object.keys(e);if(i.length!==Object.keys(n).length)return!1;const c=e instanceof Date,a=n instanceof Date;if(c&&a)return e.getTime()===n.getTime();if(c!==a)return!1;const l=e instanceof RegExp,d=n instanceof RegExp;if(l&&d)return e.toString()===n.toString();if(l!==d)return!1;for(let w=0;w<i.length;w++)if(!Zr.call(n,i[w]))return!1;for(let w=0;w<i.length;w++)if(!cr(e[i[w]],n[i[w]]))return!1;return!0}return!1}function bc(e,n){if(e===n)return!0;const t=Array.isArray(e),r=Array.isArray(n);return t&&r?k0(e,n):t!==r?!1:e&&n&&typeof e=="object"&&typeof n=="object"?Dr(e,n):!1}function Dr(e,n){if(e===n)return!0;if(!e||!n)return!1;const t=Object.keys(e);if(Object.keys(n).length!==t.length)return!1;for(const r of t)if(!Zr.call(e,r)||e[r]!==n[r])return!1;return!0}function k0(e,n){if(e===n)return!0;if(!e||!n||e.length!==n.length)return!1;for(let t=0,r=e.length;t<r;++t)if(e[t]!==n[t])return!1;return!0}function yc(e,n){return e!==void 0?e:n}function or(e){return(e<10?"0":"")+e}function wc(e){const n=e.getHours(),t=e.getMinutes(),r=e.getSeconds();return`${n}:${or(t)}:${or(r)}`}const Mc=Math.PI/2,Hr=Math.PI/180;function Sn(e){return e*Hr}function N0(e){return e/Hr}function _c(e){return e!==0&&(e&e-1)===0}function Ic(...e){let n=0,t=0;for(let r=0,i=e.length;r<i;++r){const c=e[r],a=Math.abs(c);a>t&&(n=c,t=a)}return n}function vc(e,n){return e*n}function Ac(e){let n=0,t=0,r=0,i=-1;const c=e*2+1,a=c/2,l=[];for(let d=Math.pow(c,2);d>0;--d){if(-a<n&&n<=a&&-a<t&&t<=a&&l.push([n,t]),n===t||n<0&&n===-t||n>0&&n===1-t){const w=r;r=-i,i=w}n+=r,t+=i}return l}function E0(e,n,t){return(e-n)/(t-n)}function $n(e,n,t){return Math.max(n,Math.min(t,e))}function q0(e){return $n(e,0,1)}function xn(e,n,t){return e+(n-e)*t}function St(e,n,t,r,i,c){const a=(t-e)*c,l=(r-n)*c,d=i*i,w=i*d;return(2*n-2*t+a+l)*w+(-3*n+3*t-2*a-l)*d+a*i+n}function kt(e,n,t,r){const i=1-r;return i*i*e+2*i*r*n+r*r*t}function zc(e,n,t){return t=q0(E0(t,e,n)),t*t*(3-2*t)}function cn(){return cn.zero()}(function(e){function n(){const f=[.1,0,0];return f[0]=0,f}e.zero=n;function t(f,x,o){const u=n();return u[0]=f,u[1]=x,u[2]=o,u}e.create=t;function r(f,x,o,u){return f[0]=x,f[1]=o,f[2]=u,f}e.set=r;function i(f,x){const o=x[0]-f[0],u=x[1]-f[1],_=x[2]-f[2];return Math.sqrt(o*o+u*u+_*_)}e.distance=i;function c(f,x){const[o,u,_]=Xn.toRgb(x),[N,L,Y]=$(o,u,_),B=116*L-16;return f[0]=B<0?0:B,f[1]=500*(N-L),f[2]=200*(L-Y),f}e.fromColor=c;function a(f,x){return zn.toLab(f,x)}e.fromHcl=a;function l(f){let x=(f[0]+16)/116,o=isNaN(f[1])?x:x+f[1]/500,u=isNaN(f[2])?x:x-f[2]/200;x=j*D(x),o=P*D(o),u=O*D(u);const _=J(3.2404542*o-1.5371385*x-.4985314*u),N=J(-.969266*o+1.8760108*x+.041556*u),L=J(.0556434*o-.2040259*x+1.0572252*u);return Xn.fromRgb(Math.round($n(_,0,255)),Math.round($n(N,0,255)),Math.round($n(L,0,255)))}e.toColor=l;function d(f,x){const[o,u,_]=x,N=Math.sqrt(u*u+_*_);let L=(N0(Math.atan2(_,u))+360)%360;return Math.round(N*1e4)===0&&(L=Number.NaN),f[0]=L,f[1]=N,f[2]=o,f}e.toHcl=d;function w(f,x){return f[0]=x[0],f[1]=x[1],f[2]=x[2],f}e.copy=w;function g(f,x,o){return f[0]=x[0]-p*o,f[1]=x[1],f[2]=x[2],f}e.darken=g;function A(f,x,o){return g(f,x,-o)}e.lighten=A;const m=[0,0,0];function F(f,x,o){return d(m,x),zn.toLab(f,zn.saturate(m,m,o))}e.saturate=F;function E(f,x,o){return F(f,x,-o)}e.desaturate=E;const p=18,P=.95047,j=1,O=1.08883,Z=.137931034,G=.206896552,q=.12841855,C=.008856452;function J(f){return 255*(f<=.00304?12.92*f:1.055*Math.pow(f,1/2.4)-.055)}function D(f){return f>G?f*f*f:q*(f-Z)}function W(f){return(f/=255)<=.04045?f/12.92:Math.pow((f+.055)/1.055,2.4)}function le(f){return f>C?Math.pow(f,1/3):f/q+Z}function $(f,x,o){f=W(f),x=W(x),o=W(o);const u=le((.4124564*f+.3575761*x+.1804375*o)/P),_=le((.2126729*f+.7151522*x+.072175*o)/j),N=le((.0193339*f+.119192*x+.9503041*o)/O);return[u,_,N]}})(cn||(cn={}));function zn(){return zn.zero()}(function(e){function n(){const O=[.1,0,0];return O[0]=0,O}e.zero=n;function t(O,Z,G){const q=n();return q[0]=O,q[1]=Z,q[2]=G,q}e.create=t;function r(O,Z,G,q){return O[0]=Z,O[1]=G,O[2]=q,O}e.set=r;function i(O){return!isNaN(O[0])}e.hasHue=i;const c=[0,0,0];function a(O,Z){return cn.toHcl(O,cn.fromColor(c,Z))}e.fromColor=a;function l(O,Z){return cn.toHcl(O,Z)}e.fromLab=l;const d=[0,0,0];function w(O){return cn.toColor(g(d,O))}e.toColor=w;function g(O,Z){let[G,q,C]=Z;return isNaN(G)&&(G=0),G=Sn(G),O[0]=C,O[1]=Math.cos(G)*q,O[2]=Math.sin(G)*q,O}e.toLab=g;function A(O,Z){return O[0]=Z[0],O[1]=Z[1],O[2]=Z[2],O}e.copy=A;function m(O,Z,G){return O[0]=Z[0],O[1]=Math.max(0,Z[1]+j*G),O[2]=Z[2],O}e.saturate=m;function F(O,Z,G){return m(O,Z,-G)}e.desaturate=F;const E=[0,0,0];function p(O,Z,G){return g(E,Z),cn.toHcl(O,cn.darken(E,E,G))}e.darken=p;function P(O,Z,G){return p(O,Z,-G)}e.lighten=P;const j=18})(zn||(zn={}));function Dn(){return Dn.zero()}(function(e){function n(){const i=[.1,0,0];return i[0]=0,i}e.zero=n;function t(i,c){return i[0]=(c>>16&255)/255,i[1]=(c>>8&255)/255,i[2]=(c&255)/255,i}e.fromColor=t;function r(i){return i[0]*255<<16|i[1]*255<<8|i[2]*255}e.toColor=r})(Dn||(Dn={}));function In(){return In.zero()}(function(e){function n(){const g=[.1,0,0];return g[0]=0,g}e.zero=n;const t=Dn();function r(g,A){return Dn.fromColor(t,A),e.fromRgb(g,t)}e.fromColor=r;function i(g){return d(t,g),Dn.toColor(t)}e.toColor=i;function c(g,A){const[m,F,E]=A,p=Math.min(m,F,E),P=Math.max(m,F,E),j=(P+p)/2;let O=0,Z=0;return P===p?(O=0,Z=Number.NaN):O=j<.5?(P-p)/(P+p):(P-p)/(2-P-p),m===P?Z=(F-E)/(P-p):F===P?Z=2+(E-m)/(P-p):E===P&&(Z=4+(m-F)/(P-p)),Z*=60,Z<0&&(Z+=360),g[0]=Z,g[1]=O,g[2]=j,g}e.fromRgb=c;const a=[0,0,0],l=[0,0,0];function d(g,A){const[m,F,E]=A;let p,P,j;if(F===0)p=P=j=E;else{const O=a,Z=l,G=E<.5?E*(1+F):E+F-E*F,q=2*E-G,C=m/360;O[0]=C+1/3,O[1]=C,O[2]=C-1/3;for(let J=0;J<3;J++)O[J]<0&&(O[J]+=1),O[J]>1&&(O[J]-=1),6*O[J]<1?Z[J]=q+(G-q)*6*O[J]:2*O[J]<1?Z[J]=G:3*O[J]<2?Z[J]=q+(G-q)*(2/3-O[J])*6:Z[J]=q;p=Z[0],P=Z[1],j=Z[2]}return g[0]=p,g[1]=P,g[2]=j,g}e.toRgb=d;function w(g,A,m,F){const E=A,p=m,[P,j,O]=E,[Z,G,q]=p;let C,J,D;!isNaN(P)&&!isNaN(Z)?(Z>P&&Z-P>180?D=Z-(P+360):Z<P&&P-Z>180?D=Z+360-P:D=Z-P,J=P+F*D):isNaN(P)?isNaN(Z)?J=Number.NaN:(J=Z,(O===1||O===0)&&(C=G)):(J=P,(q===1||q===0)&&(C=j)),C===void 0&&(C=j+F*(G-j));const W=O+F*(q-O);return g[0]=J,g[1]=C,g[2]=W,g}e.interpolate=w})(In||(In={}));function Xn(e){return e}(function(e){function n(B){return`rgb(${B>>16&255}, ${B>>8&255}, ${B&255})`}e.toStyle=n;function t(B){return"#"+("000000"+B.toString(16)).slice(-6)}e.toHexStyle=t;function r(B){return"0x"+("000000"+B.toString(16)).slice(-6)}e.toHexString=r;function i(B){return`RGB: ${e.toRgb(B).join(", ")}`}e.toRgbString=i;function c(B){return[B>>16&255,B>>8&255,B&255]}e.toRgb=c;function a(B){return[(B>>16&255)/255,(B>>8&255)/255,(B&255)/255]}e.toRgbNormalized=a;function l(B){return parseInt(B.replace("#","0x"))}e.fromHexStyle=l;function d(B){return parseInt(B)}e.fromHexString=d;function w(B,V,fe){return B<<16|V<<8|fe}e.fromRgb=w;function g(B,V,fe){return B*255<<16|V*255<<8|fe*255}e.fromNormalizedRgb=g;function A(B,V){return w(B[V],B[V+1],B[V+2])}e.fromArray=A;function m(B,V){return g(B[V],B[V+1],B[V+2])}e.fromNormalizedArray=m;function F(B){return typeof B=="number"?B:B[0]}e.fromColorListEntry=F;function E(B,V,fe){return V[fe]=B>>16&255,V[fe+1]=B>>8&255,V[fe+2]=B&255,V}e.toArray=E;function p(B,V,fe){return V[fe]=(B>>16&255)/255,V[fe+1]=(B>>8&255)/255,V[fe+2]=(B&255)/255,V}e.toArrayNormalized=p;function P(B,V){return B[0]=V>>16&255,B[1]=V>>8&255,B[2]=V&255,B}e.toVec3=P;function j(B,V){return B[0]=(V>>16&255)/255,B[1]=(V>>8&255)/255,B[2]=(V&255)/255,B}e.toVec3Normalized=j;function O(B,V,fe){const we=B>>16&255,Ie=B>>8&255,Ae=B&255,Fe=V>>16&255,Re=V>>8&255,Ce=V&255,M=we+(Fe-we)*fe,S=Ie+(Re-Ie)*fe,ee=Ae+(Ce-Ae)*fe;return M<<16|S<<8|ee}e.interpolate=O;const Z=In.zero(),G=In.zero();function q(B,V,fe){const we=In.fromColor(Z,B),Ie=In.fromColor(G,V);return In.interpolate(we,we,Ie,fe),In.toColor(we)}e.interpolateHsl=q;function C(B){const V=B>>16&255,fe=B>>8&255,we=B&255;return V!==fe||V!==we}e.hasHue=C;const J=[0,0,0];function D(B,V){return C(B)?(zn.fromColor(J,B),zn.toColor(zn.saturate(J,J,V))):B}e.saturate=D;function W(B,V){return D(B,-V)}e.desaturate=W;const le=[0,0,0];function $(B,V){return cn.fromColor(le,B),cn.toColor(cn.darken(le,le,V))}e.darken=$;function f(B,V){return $(B,-V)}e.lighten=f;function x(B){return B<=.03928?B/12.92:Math.pow((B+.055)/1.055,2.4)}function o(B){const V=x((B>>16&255)/255),fe=x((B>>8&255)/255),we=x((B&255)/255);return .2126*V+.7152*fe+.0722*we}e.luminance=o;function u(B,V){const fe=o(B),we=o(V);return fe>we?(fe+.05)/(we+.05):(we+.05)/(fe+.05)}e.contrast=u;function _(B){return B<.04045?B*.0773993808:Math.pow(B*.9478672986+.0521327014,2.4)}function N(B){return g(_((B>>16&255)/255),_((B>>8&255)/255),_((B&255)/255))}e.sRGBToLinear=N;function L(B){return B<.0031308?B*12.92:1.055*Math.pow(B,.41666)-.055}function Y(B){return g(L((B>>16&255)/255),L((B>>8&255)/255),L((B&255)/255))}e.linearToSRGB=Y})(Xn||(Xn={}));function ke(e,n,t,r){return{label:e,description:t,list:r,type:n}}function Pc(e){return e}function Cc(e,n,t){const r={};for(const i in e){let c=e[i];c=Xn.saturate(c,n),c=Xn.darken(c,-t),r[i]=c}return r}function Sc(e){return e}function Xr(e,n=" "){return e.replace(/([a-z\xE0-\xFF])([A-Z\xC0\xDF])/g,`$1${n}$2`)}function kc(e){return er(Xr(e))}const R0=e=>e.toUpperCase();function Nc(e){return e?typeof e=="string"?e.toUpperCase():`${e}`.toUpperCase():""}function er(e){return e.toLowerCase().replace(/^\w|\s\w/g,R0)}function B0(e){return e.replace(/_/g," ")}function T0(e){return e.replace(/-/g," ")}function Nt(e){return er(Xr(B0(T0(e))))}function Ec(e,n){const t=Object.keys(n),r=Object.values(n);return new Function(...t,`return \`${e}\`;`)(...r)}function qc(e){return e.replace(/<\/?[^>]+>/g,"")}function Rc(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}const un={reds:ke("Reds","sequential","Reds, sequential color scheme from ColorBrewer 2.0",[16774640,16703698,16563105,16552562,16476746,15678252,13309981,10817301,6750221]),oranges:ke("Oranges","sequential","Oranges, sequential color scheme from ColorBrewer 2.0",[16774635,16705230,16634018,16625259,16616764,15821075,14239745,10892803,8333060]),greens:ke("Greens","sequential","Greens, sequential color scheme from ColorBrewer 2.0",[16252149,15070688,13101504,10607003,7652470,4303709,2329413,27948,17435]),blues:ke("Blues","sequential","Blues, sequential color scheme from ColorBrewer 2.0",[16251903,14609399,13032431,10406625,7057110,4362950,2191797,545180,536683]),purples:ke("Purples","sequential","Purples, sequential color scheme from ColorBrewer 2.0",[16579581,15724021,14342891,12369372,10394312,8420794,6967715,5515151,4128893]),greys:ke("Greys","sequential","Greys, sequential color scheme from ColorBrewer 2.0",[16777215,15790320,14277081,12434877,9868950,7566195,5395026,2434341,0]),"orange-red":ke("Orange-Red","sequential","OrRd, sequential color scheme from ColorBrewer 2.0",[16775148,16705736,16635038,16628612,16551257,15689032,14102559,11730944,8323072]),"blue-green":ke("Blue-Green","sequential","BuGn, sequential color scheme from ColorBrewer 2.0",[16252157,15070713,13429990,10082505,6734500,4304502,2329413,27948,17435]),"purple-blue-green":ke("Purple-Blue-Green","sequential","PuBuGn, sequential color scheme from ColorBrewer 2.0",[16775163,15524592,13685222,10927579,6793679,3576e3,164234,93273,83510]),"green-blue":ke("Green-Blue","sequential","GnBu, sequential color scheme from ColorBrewer 2.0",[16252144,14742491,13429701,11066805,8113348,5157843,2854078,551084,540801]),"purple-blue":ke("Purple-Blue","sequential","PuBu, sequential color scheme from ColorBrewer 2.0",[16775163,15525874,13685222,10927579,7645647,3576e3,356528,285325,145496]),"blue-purple":ke("Blue-Purple","sequential","BuPu, sequential color scheme from ColorBrewer 2.0",[16252157,14740724,12571622,10403034,9213638,9202609,8929693,8458108,5046347]),"red-purple":ke("Red-Purple","sequential","RdPu, sequential color scheme from ColorBrewer 2.0",[16775155,16638173,16565696,16424885,16214177,14496919,11403646,7995767,4784234]),"purple-red":ke("Purple-Red","sequential","PuRd, sequential color scheme from ColorBrewer 2.0",[16250105,15196655,13941210,13210823,14640560,15149450,13505110,9961539,6750239]),"yellow-orange-red":ke("Yellow-Orange-Red","sequential","YlOrRd, sequential color scheme from ColorBrewer 2.0",[16777164,16772512,16701814,16691788,16616764,16535082,14883356,12386342,8388646]),"yellow-orange-brown":ke("Yellow-Orange-Brown","sequential","YlOrBr, sequential color scheme from ColorBrewer 2.0",[16777189,16775100,16704401,16696399,16685353,15495188,13388802,10040324,6694150]),"yellow-green":ke("Yellow-Green","sequential","YlGn, sequential color scheme from ColorBrewer 2.0",[16777189,16252089,14282915,11394446,7915129,4303709,2327619,26679,17705]),"yellow-green-blue":ke("Yellow-Green-Blue","sequential","YlGnBu, sequential color scheme from ColorBrewer 2.0",[16777177,15595697,13101492,8375739,4306628,1937856,2252456,2438292,531800]),"red-blue":ke("Red-Blue","diverging","RdBu, diverging color scheme from ColorBrewer 2.0",[6750239,11671595,14049357,16033154,16636871,16250871,13755888,9618910,4428739,2188972,340065]),"red-grey":ke("Red-Grey","diverging","RdGy, diverging color scheme from ColorBrewer 2.0",[6750239,11671595,14049357,16033154,16636871,16777215,14737632,12237498,8882055,5066061,1710618]),"pink-yellow-green":ke("Pink-Yellow-Green","diverging","PiYG, diverging color scheme from ColorBrewer 2.0",[9306450,12917629,14579630,15840986,16638191,16250871,15136208,12116358,8371265,5083681,2581529]),"brown-white-green":ke("Brown-White-Green","diverging","BrBG, diverging color scheme from ColorBrewer 2.0",[5517317,9195786,12550445,14664317,16181443,16119285,13101797,8441281,3512207,91742,15408]),"purple-green":ke("Purple-Green","diverging","PRGn, diverging color scheme from ColorBrewer 2.0",[4194379,7744131,10055851,12756431,15193320,16250871,14282963,10935200,5942881,1800247,17435]),"purple-orange":ke("Purple-Orange","diverging","PuOr, diverging color scheme from ColorBrewer 2.0",[2949195,5515144,8418220,11709394,14211819,16250871,16703670,16627811,14713364,11753478,8338184]),"orange-purple":ke("Orange-Purple","diverging","Reversed PuOr, diverging color scheme from ColorBrewer 2.0",[8338184,11753478,14713364,16627811,16703670,16250871,14211819,11709394,8418220,5515144,2949195]),"red-yellow-green":ke("Red-Yellow-Green","diverging","RdYlGn, diverging color scheme from ColorBrewer 2.0",[10813478,14102567,16018755,16625249,16703627,16777151,14282635,10934634,6733155,1742928,26679]),"red-yellow-blue":ke("Red-Yellow-Blue","diverging","RdYlBu, diverging color scheme from ColorBrewer 2.0",[10813478,14102567,16018755,16625249,16703632,16777151,14742520,11262441,7646673,4552116,3225237]),spectral:ke("Spectral","diverging","Spectral, diverging color scheme from ColorBrewer 2.0",[10355010,13975119,16018755,16625249,16703627,16777151,15136152,11263396,6734501,3311805,6180770]),magma:ke("Magma","sequential","Magma, sequential color scheme from Matplotlib, perceptually uniform shades of black-red-white",[4,131595,328726,591648,920363,1314358,1708098,2167117,2691418,3346535,3870576,4460406,4985210,5510013,5969279,6560384,7019905,7676289,8135554,8660609,9185665,9710720,10235519,10826110,11351164,12007289,12532343,13057395,13516656,14042475,14567784,14962532,15357537,15687006,16017244,16216156,16349533,16483167,16551011,16619112,16686957,16689523,16692347,16694658,16696970,16699282,16701594,16638627,16640940,16577718,16580031]),"magma-no-black":ke("Magma (no black)","sequential","Magma, sequential color scheme from Matplotlib, perceptually uniform shades of black-red-white (with the black region removed)",[4329332,4853881,5378684,5903742,6363263,6888576,7413633,7938689,8463745,8988801,9513600,10038655,10563454,11088508,11613562,12138360,12728949,13254258,13714030,14239338,14699366,15094114,15489119,15753309,16017499,16216411,16350045,16483424,16551523,16619368,16621934,16689780,16692091,16694402,16696969,16633746,16636058,16638371,16575148,16577461,16514239]),inferno:ke("Inferno","sequential","Inferno, sequential color scheme from Matplotlib, perceptually uniform shades of black-red-yellow",[4,131596,328727,657186,1050925,1444665,1969221,2427985,3082843,3737955,4328040,4852843,5377645,5902702,6427502,6952814,7477870,8133997,8659051,9184105,9643623,10168676,10693729,11218782,11743834,12334932,12794703,13254730,13583429,14109502,14504250,14833460,15162926,15427112,15757088,15955993,16154643,16288012,16421383,16489222,16557322,16559634,16497183,16434218,16305463,16176966,16048470,15919721,15921789,16120210,16580516]),"inferno-no-black":ke("Inferno (no black)","sequential","Inferno, sequential color scheme from Matplotlib, perceptually uniform shades of black-red-yellow (with the black region removed)",[4721514,5246316,5771373,6296430,6821486,7346542,7871597,8396651,8921450,9446504,9971557,10496610,10956127,11481435,12006486,12466258,12926285,13386056,13780802,14241085,14570295,14965297,15229227,15558693,15757342,15956248,16154897,16288267,16421638,16489734,16492043,16494612,16496926,16368426,16305463,16111429,15982678,15853928,15856253,16119953,16580260]),plasma:ke("Plasma","sequential","Plasma, sequential color scheme from Matplotlib, perceptually uniform shades of blue-red-yellow",[1771148,2426257,3081365,3671193,4195228,4784799,5308834,5833124,6357158,6815911,7340200,7864744,8324007,8783782,9309348,9769377,10164126,10624154,11018902,11413393,11808141,12137352,12466307,12795519,13124730,13453685,13717361,14046573,14309992,14573668,14837344,15035483,15299159,15497299,15695438,15893834,16091974,16224833,16357693,16425017,16557877,16625457,16627245,16629289,16631334,16567845,16438820,16310052,16115494,15921190,15726625]),viridis:ke("Viridis","sequential","Viridis, sequential color scheme from Matplotlib, perceptually uniform shades of blue-green-yellow",[4524123,4656994,4658793,4726127,4727668,4663929,4599933,4535937,4406404,4276870,4081800,3952010,3822475,3627148,3497356,3302029,3172237,3042446,2912654,2782862,2652814,2523022,2393229,2328973,2198924,2069132,2004874,2005897,2007175,2139525,2337154,2666111,3060348,3520376,4045684,4570991,5227369,5883748,6605661,7392854,8180303,8967495,9819967,10672695,11525166,12443174,13295646,14148121,15000344,15852828,16639780]),cividis:ke("Cividis","sequential","Cividis, sequential color scheme from Matplotlib, perceptually uniform shades of blue-grey-yellow, should look effectively identical to colorblind and non-colorblind users",[8273,9305,10079,76644,339560,668266,1062508,1390957,1916270,2375790,2835566,3295342,3754862,4214638,4543085,5068397,5462638,5856878,6185326,6579567,6908272,7236721,7499890,7828595,8091764,8354933,8617846,8946551,9209463,9472888,9736056,10064760,10327928,10656632,10985591,11379830,11708532,12102770,12497264,12891501,13285994,13745766,14140259,14600287,14994522,15389014,15717970,16046926,16310347,16508232,16640581]),twilight:ke("Twilight","cyclical","Twilight, cyclical color scheme from Matplotlib, perceptually uniform shades of white-blue-black-red-white",[14670305,14211037,13554648,12766675,11847630,10993866,10139847,9351365,8628419,8036290,7509952,7048895,6718653,6519739,6386105,6252470,6184114,6181293,6112935,6044831,5976470,5777291,5447293,5052270,4592479,4067665,3674181,3281211,3150646,3543352,4067644,4657728,5379141,6166345,6953549,7741007,8463184,9120336,9777743,10304079,10830671,11291984,11687762,12083541,12348505,12613471,12878439,13077872,13211771,13411209,13545111,13809830,14074293,14338756,14537169,14735067,14801121]),"set-2":ke("Set-2","qualitative","Set2, categorical color scheme from ColorBrewer 2.0",[6734501,16551266,9281739,15174339,10934356,16767279,15058068,11776947]),accent:ke("Accent","qualitative","Accent, categorical color scheme from ColorBrewer 2.0",[8374655,12496596,16629894,16777113,3697840,15729279,12540695,6710886]),"set-1":ke("Set-1","qualitative","Set1, categorical color scheme from ColorBrewer 2.0",[14948892,3636920,5091146,9981603,16744192,16777011,10901032,16220607,10066329]),"set-3":ke("Set-3","qualitative","Set3, categorical color scheme from ColorBrewer 2.0",[9294791,16777139,12499674,16482418,8434131,16626786,11787881,16567781,14277081,12353725,13429701,16772463]),"dark-2":ke("Dark-2","qualitative","Dark2, categorical color scheme from ColorBrewer 2.0",[1810039,14245634,7696563,15149450,6727198,15117058,10909213,6710886]),paired:ke("Paired","qualitative","Paired, categorical color scheme from ColorBrewer 2.0",[10931939,2062516,11722634,3383340,16489113,14883356,16629615,16744192,13284054,6962586,16777113,11622696]),"pastel-2":ke("Pastel-2","qualitative","Pastel2, categorical color scheme from ColorBrewer 2.0",[11789005,16633260,13358568,16042724,15136201,16773806,15852236,13421772]),"pastel-1":ke("Pastel-1","qualitative","Pastel1, categorical color scheme from ColorBrewer 2.0",[16495790,11783651,13429701,14601188,16701862,16777164,15063229,16636652,15921906]),turbo:ke("Turbo","sequential","Turbo color scheme from D3.js, improved (smooth) rainbow colormap for visualization",[2299675,3547990,4337541,4799658,4934343,4872413,4613867,4289780,3900152,3510520,3120629,2796271,2602726,2474716,2477264,2611140,2875575,3270826,3731101,4387984,5109892,5897080,6815085,7798371,8781145,9829201,10811209,11858498,12774460,13755446,14605618,15389486,16042283,16563496,16757029,16753699,16750369,16746782,16743196,16608538,16146200,15487253,14763026,13973263,13052940,12198408,11344133,10621442,9965056,9571328,9440256]),"turbo-no-black":ke("Turbo (no black)","sequential","Turbo color scheme from D3.js, improved (smooth) rainbow colormap for visualization, with black region removed",[4866485,4872413,4354034,3770361,3120629,2667241,2475736,2611140,3073454,3928216,5109892,6487408,8126047,9829201,11531332,13167162,14605618,15780908,16693543,16753699,16748063,16741916,16146200,15026195,13644558,12198408,10818563,9833728]),warm:ke("Warm","sequential","Warm, sequential color scheme from D3.js",[7225514,7684013,8208303,8797873,9322162,9846195,10370483,10960051,11484338,12008625,12532911,13057452,13581737,14040742,14434210,14959005,15352473,15746196,16074382,16402824,16665475,16731772,16732790,16733808,16734826,16735843,16737117,16738135,16739409,16740939,16742471,16743746,16745277,16747065,16748598,16487987,16162097,15901743,15575598,15184174,14858031,14466608,14140466,13748788,13422648,13030972,12704833,12378438,12052044,11791187,11530331]),cool:ke("Cool","sequential","Cool, sequential color scheme from D3.js",[7225514,7095217,6899639,6769597,6574275,6313160,6117837,5856977,5596117,5335513,5009115,4748510,4422368,4161761,3835361,3575009,3314401,3053791,2793438,2598363,2337752,2208213,2013137,1883340,1819335,1755074,1691068,1692086,1758640,1825706,1957795,2155164,2352790,2615695,2878601,3207042,3600764,3994230,4453489,4912492,5437031,5961315,6551391,7140956,7730778,8386136,8975703,9630807,10285911,10940761,11530331]),"cubehelix-default":ke("CubehelixDefault","sequential","CubehelixDefault, sequential color scheme from D3.js",[0,525064,984594,1313308,1576742,1709360,1776697,1712705,1649479,1520715,1457486,1394254,1396557,1529674,1662534,2057794,2518076,3109175,3765555,4618288,5536047,6519343,7568178,8550967,9599551,10516809,11368789,12155235,12745329,13270146,13663891,13861539,13928371,13929921,13800654,13606106,13411811,13217514,12957935,12829170,12700403,12768243,12835826,13099761,13428976,13823727,14349039,14939888,15530483,16186616,16777215]),rainbow:ke("Rainbow","cyclical","Rainbow, cyclical color scheme from D3.js",[7225514,8208303,9322162,10370483,11484338,12532911,13581737,14434210,15352473,16074382,16665475,16732790,16734826,16737117,16739409,16742471,16745277,16748598,16162097,15575598,14858031,14140466,13422648,12704833,12052044,11530331,10285911,8975703,7730777,6485855,5437031,4453489,3600764,2878601,2352790,1957795,1758896,1691068,1819335,2013137,2337752,2793438,3314401,3835617,4422368,5009115,5596117,6117837,6574275,6899639,7225514]),sinebow:ke("Sinebow","cyclical","Sinebow, cyclical color scheme from D3.js",[16728128,16666162,16473382,16149788,15695122,15174923,14458117,13740802,12892928,11978752,10999043,9953287,8972813,7860757,6879262,5831722,4849463,3931972,3079507,2357858,1635442,1109378,648082,317858,118193,49087,111053,303833,561890,1081837,1602292,2319098,3036157,3884287,4798463,5778172,6823928,7804402,8916458,9897952,10945493,11927752,12845243,13697708,14419357,15141773,15667837,16129133,16459357,16659022,16728128]),"category-10":ke("Category10","qualitative","Category10, categorical color scheme from D3.js / tab10 from Matplotlib (default in Matplotlib)",[2062260,16744206,2924588,14034728,9725885,9197131,14907330,8355711,12369186,1556175]),"observable-10":ke("Observable10","qualitative","Observable10, categorical color scheme from D3.js",[4352464,15708440,16740956,7128496,3975505,16747191,10773490,9944053,10251086,9738400]),"tableau-10":ke("Tableau10","qualitative","Tableau10, categorical color scheme from D3.js",[5142951,15896108,14767961,7780274,5873999,15583561,11500193,16752039,10253663,12234923]),"simple-rainbow":ke("Simple rainbow","sequential","Simple 5-color rainbow (blue-green-yellow-orange-red)",[3367393,3516485,16383744,15501073,12526114]),"red-white-blue":ke("Red-White-Blue","diverging","Diverging color scheme with red-white-blue",[12526114,16777215,3367393]),"many-distinct":ke("Many-Distinct","qualitative","Customized color scheme combining colors from multiple standard schemes (Dark2, Set1, Set2)",[1810039,14245634,7696563,15149450,6727198,15117058,10909213,6710886,14948892,3636920,5091146,9981603,16744192,16777011,10901032,16220607,10066329,6734501,16551266,9281739,15174339,10934356,16767279,15058068,11776947])},j0=Object.keys(un),Yr=j0.map(e=>[e,un[e].label,er(un[e].type),un[e].description]),Bc=Yr.filter(e=>un[e[0]].type==="sequential"||un[e[0]].type==="diverging"||un[e[0]].type==="cyclical"),Tc=Yr.filter(e=>un[e[0]].type==="qualitative");function F0(e){return e in un?un[e]:(console.warn(`unknown color list named '${e}'`),un["red-yellow-blue"])}function jc(e,n){for(let t=0,r=e.length;t<r;t++)if(n(e[t]))return e[t]}function Jr(e){if(Array.from)return Array.from(e);const n=[];for(;;){const{done:t,value:r}=e.next();if(t)break;n[n.length]=r}return n}function ar(e,n,t){const r=n-e+1,i=new Int32Array(r);for(let c=0;c<r;c++)i[c]=c+e;return i}function Fc(e,n){const t=new($0(e))(n.length);for(let r=0,i=n.length;r<i;r++)t[r]=e[n[r]];return t}function $0(e){const n=e.constructor;if(!n)throw new Error("data does not define a constructor and it should");return n}function $c(e){let n=e^e>>4;return n=(n^3735928559)+(n<<5),n=n^n>>11,n}function O0(e,n){let t=23;return t=31*t+e|0,t=31*t+n|0,t=t^t>>4,t=(t^3735928559)+(t<<5),t=t^t>>11,t}function L0(e,n,t){let r=23;return r=31*r+e|0,r=31*r+n|0,r=31*r+t|0,r=r^r>>4,r=(r^3735928559)+(r<<5),r=r^r>>11,r}function U0(e,n,t,r){let i=23;return i=31*i+e|0,i=31*i+n|0,i=31*i+t|0,i=31*i+r|0,i=i^i>>4,i=(i^3735928559)+(i<<5),i=i^i>>11,i}function Oc(e){let n=0;for(let t=0,r=e.length;t<r;t++)n=(n<<5)-n+e.charCodeAt(t)|0;return n}function fr(e,n){return(e+n)*(e+n+1)/2+n}function Lc(e,n){return e<n?fr(e,n):fr(n,e)}function Uc(e,n){const t=Math.floor((Math.sqrt(8*n+1)-1)/2),r=(t*t+t)/2,i=n-r;return e[0]=t-i,e[1]=i,e}function Gc(e){let n=2166136261;for(let t=0,r=e.length;t<r;++t)n^=e[t],n+=(n<<1)+(n<<4)+(n<<7)+(n<<8)+(n<<24);return n>>>0}class G0{constructor(){this.hashTarget=new Uint32Array(8),this.numberBytes=new Uint8Array(8),this.numberView=new DataView(this.numberBytes.buffer)}hash(n){return this.hashTarget.set(Z0),this.hashValue(n,0),Y0(this.hashTarget)}hashValue(n,t){if(t>50)return;const r=typeof n;switch(this.addByte(r.charCodeAt(0)),r){case"string":this.addString(n);break;case"number":this.addNumber(n);break;case"boolean":this.addByte(n?1:0);break;case"object":n===null?this.addByte(0):Array.isArray(n)?this.addArray(n,t):this.addObject(n,t);break;case"undefined":this.addByte(255);break}}addByte(n){this.hashTarget[0]^=n&255,D0(this.hashTarget)}addString(n){for(let t=0;t<n.length;t++){const r=n.charCodeAt(t);r<128?this.addByte(r):r<2048?(this.addByte(192|r>>6),this.addByte(128|r&63)):(this.addByte(224|r>>12),this.addByte(128|r>>6&63),this.addByte(128|r&63))}}addNumber(n){if(Number.isNaN(n))this.addByte(127),this.addByte(192),this.addByte(0),this.addByte(0),this.addByte(0),this.addByte(0),this.addByte(0),this.addByte(0);else if(!Number.isFinite(n))n>0?(this.addByte(127),this.addByte(128),this.addByte(0),this.addByte(0)):(this.addByte(255),this.addByte(128),this.addByte(0),this.addByte(0)),this.addByte(0),this.addByte(0),this.addByte(0),this.addByte(0);else{this.numberView.setFloat64(0,n,!1);for(let t=0;t<8;t++)this.addByte(this.numberBytes[t])}}addArray(n,t){this.addNumber(n.length);for(let r=0;r<n.length;r++)this.addNumber(r),this.hashValue(n[r],t+1)}addObject(n,t){const r=Object.keys(n).sort();this.addNumber(r.length);for(const i of r)this.addString(i),this.hashValue(n[i],t+1)}}new G0;const Z0=new Uint32Array([1818371886,129696066,1656234357,1653982605,383153456,3715178979,3004645376,256]),yn=new Uint32Array(8),wn=new Uint32Array(8);function D0(e){yn[0]=0,yn[1]=0,yn[2]=e[0]<<24,yn[3]=e[0]>>>8|e[1]<<24,yn[4]=e[1]>>>8|e[2]<<24,yn[5]=e[2]>>>8|e[3]<<24,yn[6]=e[3]>>>8|e[4]<<24,yn[7]=e[4]>>>8|e[5]<<24,wn[0]=e[0]<<8,wn[1]=e[0]>>>24|e[1]<<8,wn[2]=e[1]>>>24|e[2]<<8,wn[3]=e[2]>>>24|e[3]<<8,wn[4]=e[3]>>>24|e[4]<<8,wn[5]=e[4]>>>24|e[5]<<8,wn[6]=e[5]>>>24|e[6]<<8,wn[7]=e[6]>>>24|e[7]<<8;let n=0;for(let t=0;t<8;t++){const r=e[t]*59+n;e[t]=r>>>0,n=Math.floor(r/4294967296)}n=0;for(let t=0;t<8;t++){const r=e[t]+yn[t]+wn[t]+n;e[t]=r>>>0,n=r>=4294967296?1:0}}const H0=["00000000","0000000","000000","00000","0000","000","00","0"];function X0(e){const n=e.toString(16);return n.length>=8?n:H0[n.length]+n}function Y0(e){let n="";for(let t=7;t>=0;t--)n+=X0(e[t]);return n}function Zc(e,n=42){const t=JSON.stringify(e);return J0(t,n)}function J0(e,n){let t=n>>>0,r=n>>>0,i=n>>>0,c=n>>>0;const a=e.length%16,l=e.length-a;for(let m=0;m<l;m+=16){let F=e.charCodeAt(m)&255|(e.charCodeAt(m+1)&255)<<8|(e.charCodeAt(m+2)&255)<<16|(e.charCodeAt(m+3)&255)<<24,E=e.charCodeAt(m+4)&255|(e.charCodeAt(m+5)&255)<<8|(e.charCodeAt(m+6)&255)<<16|(e.charCodeAt(m+7)&255)<<24,p=e.charCodeAt(m+8)&255|(e.charCodeAt(m+9)&255)<<8|(e.charCodeAt(m+10)&255)<<16|(e.charCodeAt(m+11)&255)<<24,P=e.charCodeAt(m+12)&255|(e.charCodeAt(m+13)&255)<<8|(e.charCodeAt(m+14)&255)<<16|(e.charCodeAt(m+15)&255)<<24;F=Math.imul(F,597399067),F=F<<15|F>>>17,F=Math.imul(F,2869860233),t^=F,t=t<<19|t>>>13,t+=r,t=Math.imul(t,5)+1444728091,E=Math.imul(E,2869860233),E=E<<16|E>>>16,E=Math.imul(E,951274213),r^=E,r=r<<17|r>>>15,r+=i,r=Math.imul(r,5)+197830471,p=Math.imul(p,951274213),p=p<<17|p>>>15,p=Math.imul(p,2716044179),i^=p,i=i<<15|i>>>17,i+=c,i=Math.imul(i,5)+2530024501,P=Math.imul(P,2716044179),P=P<<13|P>>>19,P=Math.imul(P,597399067),c^=P,c=c<<13|c>>>19,c+=t,c=Math.imul(c,5)+850148119}let d=0,w=0,g=0,A=0;switch(a){case 15:A^=e.charCodeAt(l+14)<<16;case 14:A^=e.charCodeAt(l+13)<<8;case 13:A^=e.charCodeAt(l+12),A=Math.imul(A,2716044179),A=A<<13|A>>>19,A=Math.imul(A,597399067),c^=A;case 12:g^=e.charCodeAt(l+11)<<24;case 11:g^=e.charCodeAt(l+10)<<16;case 10:g^=e.charCodeAt(l+9)<<8;case 9:g^=e.charCodeAt(l+8),g=Math.imul(g,951274213),g=g<<17|g>>>15,g=Math.imul(g,2716044179),i^=g;case 8:w^=e.charCodeAt(l+7)<<24;case 7:w^=e.charCodeAt(l+6)<<16;case 6:w^=e.charCodeAt(l+5)<<8;case 5:w^=e.charCodeAt(l+4),w=Math.imul(w,2869860233),w=w<<16|w>>>16,w=Math.imul(w,951274213),r^=w;case 4:d^=e.charCodeAt(l+3)<<24;case 3:d^=e.charCodeAt(l+2)<<16;case 2:d^=e.charCodeAt(l+1)<<8;case 1:d^=e.charCodeAt(l),d=Math.imul(d,597399067),d=d<<15|d>>>17,d=Math.imul(d,2869860233),t^=d}return t^=e.length,r^=e.length,i^=e.length,c^=e.length,t+=r,t+=i,t+=c,r+=t,i+=t,c+=t,t^=t>>>16,t=Math.imul(t,2246822507),t^=t>>>13,t=Math.imul(t,3266489909),t^=t>>>16,r^=r>>>16,r=Math.imul(r,2246822507),r^=r>>>13,r=Math.imul(r,3266489909),r^=r>>>16,i^=i>>>16,i=Math.imul(i,2246822507),i^=i>>>13,i=Math.imul(i,3266489909),i^=i>>>16,c^=c>>>16,c=Math.imul(c,2246822507),c^=c>>>13,c=Math.imul(c,3266489909),c^=c>>>16,t+=r,t+=i,t+=c,r+=t,i+=t,c+=t,(t>>>0).toString(16).padStart(8,"0")+(r>>>0).toString(16).padStart(8,"0")+(i>>>0).toString(16).padStart(8,"0")+(c>>>0).toString(16).padStart(8,"0")}class Dc{constructor(n=26699){this.state=n>>>0}int(){const n=this.state;this.state=Math.imul(this.state,1664525)+1013904223,this.state=this.state>>>0;const t=(n>>>18^n)>>>5,r=n>>>27;return(t>>>r|t<<32-r)>>>0}float(){return this.int()/4294967296}}function gt(e,n,t){return e[n]-e[t]}function et(e,n,t){const r=e[n];e[n]=e[t],e[t]=r}function Wr(e,n,t,r){const i=t+r>>1;return n(e,t,r)>0?n(e,t,i)>0?n(e,i,r)>0?i:r:t:n(e,r,i)>0?n(e,i,t)>0?i:t:r}function W0(e,n,t){const{cmp:r,swap:i,data:c,parts:a}=e;let l=n+1,d=t;for(i(c,n,Wr(c,r,n,t));r(c,d,n)>0;)--d;for(let w=n+1;w<=d;w++){const g=r(c,w,n);if(g>0){for(i(c,w,d),--d;r(c,d,n)>0;)--d;w--}else g===0&&(i(c,w,l),l++)}for(let w=n;w<l;w++)i(c,w,n+d-w);a[0]=d-l+n+1,a[1]=d}function K0({data:e,cmp:n,swap:t},r,i){for(let c=r+1;c<=i;c++){let a=c-1;for(;a>=r&&n(e,a,a+1)>0;)t(e,a,a+1),a=a-1}}function pt(e,n,t){const{parts:r}=e;for(;n<t;){if(t-n<16){K0(e,n,t);return}W0(e,n,t);const i=r[0],c=r[1];i-n<t-c?(pt(e,n,i-1),n=c+1):(pt(e,c+1,t),t=i-1)}}function V0(e,n,t,r){let i=t+1,c=r;et(e,t,Wr(e,gt,t,r));const a=e[t];for(;e[c]>a;)--c;for(let l=t+1;l<=c;l++){const d=e[l];if(d>a){for(et(e,l,c),--c;e[c]>a;)--c;l--}else d===a&&(et(e,l,i),++i)}for(let l=t;l<i;l++)et(e,l,t+c-l);n[0]=c-i+t+1,n[1]=c}function Q0(e,n,t){for(let r=n+1;r<=t;r++){const i=e[r];let c=r-1;for(;c>=n&&e[c]>i;)e[c+1]=e[c],c=c-1;e[c+1]=i}}function Ut(e,n,t,r){for(;t<r;){if(r-t<16){Q0(e,t,r);return}V0(e,n,t,r);const i=n[0],c=n[1];i-t<r-c?(Ut(e,n,t,i-1),t=c+1):(Ut(e,n,c+1,r),r=i-1)}}function e1(e,n=gt){return n1(e,0,e.length,n)}function n1(e,n,t,r=gt){return r===gt?Ut(e,[0,0],n,t-1):pt({data:e,cmp:r,swap:et,parts:[0,0]},n,t-1),e}function Hc(e,n,t,r,i){return pt({data:e,cmp:r,swap:i,parts:[0,0]},n,t-1),e}var Xe;(function(e){e.Zero=0;const{_int32:n,_float64:t,_int32_1:r,_float64_1:i}=function(){const p=new ArrayBuffer(8),P=new ArrayBuffer(8);return{_int32:new Int32Array(p),_float64:new Float64Array(p),_int32_1:new Int32Array(P),_float64_1:new Float64Array(P)}}();function c(p){return typeof p=="number"}e.is=c;function a(p,P){return n[0]=p,n[1]=P,t[0]}e.create=a;function l(p){return t[0]=p,n[1]-n[0]}e.diff=l;function d(p){return t[0]=p,n[0]}e.fst=d;function w(p){return t[0]=p,n[1]}e.snd=w;function g(p,P){return t[0]=p,i[0]=P,n[0]===r[0]&&n[1]===r[1]}e.areEqual=g;function A(p,P){t[0]=p,i[0]=P;const j=n[0]-r[0];return j!==0?j:n[1]-r[1]}e.compare=A;function m(p,P,j){t[0]=p[P],i[0]=p[j];const O=n[0]-r[0];return O!==0?O:n[1]-r[1]}e.compareInArray=m;function F(p){return t[0]=p,O0(n[0],n[1])}e.hashCode=F;function E(p){return t[0]=p,`(${n[0]}, ${n[1]})`}e.toString=E})(Xe||(Xe={}));const Kr=Xe.Zero;function lr(e,n){return n<e?Xe.create(e,e):Xe.create(e,n+1)}function nr(e,n){return n<=e?Xe.create(e,e):Xe.create(e,n)}function t1(e){return e<0?Xe.create(0,0):Xe.create(0,e)}const r1=Xe.is,pn=Xe.fst,Pn=Xe.snd,bt=Xe.fst;function yt(e){return Xe.snd(e)-1}const On=Xe.diff,i1=Xe.hashCode,s1=Xe.toString;function c1(e,n){return Xe.fst(e)<=n&&n<Xe.snd(e)}function o1(e,n){const t=pn(e);return n>=t&&n<Pn(e)?n-t:-1}function a1(e,n){return Xe.fst(e)+n}const f1=Xe.areEqual;function Vr(e,n){const t=On(e),r=On(n);return t===0&&r===0?!0:t>0&&r>0&&yt(e)>=bt(n)&&bt(e)<=yt(n)}function l1(e,n){return On(e)?On(n)?pn(e)<=pn(n)&&Pn(e)>=Pn(n):!0:On(n)===0}function Gt(e,n){const t=pn(e);if(n<=t)return 0;const r=Pn(e);return n>=r?r-t:n-t}function u1(e,n,t){const r=pn(t),i=pn(e);if(n<=r+i)return r;const c=Pn(t);return n>=c+i?c:n-i}function Qr(e,n,t){return nr(Gt(e,n),Gt(e,t+1))}function d1(e,n){return Vr(e,n)?nr(Math.max(pn(e),pn(n)),Math.min(Pn(e),Pn(n))):Kr}function h1(e,n){return On(Qr(e,bt(n),yt(n)))}function x1(e,n){return Xe.create(pn(e)+n,Pn(e)+n)}var te;(function(e){e.Empty=Kr,e.ofSingleton=n=>lr(n,n),e.ofRange=lr,e.ofBounds=nr,e.ofLength=t1,e.is=r1,e.has=c1,e.indexOf=o1,e.getAt=a1,e.start=pn,e.end=Pn,e.min=bt,e.max=yt,e.size=On,e.hashCode=i1,e.toString=s1,e.areEqual=f1,e.areIntersecting=Vr,e.isSubInterval=l1,e.findPredecessorIndex=Gt,e.findPredecessorIndexInInterval=u1,e.findRange=Qr,e.intersectionSize=h1,e.intersect=d1,e.offset=x1})(te||(te={}));const ot=[];function m1(e){return[e]}function g1(e){return e}function p1(e){return e1(e),e}function ur(e,n){if(n<e)return[];const t=new Int32Array(n-e+1);for(let r=e;r<=n;r++)t[r-e]=r;return t}function b1(e){return e&&(Array.isArray(e)||!!e.buffer)}function e0(e){return e[e.length-1]-e[0]+1===e.length}function Zt(e){return e[0]}function Dt(e){return e[e.length-1]+1}function y1(e){return e[0]}function w1(e){return e[e.length-1]}function n0(e){return e.length}function M1(e){const n=e.length;return n?n>2?U0(n,e[0],e[n-1],e[n>>1]):L0(n,e[0],e[n-1]):0}function _1(e){const n=e.length;return n>5?`[${e[0]}, ${e[1]}, ..., ${e[n-1]}], length ${n}`:`[${e.join(", ")}]`}function t0(e,n){const t=e.length;return t===0?-1:e[0]<=n&&n<=e[t-1]?s0(e,n,0,t):-1}function I1(e,n,t){return r0(e,n,te.start(t),te.end(t))}function r0(e,n,t,r){return e.length===0||r<=t?-1:e[t]<=n&&n<=e[r-1]?s0(e,n,t,r):-1}function v1(e,n){return t0(e,n)>=0}function i0(e,n){if(e===n)return!0;let t=e.length;if(t!==n.length||e[0]!==n[0]||e[t-1]!==n[t-1])return!1;if(e0(e))return!0;t--;for(let r=1;r<t;r++)if(e[r]!==n[r])return!1;return!0}function Fn(e,n){return c0(e,n,0,e.length)}function A1(e,n,t){return c0(e,n,te.start(t),te.end(t))}function z1(e,n,t){return te.ofBounds(Fn(e,n),Fn(e,t+1))}function s0(e,n,t,r){let i=t,c=r-1;for(;i<=c;){if(i+11>c){for(let d=i;d<=c;d++)if(n===e[d])return d;return-1}const a=i+c>>1,l=e[a];if(n<l)c=a-1;else if(n>l)i=a+1;else return a}return-1}function c0(e,n,t,r){if(t===r||e[t]>=n)return t;if(e[r-1]<n)return r;let i=t,c=r;for(;c-i>4;){const a=i+c>>1;e[a]>=n?c=a:i=a+1}for(let a=i;a<c;a++)if(e[a]>=n)return a;return c}function P1(e,n){if(e===n)return!0;let{startI:t,startJ:r,endI:i,endJ:c}=Un(e,n);for(;t<i&&r<c;){const a=e[t],l=n[r];if(a<l)t++;else if(a>l)r++;else return!0}return!1}function C1(e,n){if(e===n)return!0;const t=n.length;let{startI:r,startJ:i,endI:c,endJ:a}=Un(e,n);if(a-i<t||c-r<t)return!1;let l=0;for(;r<c&&i<a;){const d=e[r],w=n[i];d<w?r++:d>w?i++:(r++,i++,l++)}return l===t}function o0(e,n){if(e===n)return e;const t=e.length,r=n.length;if(t===0)return n;if(r===0)return e;if(e[0]>n[0])return o0(n,e);const{startI:i,startJ:c,endI:a,endJ:l}=Un(e,n),d=tr(e,n,i,c,a,l);if(d===t&&d===r||d===r)return e;if(d===t)return n;const w=new Int32Array(t+r-d);let g=0,A=0,m=0;for(g=0;g<i;g++)w[m++]=e[g];for(;A<l&&e[i]>n[A];)w[m++]=n[A++];for(;g<a&&A<l;){const F=e[g],E=n[A];F<E?(w[m++]=F,g++):F>E?(w[m++]=E,A++):(w[m++]=F,g++,A++)}for(;g<a;g++)w[m++]=e[g];for(;A<l;A++)w[m++]=n[A];for(;g<t;g++)w[m++]=e[g];for(;A<r;A++)w[m++]=n[A];return w}function S1(e,n){if(e===n)return n0(e);const{startI:t,startJ:r,endI:i,endJ:c}=Un(e,n);return tr(e,n,t,r,i,c)}function tr(e,n,t,r,i,c){let a=t,l=r,d=0;for(;a<i&&l<c;){const w=e[a],g=n[l];w<g?a++:w>g?l++:(a++,l++,d++)}return d}function k1(e,n){if(e===n)return e;const{startI:t,startJ:r,endI:i,endJ:c}=Un(e,n),a=tr(e,n,t,r,i,c),l=e.length,d=n.length;if(!a)return ot;if(a===l&&a===d||a===d)return n;if(a===l)return e;const w=new Int32Array(a);let g=0,A=t,m=r;for(;A<i&&m<c;){const F=e[A],E=n[m];F<E?A++:(F>E||(w[g++]=F,A++),m++)}return w}function N1(e,n){if(e===n)return ot;const t=e.length,{startI:r,startJ:i,endI:c,endJ:a}=Un(e,n);let l=r,d=i,w=0;for(;l<c&&d<a;){const m=e[l],F=n[d];m<F?l++:m>F?d++:(l++,d++,w++)}if(!w)return e;if(w>=t)return ot;const g=new Int32Array(t-w);let A=0;for(let m=0;m<r;m++)g[A++]=e[m];for(l=r,d=i;l<c&&d<a;){const m=e[l],F=n[d];m<F?(g[A++]=m,l++):(m>F||l++,d++)}for(;l<t;l++)g[A++]=e[l];return g}function E1(e){if(e.length<2)return e;let n=1;for(let i=0,c=e.length-1;i<c;i++)e[i]!==e[i+1]&&n++;if(n===e.length)return e;const t=new Int32Array(n);let r=0;for(let i=0,c=e.length-1;i<c;i++)e[i]!==e[i+1]&&(t[r++]=e[i]);return t[r]=e[e.length-1],t}function q1(e,n){if(i0(e,n))return ar(0,e.length-1);const{startI:t,startJ:r,endI:i,endJ:c}=Un(e,n);let a=t,l=r,d=0;for(;a<i&&l<c;){const m=e[a],F=n[l];m<F?a++:m>F?l++:(a++,l++,d++)}const w=e.length;if(!d)return ot;if(d===w)return ar(0,e.length-1);const g=new Int32Array(d);let A=0;for(a=t,l=r;a<i&&l<c;){const m=e[a],F=n[l];m<F?a++:(m>F||(g[A++]=a,a++),l++)}return g}const Mn={startI:0,startJ:0,endI:0,endJ:0};function Un(e,n){const t=e.length,r=n.length,i=t/r;return t>=128||r>=128||i<=.34||i>=2.99?(Mn.startI=Fn(e,Zt(n)),Mn.startJ=Fn(n,Zt(e)),Mn.endI=Fn(e,Dt(n)),Mn.endJ=Fn(n,Dt(e))):(Mn.startI=0,Mn.startJ=0,Mn.endI=t,Mn.endJ=r),Mn}var Oe;(function(e){e.Empty=ot,e.ofUnsortedArray=p1,e.ofSingleton=m1,e.ofSortedArray=g1,e.ofRange=ur,e.ofBounds=(n,t)=>ur(n,t-1),e.is=b1,e.isRange=e0,e.has=v1,e.indexOf=t0,e.indexOfInInterval=I1,e.indexOfInRange=r0,e.start=Zt,e.end=Dt,e.min=y1,e.max=w1,e.size=n0,e.hashCode=M1,e.toString=_1,e.areEqual=i0,e.areIntersecting=P1,e.isSubset=C1,e.union=o0,e.intersect=k1,e.subtract=N1,e.findPredecessorIndex=Fn,e.findPredecessorIndexInInterval=A1,e.findRange=z1,e.intersectionSize=S1,e.deduplicate=E1,e.indicesOf=q1})(Oe||(Oe={}));function wt(){return wt.zero()}(function(e){function n(){const f=[.1,0];return f[0]=0,f}e.zero=n;function t(f){const x=n();return x[0]=f[0],x[1]=f[1],x}e.clone=t;function r(f){return c(f.x,f.y)}e.fromObj=r;function i(f){return{x:f[0],y:f[1]}}e.toObj=i;function c(f,x){const o=n();return o[0]=f,o[1]=x,o}e.create=c;function a(f){return Number.isNaN(f[0])||Number.isNaN(f[1])}e.hasNaN=a;function l(f,x,o){return x[o+0]=f[0],x[o+1]=f[1],x}e.toArray=l;function d(f,x,o){return f[0]=x[o+0],f[1]=x[o+1],f}e.fromArray=d;function w(f,x){return f[0]=x[0],f[1]=x[1],f}e.copy=w;function g(f,x,o){return f[0]=x,f[1]=o,f}e.set=g;function A(f,x,o){return f[0]=x[0]+o[0],f[1]=x[1]+o[1],f}e.add=A;function m(f,x,o){return f[0]=x[0]-o[0],f[1]=x[1]-o[1],f}e.sub=m;function F(f,x,o){return f[0]=x[0]*o[0],f[1]=x[1]*o[1],f}e.mul=F;function E(f,x,o){return f[0]=x[0]/o[0],f[1]=x[1]/o[1],f}e.div=E;function p(f,x,o){return f[0]=x[0]*o,f[1]=x[1]*o,f}e.scale=p;function P(f,x){return f[0]=Math.round(x[0]),f[1]=Math.round(x[1]),f}e.round=P;function j(f,x){return f[0]=Math.ceil(x[0]),f[1]=Math.ceil(x[1]),f}e.ceil=j;function O(f,x){return f[0]=Math.floor(x[0]),f[1]=Math.floor(x[1]),f}e.floor=O;function Z(f,x){const o=x[0]-f[0],u=x[1]-f[1];return Math.sqrt(o*o+u*u)}e.distance=Z;function G(f,x){const o=x[0]-f[0],u=x[1]-f[1];return o*o+u*u}e.squaredDistance=G;function q(f){const x=f[0],o=f[1];return Math.sqrt(x*x+o*o)}e.magnitude=q;function C(f){const x=f[0],o=f[1];return x*x+o*o}e.squaredMagnitude=C;function J(f,x,o){return p(f,W(f,x),o)}e.setMagnitude=J;function D(f,x){return f[0]=1/x[0],f[1]=1/x[1],f}e.inverse=D;function W(f,x){const o=x[0],u=x[1];let _=o*o+u*u;return _>0&&(_=1/Math.sqrt(_),f[0]=x[0]*_,f[1]=x[1]*_),f}e.normalize=W;function le(f,x){return f[0]===x[0]&&f[1]===x[1]}e.areEqual=le;function $(f,x){return`[${f[0].toPrecision(x)} ${f[1].toPrecision(x)}}]`}e.toString=$})(wt||(wt={}));const De=1e-6;function Je(e,n,t){return Math.abs(e-n)<=t}function Cn(){return Cn.zero()}(function(e){function n(){const M=[.1,0,0,0,0,0,0,0,0];return M[0]=0,M}e.zero=n;function t(){const M=n();return M[0]=1,M[1]=0,M[2]=0,M[3]=0,M[4]=1,M[5]=0,M[6]=0,M[7]=0,M[8]=1,M}e.identity=t;function r(M){return M[0]=1,M[1]=0,M[2]=0,M[3]=0,M[4]=1,M[5]=0,M[6]=0,M[7]=0,M[8]=1,M}e.setIdentity=r;function i(M,S,ee){return S[ee+0]=M[0],S[ee+1]=M[1],S[ee+2]=M[2],S[ee+3]=M[3],S[ee+4]=M[4],S[ee+5]=M[5],S[ee+6]=M[6],S[ee+7]=M[7],S[ee+8]=M[8],S}e.toArray=i;function c(M,S,ee){return M[0]=S[ee+0],M[1]=S[ee+1],M[2]=S[ee+2],M[3]=S[ee+3],M[4]=S[ee+4],M[5]=S[ee+5],M[6]=S[ee+6],M[7]=S[ee+7],M[8]=S[ee+8],M}e.fromArray=c;function a(M,S,ee,ze){return M[0]=S[0],M[1]=S[1],M[2]=S[2],M[3]=ee[0],M[4]=ee[1],M[5]=ee[2],M[6]=ze[0],M[7]=ze[1],M[8]=ze[2],M}e.fromColumns=a;function l(M,S){return M[0]=S[0],M[1]=S[1],M[2]=S[2],M[3]=S[4],M[4]=S[5],M[5]=S[6],M[6]=S[8],M[7]=S[9],M[8]=S[10],M}e.fromMat4=l;const d=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];function w(M,S,ee){return be.fromEuler(d,S,ee),l(M,d)}e.fromEuler=w;function g(M,S,ee){return be.fromRotation(d,S,ee),l(M,d)}e.fromRotation=g;function A(M,S,ee,ze,k,U,ie,se,z){const I=n();return I[0]=M,I[1]=S,I[2]=ee,I[3]=ze,I[4]=k,I[5]=U,I[6]=ie,I[7]=se,I[8]=z,I}e.create=A;const m=t();function F(M,S){return P(M,m,typeof S>"u"?De:S)}e.isIdentity=F;function E(M){for(let S=0;S<9;S++)if(Number.isNaN(M[S]))return!0;return!1}e.hasNaN=E;function p(M){return Z(n(),M)}e.clone=p;function P(M,S,ee){for(let ze=0;ze<9;ze++)if(Math.abs(M[ze]-S[ze])>ee)return!1;return!0}e.areEqual=P;function j(M,S,ee,ze){M[3*ee+S]=ze}e.setValue=j;function O(M,S,ee){return M[3*ee+S]}e.getValue=O;function Z(M,S){return M[0]=S[0],M[1]=S[1],M[2]=S[2],M[3]=S[3],M[4]=S[4],M[5]=S[5],M[6]=S[6],M[7]=S[7],M[8]=S[8],M}e.copy=Z;function G(M,S){if(M===S){const ee=S[1],ze=S[2],k=S[5];M[1]=S[3],M[2]=S[6],M[3]=ee,M[5]=S[7],M[6]=ze,M[7]=k}else M[0]=S[0],M[1]=S[3],M[2]=S[6],M[3]=S[1],M[4]=S[4],M[5]=S[7],M[6]=S[2],M[7]=S[5],M[8]=S[8];return M}e.transpose=G;function q(M,S){const ee=S[0],ze=S[1],k=S[2],U=S[3],ie=S[4],se=S[5],z=S[6],I=S[7],T=S[8],X=T*ie-se*I,ne=-T*U+se*z,ye=I*U-ie*z;let ve=ee*X+ze*ne+k*ye;return ve?(ve=1/ve,M[0]=X*ve,M[1]=(-T*ze+k*I)*ve,M[2]=(se*ze-k*ie)*ve,M[3]=ne*ve,M[4]=(T*ee-k*z)*ve,M[5]=(-se*ee+k*U)*ve,M[6]=ye*ve,M[7]=(-I*ee+ze*z)*ve,M[8]=(ie*ee-ze*U)*ve,M):(console.warn("non-invertible matrix.",S),M)}e.invert=q;function C(M,S){return M===S?(M[3]=S[1],M[6]=S[2],M[7]=S[5]):(M[0]=S[0],M[1]=S[1],M[2]=S[2],M[3]=S[1],M[4]=S[4],M[5]=S[5],M[6]=S[2],M[7]=S[5],M[8]=S[8]),M}e.symmtricFromUpper=C;function J(M,S){return M===S?(M[1]=S[3],M[2]=S[6],M[5]=S[7]):(M[0]=S[0],M[1]=S[3],M[2]=S[6],M[3]=S[3],M[4]=S[4],M[5]=S[7],M[6]=S[6],M[7]=S[7],M[8]=S[8]),M}e.symmtricFromLower=J;function D(M){const S=M[0],ee=M[1],ze=M[2],k=M[3],U=M[4],ie=M[5],se=M[6],z=M[7],I=M[8],T=I*U-ie*z,X=-I*k+ie*se,ne=z*k-U*se;return S*T+ee*X+ze*ne}e.determinant=D;function W(M){return M[0]+M[4]+M[8]}e.trace=W;function le(M,S,ee){return M[0]=S[0]-ee[0],M[1]=S[1]-ee[1],M[2]=S[2]-ee[2],M[3]=S[3]-ee[3],M[4]=S[4]-ee[4],M[5]=S[5]-ee[5],M[6]=S[6]-ee[6],M[7]=S[7]-ee[7],M[8]=S[8]-ee[8],M}e.sub=le;function $(M,S,ee){return M[0]=S[0]+ee[0],M[1]=S[1]+ee[1],M[2]=S[2]+ee[2],M[3]=S[3]+ee[3],M[4]=S[4]+ee[4],M[5]=S[5]+ee[5],M[6]=S[6]+ee[6],M[7]=S[7]+ee[7],M[8]=S[8]+ee[8],M}e.add=$;function f(M,S,ee){const ze=S[0],k=S[1],U=S[2],ie=S[3],se=S[4],z=S[5],I=S[6],T=S[7],X=S[8],ne=ee[0],ye=ee[1],ve=ee[2],Le=ee[3],nn=ee[4],We=ee[5],tn=ee[6],Qe=ee[7],s=ee[8];return M[0]=ne*ze+ye*ie+ve*I,M[1]=ne*k+ye*se+ve*T,M[2]=ne*U+ye*z+ve*X,M[3]=Le*ze+nn*ie+We*I,M[4]=Le*k+nn*se+We*T,M[5]=Le*U+nn*z+We*X,M[6]=tn*ze+Qe*ie+s*I,M[7]=tn*k+Qe*se+s*T,M[8]=tn*U+Qe*z+s*X,M}e.mul=f;function x(M,S,ee){return M[0]=S[0]-ee,M[1]=S[1]-ee,M[2]=S[2]-ee,M[3]=S[3]-ee,M[4]=S[4]-ee,M[5]=S[5]-ee,M[6]=S[6]-ee,M[7]=S[7]-ee,M[8]=S[8]-ee,M}e.subScalar=x;function o(M,S,ee){return M[0]=S[0]+ee,M[1]=S[1]+ee,M[2]=S[2]+ee,M[3]=S[3]+ee,M[4]=S[4]+ee,M[5]=S[5]+ee,M[6]=S[6]+ee,M[7]=S[7]+ee,M[8]=S[8]+ee,M}e.addScalar=o;function u(M,S,ee){return M[0]=S[0]*ee,M[1]=S[1]*ee,M[2]=S[2]*ee,M[3]=S[3]*ee,M[4]=S[4]*ee,M[5]=S[5]*ee,M[6]=S[6]*ee,M[7]=S[7]*ee,M[8]=S[8]*ee,M}e.mulScalar=u;const _=Math.PI/3,N=n();function L(M,S){const ee=S[1]*S[1]+S[2]*S[2]+S[5]*S[5];if(ee===0)M[0]=S[0],M[1]=S[4],M[2]=S[8];else{const ze=W(S)/3,k=S[0]-ze,U=S[4]-ze,ie=S[8]-ze,se=k*k+U*U+ie*ie+2*ee,z=Math.sqrt(se/6);u(N,e.Identity,ze),le(N,S,N),u(N,N,1/z);const I=D(N)/2,T=I<=-1?_:I>=1?0:Math.acos(I)/3;M[0]=ze+2*z*Math.cos(T),M[2]=ze+2*z*Math.cos(T+2*_),M[1]=3*ze-M[0]-M[2]}return M}e.symmetricEigenvalues=L;const Y=[.1,0,0],B=[.1,0,0],V=[.1,0,0],fe=[.1,0,0],we=[.1,0,0],Ie=[.1,0,0];function Ae(M,S,ee){y.set(Y,S[0]-ee,S[1],S[2]),y.set(B,S[1],S[4]-ee,S[5]),y.set(V,S[2],S[5],S[8]-ee),y.cross(fe,Y,B),y.cross(we,Y,V),y.cross(Ie,B,V);const ze=y.dot(fe,fe),k=y.dot(we,we),U=y.dot(Ie,Ie);let ie=ze,se=0;return k>ie&&(ie=k,se=1),U>ie&&(se=2),se===0?y.scale(M,fe,1/Math.sqrt(ze)):se===1?y.scale(M,we,1/Math.sqrt(k)):y.scale(M,Ie,1/Math.sqrt(U)),M}e.eigenvector=Ae;function Fe(M,S){return l(M,S),q(M,M),G(M,M),M}e.directionTransform=Fe,e.Identity=t();function Re(M,S){return M[0]*S[0]+M[1]*S[1]+M[2]*S[2]+M[3]*S[3]+M[4]*S[4]+M[5]*S[5]+M[6]*S[6]+M[7]*S[7]+M[8]*S[8]}e.innerProduct=Re;function Ce(M,S){const ee=S[0],ze=S[1],k=S[2],U=S[4],ie=S[5],se=S[6],z=S[8],I=S[9],T=S[10];return M[0]=ie*T-se*I,M[1]=se*z-U*T,M[2]=U*I-ie*z,M[3]=I*k-T*ze,M[4]=T*ee-z*k,M[5]=z*ze-I*ee,M[6]=ze*se-k*ie,M[7]=k*U-ee*se,M[8]=ee*ie-ze*U,M}e.adjointFromMat4=Ce})(Cn||(Cn={}));function Xc(e){return Object.keys(e)}function a0(e){throw new Error("unreachable")}function Yc(e){return typeof(e==null?void 0:e.then)=="function"}function fn(){return fn.zero()}(function(e){function n(){const k=[.1,0,0,0];return k[0]=0,k}e.zero=n;function t(){const k=n();return k[3]=1,k}e.identity=t;function r(k){k[0]=0,k[1]=0,k[2]=0,k[3]=1}e.setIdentity=r;function i(k){return Number.isNaN(k[0])||Number.isNaN(k[1])||Number.isNaN(k[2])||Number.isNaN(k[3])}e.hasNaN=i;function c(k,U,ie,se){const z=t();return z[0]=k,z[1]=U,z[2]=ie,z[3]=se,z}e.create=c;function a(k,U,ie){ie=ie*.5;const se=Math.sin(ie);return k[0]=se*U[0],k[1]=se*U[1],k[2]=se*U[2],k[3]=Math.cos(ie),k}e.setAxisAngle=a;function l(k,U){const ie=Math.acos(U[3])*2,se=Math.sin(ie/2);return se!==0?(k[0]=U[0]/se,k[1]=U[1]/se,k[2]=U[2]/se):(k[0]=1,k[1]=0,k[2]=0),ie}e.getAxisAngle=l;function d(k,U,ie){const se=U[0],z=U[1],I=U[2],T=U[3],X=ie[0],ne=ie[1],ye=ie[2],ve=ie[3];return k[0]=se*ve+T*X+z*ye-I*ne,k[1]=z*ve+T*ne+I*X-se*ye,k[2]=I*ve+T*ye+se*ne-z*X,k[3]=T*ve-se*X-z*ne-I*ye,k}e.multiply=d;function w(k,U,ie){ie*=.5;const se=U[0],z=U[1],I=U[2],T=U[3],X=Math.sin(ie),ne=Math.cos(ie);return k[0]=se*ne+T*X,k[1]=z*ne+I*X,k[2]=I*ne-z*X,k[3]=T*ne-se*X,k}e.rotateX=w;function g(k,U,ie){ie*=.5;const se=U[0],z=U[1],I=U[2],T=U[3],X=Math.sin(ie),ne=Math.cos(ie);return k[0]=se*ne-I*X,k[1]=z*ne+T*X,k[2]=I*ne+se*X,k[3]=T*ne-z*X,k}e.rotateY=g;function A(k,U,ie){ie*=.5;const se=U[0],z=U[1],I=U[2],T=U[3],X=Math.sin(ie),ne=Math.cos(ie);return k[0]=se*ne+z*X,k[1]=z*ne-se*X,k[2]=I*ne+T*X,k[3]=T*ne-I*X,k}e.rotateZ=A;function m(k,U){const ie=U[0],se=U[1],z=U[2];return k[0]=ie,k[1]=se,k[2]=z,k[3]=Math.sqrt(Math.abs(1-ie*ie-se*se-z*z)),k}e.calculateW=m;function F(k,U,ie,se){const z=U[0],I=U[1],T=U[2],X=U[3];let ne=ie[0],ye=ie[1],ve=ie[2],Le=ie[3],nn,We,tn,Qe,s;return We=z*ne+I*ye+T*ve+X*Le,We<0&&(We=-We,ne=-ne,ye=-ye,ve=-ve,Le=-Le),1-We>1e-6?(nn=Math.acos(We),tn=Math.sin(nn),Qe=Math.sin((1-se)*nn)/tn,s=Math.sin(se*nn)/tn):(Qe=1-se,s=se),k[0]=Qe*z+s*ne,k[1]=Qe*I+s*ye,k[2]=Qe*T+s*ve,k[3]=Qe*X+s*Le,k}e.slerp=F;function E(k,U){const ie=U[0],se=U[1],z=U[2],I=U[3],T=ie*ie+se*se+z*z+I*I,X=T?1/T:0;return k[0]=-ie*X,k[1]=-se*X,k[2]=-z*X,k[3]=I*X,k}e.invert=E;function p(k,U){return k[0]=-U[0],k[1]=-U[1],k[2]=-U[2],k[3]=U[3],k}e.conjugate=p;function P(k,U){return k[0]*U[0]+k[1]*U[1]+k[2]*U[2]+k[3]*U[3]}e.dot=P;function j(k,U){const ie=U[0]+U[4]+U[8];let se;if(ie>0)se=Math.sqrt(ie+1),k[3]=.5*se,se=.5/se,k[0]=(U[5]-U[7])*se,k[1]=(U[6]-U[2])*se,k[2]=(U[1]-U[3])*se;else{let z=0;U[4]>U[0]&&(z=1),U[8]>U[z*3+z]&&(z=2);const I=(z+1)%3,T=(z+2)%3;se=Math.sqrt(U[z*3+z]-U[I*3+I]-U[T*3+T]+1),k[z]=.5*se,se=.5/se,k[3]=(U[I*3+T]-U[T*3+I])*se,k[I]=(U[I*3+z]+U[z*3+I])*se,k[T]=(U[T*3+z]+U[z*3+T])*se}return k}e.fromMat3=j;const O=[0,0,0,0,0,0,0,0,0,0,0,0];function Z(k,U){return Cn.fromMat4(O,U),j(k,O)}e.fromMat4=Z;function G(k,U,ie){const[se,z,I]=U,T=Math.cos(se/2),X=Math.cos(z/2),ne=Math.cos(I/2),ye=Math.sin(se/2),ve=Math.sin(z/2),Le=Math.sin(I/2);switch(ie){case"XYZ":k[0]=ye*X*ne+T*ve*Le,k[1]=T*ve*ne-ye*X*Le,k[2]=T*X*Le+ye*ve*ne,k[3]=T*X*ne-ye*ve*Le;break;case"YXZ":k[0]=ye*X*ne+T*ve*Le,k[1]=T*ve*ne-ye*X*Le,k[2]=T*X*Le-ye*ve*ne,k[3]=T*X*ne+ye*ve*Le;break;case"ZXY":k[0]=ye*X*ne-T*ve*Le,k[1]=T*ve*ne+ye*X*Le,k[2]=T*X*Le+ye*ve*ne,k[3]=T*X*ne-ye*ve*Le;break;case"ZYX":k[0]=ye*X*ne-T*ve*Le,k[1]=T*ve*ne+ye*X*Le,k[2]=T*X*Le-ye*ve*ne,k[3]=T*X*ne+ye*ve*Le;break;case"YZX":k[0]=ye*X*ne+T*ve*Le,k[1]=T*ve*ne+ye*X*Le,k[2]=T*X*Le-ye*ve*ne,k[3]=T*X*ne-ye*ve*Le;break;case"XZY":k[0]=ye*X*ne-T*ve*Le,k[1]=T*ve*ne-ye*X*Le,k[2]=T*X*Le+ye*ve*ne,k[3]=T*X*ne+ye*ve*Le;break;default:a0()}return k}e.fromEuler=G;const q=[0,0,0];function C(k,U,ie){let se=y.dot(U,ie)+1;return se<De?(se=0,Math.abs(U[0])>Math.abs(U[2])?y.set(q,-U[1],U[0],0):y.set(q,0,-U[2],U[1])):y.cross(q,U,ie),k[0]=q[0],k[1]=q[1],k[2]=q[2],k[3]=se,fe(k,k),k}e.fromUnitVec3=C;const J=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];function D(k,U,ie,se){return be.fromBasis(J,U,ie,se),Z(k,J)}e.fromBasis=D;function W(k){const U=n();return U[0]=k[0],U[1]=k[1],U[2]=k[2],U[3]=k[3],U}e.clone=W;function le(k){return c(k.x,k.y,k.z,k.w)}e.fromObj=le;function $(k){return{x:k[0],y:k[1],z:k[2],w:k[3]}}e.toObj=$;function f(k,U,ie){return U[ie+0]=k[0],U[ie+1]=k[1],U[ie+2]=k[2],U[ie+3]=k[3],U}e.toArray=f;function x(k,U,ie){return k[0]=U[ie+0],k[1]=U[ie+1],k[2]=U[ie+2],k[3]=U[ie+3],k}e.fromArray=x;function o(k,U){return k[0]=U[0],k[1]=U[1],k[2]=U[2],k[3]=U[3],k}e.copy=o;function u(k,U,ie,se,z){return k[0]=U,k[1]=ie,k[2]=se,k[3]=z,k}e.set=u;function _(k,U){return k[0]===U[0]&&k[1]===U[1]&&k[2]===U[2]&&k[3]===U[3]}e.exactEquals=_;function N(k,U){const ie=k[0],se=k[1],z=k[2],I=k[3],T=U[0],X=U[1],ne=U[2],ye=U[3];return Math.abs(ie-T)<=De*Math.max(1,Math.abs(ie),Math.abs(T))&&Math.abs(se-X)<=De*Math.max(1,Math.abs(se),Math.abs(X))&&Math.abs(z-ne)<=De*Math.max(1,Math.abs(z),Math.abs(ne))&&Math.abs(I-ye)<=De*Math.max(1,Math.abs(I),Math.abs(ye))}e.equals=N;function L(k,U,ie){return k[0]=U[0]+ie[0],k[1]=U[1]+ie[1],k[2]=U[2]+ie[2],k[3]=U[3]+ie[3],k}e.add=L;function Y(k){const U=k[0],ie=k[1],se=k[2],z=k[3];return Math.sqrt(U*U+ie*ie+se*se+z*z)}e.magnitude=Y;function B(k){const U=k[0],ie=k[1],se=k[2],z=k[3];return U*U+ie*ie+se*se+z*z}e.squaredMagnitude=B;function V(k,U){return 2*Math.acos(Math.abs($n(P(k,U),-1,1)))}e.angle=V;function fe(k,U){const ie=U[0],se=U[1],z=U[2],I=U[3];let T=ie*ie+se*se+z*z+I*I;return T>0&&(T=1/Math.sqrt(T),k[0]=ie*T,k[1]=se*T,k[2]=z*T,k[3]=I*T),k}e.normalize=fe;const we=[0,0,0],Ie=[1,0,0],Ae=[0,1,0];function Fe(k,U,ie){const se=y.dot(U,ie);return se<-.999999?(y.cross(we,Ie,U),y.magnitude(we)<1e-6&&y.cross(we,Ae,U),y.normalize(we,we),a(k,we,Math.PI),k):se>.999999?(k[0]=0,k[1]=0,k[2]=0,k[3]=1,k):(y.cross(we,U,ie),k[0]=we[0],k[1]=we[1],k[2]=we[2],k[3]=1+se,fe(k,k))}e.rotationTo=Fe;const Re=n(),Ce=n();function M(k,U,ie,se,z,I){return F(Re,U,z,I),F(Ce,ie,se,I),F(k,Re,Ce,2*I*(1-I)),k}e.sqlerp=M;const S=[0,0,0,0,0,0,0,0,0];function ee(k,U,ie,se){return S[0]=ie[0],S[3]=ie[1],S[6]=ie[2],S[1]=se[0],S[4]=se[1],S[7]=se[2],S[2]=-U[0],S[5]=-U[1],S[8]=-U[2],fe(k,j(k,S))}e.setAxes=ee;function ze(k,U){return`[${k[0].toPrecision(U)} ${k[1].toPrecision(U)} ${k[2].toPrecision(U)}  ${k[3].toPrecision(U)}]`}e.toString=ze,e.Identity=t()})(fn||(fn={}));function be(){return be.zero()}(function(e){function n(){const s=[.1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];return s[0]=0,s}e.zero=n;function t(){const s=n();return s[0]=1,s[1]=0,s[2]=0,s[3]=0,s[4]=0,s[5]=1,s[6]=0,s[7]=0,s[8]=0,s[9]=0,s[10]=1,s[11]=0,s[12]=0,s[13]=0,s[14]=0,s[15]=1,s}e.identity=t;function r(s){return s[0]=1,s[1]=0,s[2]=0,s[3]=0,s[4]=0,s[5]=1,s[6]=0,s[7]=0,s[8]=0,s[9]=0,s[10]=1,s[11]=0,s[12]=0,s[13]=0,s[14]=0,s[15]=1,s}e.setIdentity=r;function i(s){for(let h=0;h<16;h++)if(s[h]!==0)return!1;return!0}e.isZero=i;function c(s){for(let h=0;h<16;h++)s[h]=0;return s}e.setZero=c;function a(s){const h=n();for(let H=0;H<4;H++){const K=s[H];for(let re=0;re<4;re++)h[4*re+H]=K[re]}return h}e.ofRows=a;const l=t();function d(s,h){return g(s,l,typeof h>"u"?De:h)}e.isIdentity=d;function w(s){for(let h=0;h<16;h++)if(Number.isNaN(s[h]))return!0;return!1}e.hasNaN=w;function g(s,h,H){for(let K=0;K<16;K++)if(Math.abs(s[K]-h[K])>H)return!1;return!0}e.areEqual=g;function A(s,h,H,K){s[4*H+h]=K}e.setValue=A;function m(s,h,H){return s[4*H+h]}e.getValue=m;function F(s,h,H){return h[H+0]=s[0],h[H+1]=s[1],h[H+2]=s[2],h[H+3]=s[3],h[H+4]=s[4],h[H+5]=s[5],h[H+6]=s[6],h[H+7]=s[7],h[H+8]=s[8],h[H+9]=s[9],h[H+10]=s[10],h[H+11]=s[11],h[H+12]=s[12],h[H+13]=s[13],h[H+14]=s[14],h[H+15]=s[15],h}e.toArray=F;function E(s,h,H){return s[0]=h[H+0],s[1]=h[H+1],s[2]=h[H+2],s[3]=h[H+3],s[4]=h[H+4],s[5]=h[H+5],s[6]=h[H+6],s[7]=h[H+7],s[8]=h[H+8],s[9]=h[H+9],s[10]=h[H+10],s[11]=h[H+11],s[12]=h[H+12],s[13]=h[H+13],s[14]=h[H+14],s[15]=h[H+15],s}e.fromArray=E;function p(s,h,H,K){return c(s),A(s,0,0,h[0]),A(s,1,0,h[1]),A(s,2,0,h[2]),A(s,0,1,H[0]),A(s,1,1,H[1]),A(s,2,1,H[2]),A(s,0,2,K[0]),A(s,1,2,K[1]),A(s,2,2,K[2]),A(s,3,3,1),s}e.fromBasis=p;function P(s,h){return s[0]=h[0],s[1]=h[1],s[2]=h[2],s[3]=h[3],s[4]=h[4],s[5]=h[5],s[6]=h[6],s[7]=h[7],s[8]=h[8],s[9]=h[9],s[10]=h[10],s[11]=h[11],s[12]=h[12],s[13]=h[13],s[14]=h[14],s[15]=h[15],s}e.copy=P;function j(s){return P(n(),s)}e.clone=j;function O(s,h){return s[0]=h[12],s[1]=h[13],s[2]=h[14],s}e.getTranslation=O;function Z(s,h){const H=h[0],K=h[1],re=h[2],ce=h[4],oe=h[5],he=h[6],ge=h[8],xe=h[9],de=h[10];return s[0]=Math.sqrt(H*H+K*K+re*re),s[1]=Math.sqrt(ce*ce+oe*oe+he*he),s[2]=Math.sqrt(ge*ge+xe*xe+de*de),s}e.getScaling=Z;function G(s,h){const H=h[0]+h[5]+h[10];let K=0;return H>0?(K=Math.sqrt(H+1)*2,s[3]=.25*K,s[0]=(h[6]-h[9])/K,s[1]=(h[8]-h[2])/K,s[2]=(h[1]-h[4])/K):h[0]>h[5]&&h[0]>h[10]?(K=Math.sqrt(1+h[0]-h[5]-h[10])*2,s[3]=(h[6]-h[9])/K,s[0]=.25*K,s[1]=(h[1]+h[4])/K,s[2]=(h[8]+h[2])/K):h[5]>h[10]?(K=Math.sqrt(1+h[5]-h[0]-h[10])*2,s[3]=(h[8]-h[2])/K,s[0]=(h[1]+h[4])/K,s[1]=.25*K,s[2]=(h[6]+h[9])/K):(K=Math.sqrt(1+h[10]-h[0]-h[5])*2,s[3]=(h[1]-h[4])/K,s[0]=(h[8]+h[2])/K,s[1]=(h[6]+h[9])/K,s[2]=.25*K),s}e.getRotation=G;function q(s,h){const H=1/Math.sqrt(h[0]*h[0]+h[1]*h[1]+h[2]*h[2]),K=1/Math.sqrt(h[4]*h[4]+h[5]*h[5]+h[6]*h[6]),re=1/Math.sqrt(h[8]*h[8]+h[9]*h[9]+h[10]*h[10]);return s[0]=h[0]*H,s[1]=h[1]*H,s[2]=h[2]*H,s[3]=0,s[4]=h[4]*K,s[5]=h[5]*K,s[6]=h[6]*K,s[7]=0,s[8]=h[8]*re,s[9]=h[9]*re,s[10]=h[10]*re,s[11]=0,s[12]=0,s[13]=0,s[14]=0,s[15]=1,s}e.extractRotation=q;function C(s,h){if(s===h){const H=h[1],K=h[2],re=h[3],ce=h[6],oe=h[7],he=h[11];s[1]=h[4],s[2]=h[8],s[3]=h[12],s[4]=H,s[6]=h[9],s[7]=h[13],s[8]=K,s[9]=ce,s[11]=h[14],s[12]=re,s[13]=oe,s[14]=he}else s[0]=h[0],s[1]=h[4],s[2]=h[8],s[3]=h[12],s[4]=h[1],s[5]=h[5],s[6]=h[9],s[7]=h[13],s[8]=h[2],s[9]=h[6],s[10]=h[10],s[11]=h[14],s[12]=h[3],s[13]=h[7],s[14]=h[11],s[15]=h[15];return s}e.transpose=C;function J(s,h){const H=h[0],K=h[1],re=h[2],ce=h[3],oe=h[4],he=h[5],ge=h[6],xe=h[7],de=h[8],Me=h[9],_e=h[10],pe=h[11],Se=h[12],Pe=h[13],qe=h[14],Ue=h[15],Ze=H*he-K*oe,je=H*ge-re*oe,Te=H*xe-ce*oe,b=K*ge-re*he,v=K*xe-ce*he,R=re*xe-ce*ge,Q=de*Pe-Me*Se,ue=de*qe-_e*Se,me=de*Ue-pe*Se,Ne=Me*qe-_e*Pe,$e=Me*Ue-pe*Pe,Ge=_e*Ue-pe*qe;let Be=Ze*Ge-je*$e+Te*Ne+b*me-v*ue+R*Q;return Be?(Be=1/Be,s[0]=(he*Ge-ge*$e+xe*Ne)*Be,s[1]=(re*$e-K*Ge-ce*Ne)*Be,s[2]=(Pe*R-qe*v+Ue*b)*Be,s[3]=(_e*v-Me*R-pe*b)*Be,s[4]=(ge*me-oe*Ge-xe*ue)*Be,s[5]=(H*Ge-re*me+ce*ue)*Be,s[6]=(qe*Te-Se*R-Ue*je)*Be,s[7]=(de*R-_e*Te+pe*je)*Be,s[8]=(oe*$e-he*me+xe*Q)*Be,s[9]=(K*me-H*$e-ce*Q)*Be,s[10]=(Se*v-Pe*Te+Ue*Ze)*Be,s[11]=(Me*Te-de*v-pe*Ze)*Be,s[12]=(he*ue-oe*Ne-ge*Q)*Be,s[13]=(H*Ne-K*ue+re*Q)*Be,s[14]=(Pe*je-Se*b-qe*Ze)*Be,s[15]=(de*b-Me*je+_e*Ze)*Be,!0):!1}e.tryInvert=J;function D(s,h){return J(s,h)||console.warn("non-invertible matrix.",h),s}e.invert=D;function W(s,h,H){const K=h[0],re=h[1],ce=h[2],oe=h[3],he=h[4],ge=h[5],xe=h[6],de=h[7],Me=h[8],_e=h[9],pe=h[10],Se=h[11],Pe=h[12],qe=h[13],Ue=h[14],Ze=h[15];let je=H[0],Te=H[1],b=H[2],v=H[3];return s[0]=je*K+Te*he+b*Me+v*Pe,s[1]=je*re+Te*ge+b*_e+v*qe,s[2]=je*ce+Te*xe+b*pe+v*Ue,s[3]=je*oe+Te*de+b*Se+v*Ze,je=H[4],Te=H[5],b=H[6],v=H[7],s[4]=je*K+Te*he+b*Me+v*Pe,s[5]=je*re+Te*ge+b*_e+v*qe,s[6]=je*ce+Te*xe+b*pe+v*Ue,s[7]=je*oe+Te*de+b*Se+v*Ze,je=H[8],Te=H[9],b=H[10],v=H[11],s[8]=je*K+Te*he+b*Me+v*Pe,s[9]=je*re+Te*ge+b*_e+v*qe,s[10]=je*ce+Te*xe+b*pe+v*Ue,s[11]=je*oe+Te*de+b*Se+v*Ze,je=H[12],Te=H[13],b=H[14],v=H[15],s[12]=je*K+Te*he+b*Me+v*Pe,s[13]=je*re+Te*ge+b*_e+v*qe,s[14]=je*ce+Te*xe+b*pe+v*Ue,s[15]=je*oe+Te*de+b*Se+v*Ze,s}e.mul=W;function le(s,h,H,K,re,ce){const oe=h[0+re],he=h[1+re],ge=h[2+re],xe=h[3+re],de=h[4+re],Me=h[5+re],_e=h[6+re],pe=h[7+re],Se=h[8+re],Pe=h[9+re],qe=h[10+re],Ue=h[11+re],Ze=h[12+re],je=h[13+re],Te=h[14+re],b=h[15+re];let v=H[0+ce],R=H[1+ce],Q=H[2+ce],ue=H[3+ce];return s[0+K]=v*oe+R*de+Q*Se+ue*Ze,s[1+K]=v*he+R*Me+Q*Pe+ue*je,s[2+K]=v*ge+R*_e+Q*qe+ue*Te,s[3+K]=v*xe+R*pe+Q*Ue+ue*b,v=H[4+ce],R=H[5+ce],Q=H[6+ce],ue=H[7+ce],s[4+K]=v*oe+R*de+Q*Se+ue*Ze,s[5+K]=v*he+R*Me+Q*Pe+ue*je,s[6+K]=v*ge+R*_e+Q*qe+ue*Te,s[7+K]=v*xe+R*pe+Q*Ue+ue*b,v=H[8+ce],R=H[9+ce],Q=H[10+ce],ue=H[11+ce],s[8+K]=v*oe+R*de+Q*Se+ue*Ze,s[9+K]=v*he+R*Me+Q*Pe+ue*je,s[10+K]=v*ge+R*_e+Q*qe+ue*Te,s[11+K]=v*xe+R*pe+Q*Ue+ue*b,v=H[12+ce],R=H[13+ce],Q=H[14+ce],ue=H[15+ce],s[12+K]=v*oe+R*de+Q*Se+ue*Ze,s[13+K]=v*he+R*Me+Q*Pe+ue*je,s[14+K]=v*ge+R*_e+Q*qe+ue*Te,s[15+K]=v*xe+R*pe+Q*Ue+ue*b,s}e.mulOffset=le;function $(s,h,H,K){return W(s,W(s,h,H),K)}e.mul3=$;function f(s,h,H){const K=H[0],re=H[1],ce=H[2];let oe,he,ge,xe,de,Me,_e,pe,Se,Pe,qe,Ue;return h===s?(s[12]=h[0]*K+h[4]*re+h[8]*ce+h[12],s[13]=h[1]*K+h[5]*re+h[9]*ce+h[13],s[14]=h[2]*K+h[6]*re+h[10]*ce+h[14],s[15]=h[3]*K+h[7]*re+h[11]*ce+h[15]):(oe=h[0],he=h[1],ge=h[2],xe=h[3],de=h[4],Me=h[5],_e=h[6],pe=h[7],Se=h[8],Pe=h[9],qe=h[10],Ue=h[11],s[0]=oe,s[1]=he,s[2]=ge,s[3]=xe,s[4]=de,s[5]=Me,s[6]=_e,s[7]=pe,s[8]=Se,s[9]=Pe,s[10]=qe,s[11]=Ue,s[12]=oe*K+de*re+Se*ce+h[12],s[13]=he*K+Me*re+Pe*ce+h[13],s[14]=ge*K+_e*re+qe*ce+h[14],s[15]=xe*K+pe*re+Ue*ce+h[15]),s}e.translate=f;function x(s,h){return s[0]=1,s[1]=0,s[2]=0,s[3]=0,s[4]=0,s[5]=1,s[6]=0,s[7]=0,s[8]=0,s[9]=0,s[10]=1,s[11]=0,s[12]=h[0],s[13]=h[1],s[14]=h[2],s[15]=1,s}e.fromTranslation=x;function o(s,h){return s[12]=h[0],s[13]=h[1],s[14]=h[2],s}e.setTranslation=o;function u(s,h,H,K){return s[0]=H[0],s[4]=H[1],s[8]=H[2],s[1]=K[0],s[5]=K[1],s[9]=K[2],s[2]=h[0],s[6]=h[1],s[10]=h[2],s}e.setAxes=u;function _(s,h,H,K){let re=K[0],ce=K[1],oe=K[2],he=Math.sqrt(re*re+ce*ce+oe*oe);if(Math.abs(he)<De)return t();he=1/he,re*=he,ce*=he,oe*=he;const ge=Math.sin(H),xe=Math.cos(H),de=1-xe,Me=h[0],_e=h[1],pe=h[2],Se=h[3],Pe=h[4],qe=h[5],Ue=h[6],Ze=h[7],je=h[8],Te=h[9],b=h[10],v=h[11],R=re*re*de+xe,Q=ce*re*de+oe*ge,ue=oe*re*de-ce*ge,me=re*ce*de-oe*ge,Ne=ce*ce*de+xe,$e=oe*ce*de+re*ge,Ge=re*oe*de+ce*ge,Be=ce*oe*de-re*ge,Ke=oe*oe*de+xe;return s[0]=Me*R+Pe*Q+je*ue,s[1]=_e*R+qe*Q+Te*ue,s[2]=pe*R+Ue*Q+b*ue,s[3]=Se*R+Ze*Q+v*ue,s[4]=Me*me+Pe*Ne+je*$e,s[5]=_e*me+qe*Ne+Te*$e,s[6]=pe*me+Ue*Ne+b*$e,s[7]=Se*me+Ze*Ne+v*$e,s[8]=Me*Ge+Pe*Be+je*Ke,s[9]=_e*Ge+qe*Be+Te*Ke,s[10]=pe*Ge+Ue*Be+b*Ke,s[11]=Se*Ge+Ze*Be+v*Ke,h!==s&&(s[12]=h[12],s[13]=h[13],s[14]=h[14],s[15]=h[15]),s}e.rotate=_;function N(s,h,H){let K=H[0],re=H[1],ce=H[2],oe=Math.sqrt(K*K+re*re+ce*ce);if(Math.abs(oe)<De)return r(s);oe=1/oe,K*=oe,re*=oe,ce*=oe;const he=Math.sin(h),ge=Math.cos(h),xe=1-ge;return s[0]=K*K*xe+ge,s[1]=re*K*xe+ce*he,s[2]=ce*K*xe-re*he,s[3]=0,s[4]=K*re*xe-ce*he,s[5]=re*re*xe+ge,s[6]=ce*re*xe+K*he,s[7]=0,s[8]=K*ce*xe+re*he,s[9]=re*ce*xe-K*he,s[10]=ce*ce*xe+ge,s[11]=0,s[12]=0,s[13]=0,s[14]=0,s[15]=1,s}e.fromRotation=N;function L(s,h,H){const K=H[0],re=H[1],ce=H[2];return s[0]=h[0]*K,s[1]=h[1]*K,s[2]=h[2]*K,s[3]=h[3]*K,s[4]=h[4]*re,s[5]=h[5]*re,s[6]=h[6]*re,s[7]=h[7]*re,s[8]=h[8]*ce,s[9]=h[9]*ce,s[10]=h[10]*ce,s[11]=h[11]*ce,s[12]=h[12],s[13]=h[13],s[14]=h[14],s[15]=h[15],s}e.scale=L;function Y(s,h,H){return s[0]=h[0]*H,s[1]=h[1]*H,s[2]=h[2]*H,s[3]=h[3]*H,s[4]=h[4]*H,s[5]=h[5]*H,s[6]=h[6]*H,s[7]=h[7]*H,s[8]=h[8]*H,s[9]=h[9]*H,s[10]=h[10]*H,s[11]=h[11]*H,s[12]=h[12],s[13]=h[13],s[14]=h[14],s[15]=h[15],s}e.scaleUniformly=Y;function B(s,h){return s[0]=h[0],s[1]=0,s[2]=0,s[3]=0,s[4]=0,s[5]=h[1],s[6]=0,s[7]=0,s[8]=0,s[9]=0,s[10]=h[2],s[11]=0,s[12]=0,s[13]=0,s[14]=0,s[15]=1,s}e.fromScaling=B;function V(s,h){return s[0]=h,s[1]=0,s[2]=0,s[3]=0,s[4]=0,s[5]=h,s[6]=0,s[7]=0,s[8]=0,s[9]=0,s[10]=h,s[11]=0,s[12]=0,s[13]=0,s[14]=0,s[15]=1,s}e.fromUniformScaling=V;const fe=[0,0,0],we=[0,0,0];function Ie(s,h,H){const K=y.cross(fe,h,y.unitX);y.dot(K,K)<De&&y.cross(K,h,y.unitY),y.normalize(K,K);const re=y.cross(we,h,K);return y.normalize(re,re),u(s,h,K,re),s[12]=H[0],s[13]=H[1],s[14]=H[2],s[15]=1,s}e.fromPlane=Ie;function Ae(s,h){return s[0]=h[0],s[1]=h[1],s[2]=h[2],s[4]=h[3],s[5]=h[4],s[6]=h[5],s[8]=h[6],s[9]=h[7],s[10]=h[8],s}e.fromMat3=Ae;function Fe(s,h,H,K){const[re,ce,oe,he]=H,ge=re+re,xe=ce+ce,de=oe+oe,Me=re*ge,_e=re*xe,pe=re*de,Se=ce*xe,Pe=ce*de,qe=oe*de,Ue=he*ge,Ze=he*xe,je=he*de,[Te,b,v]=K;return s[0]=(1-(Se+qe))*Te,s[1]=(_e+je)*Te,s[2]=(pe-Ze)*Te,s[3]=0,s[4]=(_e-je)*b,s[5]=(1-(Me+qe))*b,s[6]=(Pe+Ue)*b,s[7]=0,s[8]=(pe+Ze)*v,s[9]=(Pe-Ue)*v,s[10]=(1-(Me+Se))*v,s[11]=0,s[12]=h[0],s[13]=h[1],s[14]=h[2],s[15]=1,s}e.compose=Fe;const Re=[0,0,0],Ce=n();function M(s,h,H,K){let re=y.magnitude(y.set(Re,s[0],s[1],s[2]));const ce=y.magnitude(y.set(Re,s[4],s[5],s[6])),oe=y.magnitude(y.set(Re,s[8],s[9],s[10]));ze(s)<0&&(re=-re),h[0]=s[12],h[1]=s[13],h[2]=s[14],P(Ce,s);const ge=1/re,xe=1/ce,de=1/oe;return Ce[0]*=ge,Ce[1]*=ge,Ce[2]*=ge,Ce[4]*=xe,Ce[5]*=xe,Ce[6]*=xe,Ce[8]*=de,Ce[9]*=de,Ce[10]*=de,G(H,Ce),K[0]=re,K[1]=ce,K[2]=oe,s}e.decompose=M;function S(s){const h=y(),H=fn(),K=y();return M(s,h,H,K),{position:h,quaternion:H,scale:K}}e.getDecomposition=S;function ee(s){let h="";for(let H=0;H<4;H++){for(let K=0;K<4;K++)h+=s[4*K+H].toString(),K<3&&(h+=" ");H<3&&(h+=`
`)}return h}e.makeTable=ee;function ze(s){const h=s[0],H=s[1],K=s[2],re=s[3],ce=s[4],oe=s[5],he=s[6],ge=s[7],xe=s[8],de=s[9],Me=s[10],_e=s[11],pe=s[12],Se=s[13],Pe=s[14],qe=s[15],Ue=h*oe-H*ce,Ze=h*he-K*ce,je=h*ge-re*ce,Te=H*he-K*oe,b=H*ge-re*oe,v=K*ge-re*he,R=xe*Se-de*pe,Q=xe*Pe-Me*pe,ue=xe*qe-_e*pe,me=de*Pe-Me*Se,Ne=de*qe-_e*Se,$e=Me*qe-_e*Pe;return Ue*$e-Ze*Ne+je*me+Te*ue-b*Q+v*R}e.determinant=ze;function k(s,h){return U(s,typeof h<"u"?h:De)}e.isRotationAndTranslation=k;function U(s,h){const H=s[0],K=s[1],re=s[2],ce=s[3],oe=s[4],he=s[5],ge=s[6],xe=s[7],de=s[8],Me=s[9],_e=s[10],pe=s[11],Se=s[15];if(!Je(Se,1,h)||!Je(ce,0,h)||!Je(xe,0,h)||!Je(pe,0,h))return!1;const Pe=Math.abs(H*(he*_e-ge*Me)-K*(oe*_e-ge*de)+re*(oe*Me-he*de));return!!Je(Pe,1,h)}function ie(s,h){return se(s,typeof h<"u"?h:De)}e.isTranslationAndUniformScaling=ie;function se(s,h){const H=s[0];return Je(s[1],0,h)&&Je(s[2],0,h)&&Je(s[3],0,h)&&Je(s[4],0,h)&&Je(s[5],H,h)&&Je(s[6],0,h)&&Je(s[7],0,h)&&Je(s[8],0,h)&&Je(s[9],0,h)&&Je(s[10],H,h)&&Je(s[11],0,h)&&Je(s[15],1,h)}function z(s,h){const H=h[0],K=h[1],re=h[2],ce=h[3],oe=H+H,he=K+K,ge=re+re,xe=H*oe,de=K*oe,Me=K*he,_e=re*oe,pe=re*he,Se=re*ge,Pe=ce*oe,qe=ce*he,Ue=ce*ge;return s[0]=1-Me-Se,s[1]=de+Ue,s[2]=_e-qe,s[3]=0,s[4]=de-Ue,s[5]=1-xe-Se,s[6]=pe+Pe,s[7]=0,s[8]=_e+qe,s[9]=pe-Pe,s[10]=1-xe-Me,s[11]=0,s[12]=0,s[13]=0,s[14]=0,s[15]=1,s}e.fromQuat=z;function I(s,h,H){const K=h[0],re=h[1],ce=h[2],oe=Math.cos(K),he=Math.sin(K),ge=Math.cos(re),xe=Math.sin(re),de=Math.cos(ce),Me=Math.sin(ce);if(H==="XYZ"){const _e=oe*de,pe=oe*Me,Se=he*de,Pe=he*Me;s[0]=ge*de,s[4]=-ge*Me,s[8]=xe,s[1]=pe+Se*xe,s[5]=_e-Pe*xe,s[9]=-he*ge,s[2]=Pe-_e*xe,s[6]=Se+pe*xe,s[10]=oe*ge}else if(H==="YXZ"){const _e=ge*de,pe=ge*Me,Se=xe*de,Pe=xe*Me;s[0]=_e+Pe*he,s[4]=Se*he-pe,s[8]=oe*xe,s[1]=oe*Me,s[5]=oe*de,s[9]=-he,s[2]=pe*he-Se,s[6]=Pe+_e*he,s[10]=oe*ge}else if(H==="ZXY"){const _e=ge*de,pe=ge*Me,Se=xe*de,Pe=xe*Me;s[0]=_e-Pe*he,s[4]=-oe*Me,s[8]=Se+pe*he,s[1]=pe+Se*he,s[5]=oe*de,s[9]=Pe-_e*he,s[2]=-oe*xe,s[6]=he,s[10]=oe*ge}else if(H==="ZYX"){const _e=oe*de,pe=oe*Me,Se=he*de,Pe=he*Me;s[0]=ge*de,s[4]=Se*xe-pe,s[8]=_e*xe+Pe,s[1]=ge*Me,s[5]=Pe*xe+_e,s[9]=pe*xe-Se,s[2]=-xe,s[6]=he*ge,s[10]=oe*ge}else if(H==="YZX"){const _e=oe*ge,pe=oe*xe,Se=he*ge,Pe=he*xe;s[0]=ge*de,s[4]=Pe-_e*Me,s[8]=Se*Me+pe,s[1]=Me,s[5]=oe*de,s[9]=-he*de,s[2]=-xe*de,s[6]=pe*Me+Se,s[10]=_e-Pe*Me}else if(H==="XZY"){const _e=oe*ge,pe=oe*xe,Se=he*ge,Pe=he*xe;s[0]=ge*de,s[4]=-Me,s[8]=xe*de,s[1]=_e*Me+Pe,s[5]=oe*de,s[9]=pe*Me-Se,s[2]=Se*Me-pe,s[6]=he*de,s[10]=Pe*Me+_e}return s[3]=0,s[7]=0,s[11]=0,s[12]=0,s[13]=0,s[14]=0,s[15]=1,s}e.fromEuler=I;function T(s,h,H,K,re,ce,oe){const he=2*ce/(H-h),ge=2*ce/(K-re),xe=(H+h)/(H-h),de=(K+re)/(K-re),Me=-(oe+ce)/(oe-ce),_e=-2*oe*ce/(oe-ce);return s[0]=he,s[1]=0,s[2]=0,s[3]=0,s[4]=0,s[5]=ge,s[6]=0,s[7]=0,s[8]=xe,s[9]=de,s[10]=Me,s[11]=-1,s[12]=0,s[13]=0,s[14]=_e,s[15]=0,s}e.perspective=T;function X(s,h,H,K,re,ce,oe){const he=1/(H-h),ge=1/(K-re),xe=1/(oe-ce),de=(H+h)*he,Me=(K+re)*ge,_e=(oe+ce)*xe;return s[0]=2*he,s[1]=0,s[2]=0,s[3]=0,s[4]=0,s[5]=2*ge,s[6]=0,s[7]=0,s[8]=0,s[9]=0,s[10]=-2*xe,s[11]=0,s[12]=-de,s[13]=-Me,s[14]=-_e,s[15]=1,s}e.ortho=X;function ne(s,h,H,K){let re,ce,oe,he,ge,xe,de,Me,_e,pe;const Se=h[0],Pe=h[1],qe=h[2],Ue=K[0],Ze=K[1],je=K[2],Te=H[0],b=H[1],v=H[2];return Math.abs(Se-Te)<De&&Math.abs(Pe-b)<De&&Math.abs(qe-v)<De?r(s):(de=Se-Te,Me=Pe-b,_e=qe-v,pe=1/Math.sqrt(de*de+Me*Me+_e*_e),de*=pe,Me*=pe,_e*=pe,re=Ze*_e-je*Me,ce=je*de-Ue*_e,oe=Ue*Me-Ze*de,pe=Math.sqrt(re*re+ce*ce+oe*oe),pe?(pe=1/pe,re*=pe,ce*=pe,oe*=pe):(re=0,ce=0,oe=0),he=Me*oe-_e*ce,ge=_e*re-de*oe,xe=de*ce-Me*re,pe=Math.sqrt(he*he+ge*ge+xe*xe),pe?(pe=1/pe,he*=pe,ge*=pe,xe*=pe):(he=0,ge=0,xe=0),s[0]=re,s[1]=he,s[2]=de,s[3]=0,s[4]=ce,s[5]=ge,s[6]=Me,s[7]=0,s[8]=oe,s[9]=xe,s[10]=_e,s[11]=0,s[12]=-(re*Se+ce*Pe+oe*qe),s[13]=-(he*Se+ge*Pe+xe*qe),s[14]=-(de*Se+Me*Pe+_e*qe),s[15]=1,s)}e.lookAt=ne;function ye(s,h,H,K){const re=h[0],ce=h[1],oe=h[2],he=K[0],ge=K[1],xe=K[2];let de=re-H[0],Me=ce-H[1],_e=oe-H[2],pe=de*de+Me*Me+_e*_e;pe>0&&(pe=1/Math.sqrt(pe),de*=pe,Me*=pe,_e*=pe);let Se=ge*_e-xe*Me,Pe=xe*de-he*_e,qe=he*Me-ge*de;return pe=Se*Se+Pe*Pe+qe*qe,pe>0&&(pe=1/Math.sqrt(pe),Se*=pe,Pe*=pe,qe*=pe),s[0]=Se,s[1]=Pe,s[2]=qe,s[3]=0,s[4]=Me*qe-_e*Pe,s[5]=_e*Se-de*qe,s[6]=de*Pe-Me*Se,s[7]=0,s[8]=de,s[9]=Me,s[10]=_e,s[11]=0,s[12]=re,s[13]=ce,s[14]=oe,s[15]=1,s}e.targetTo=ye;function ve(s,h){c(s);for(let H=0;H<4;H++){const K=h[H];A(s,H,K,1)}return s}e.fromPermutation=ve;function Le(s){const h=s[0]*s[0]+s[1]*s[1]+s[2]*s[2],H=s[4]*s[4]+s[5]*s[5]+s[6]*s[6],K=s[8]*s[8]+s[9]*s[9]+s[10]*s[10];return Math.sqrt(Math.max(h,H,K))}e.getMaxScaleOnAxis=Le;function nn(s){return{x:y.create(s[0],s[1],s[2]),y:y.create(s[4],s[5],s[6]),z:y.create(s[8],s[9],s[10])}}e.extractBasis=nn;const We=[1,0,0],tn=[0,1,0],Qe=[0,0,1];e.rotX90=N(n(),Sn(90),We),e.rotX180=N(n(),Sn(180),We),e.rotY90=N(n(),Sn(90),tn),e.rotY180=N(n(),Sn(180),tn),e.rotY270=N(n(),Sn(270),tn),e.rotZ90=N(n(),Sn(90),Qe),e.rotZ180=N(n(),Sn(180),Qe),e.rotXY90=W(n(),e.rotX90,e.rotY90),e.rotZY90=W(n(),e.rotZ90,e.rotY90),e.rotZYZ90=W(n(),e.rotZY90,e.rotZ90),e.rotZ90X180=W(n(),e.rotZ90,e.rotX180),e.rotY90Z180=W(n(),e.rotY90,e.rotZ180),e.id=t()})(be||(be={}));const Et=isFinite;function y(){return y.zero()}(function(e){function n(){const b=[.1,0,0];return b[0]=0,b}e.zero=n;function t(b){const v=n();return v[0]=b[0],v[1]=b[1],v[2]=b[2],v}e.clone=t;function r(b){return Et(b[0])&&Et(b[1])&&Et(b[2])}e.isFinite=r;function i(b){return Number.isInteger(b[0])&&Number.isInteger(b[1])&&Number.isInteger(b[2])}e.isInteger=i;function c(b){return Number.isNaN(b[0])||Number.isNaN(b[1])||Number.isNaN(b[2])}e.hasNaN=c;function a(b){return b[0]=NaN,b[1]=NaN,b[2]=NaN,b}e.setNaN=a;function l(b){return A(b.x,b.y,b.z)}e.fromObj=l;function d(b){return{x:b[0],y:b[1],z:b[2]}}e.toObj=d;function w(b,v,R){return b[0]=v[R+0],b[1]=v[R+1],b[2]=v[R+2],b}e.fromArray=w;function g(b,v,R){return v[R+0]=b[0],v[R+1]=b[1],v[R+2]=b[2],v}e.toArray=g;function A(b,v,R){const Q=n();return Q[0]=b,Q[1]=v,Q[2]=R,Q}e.create=A;function m(b){const v=n();return v[0]=b[0],v[1]=b[1],v[2]=b[2],v}e.ofArray=m;function F(b,v,R,Q){return b[0]=v,b[1]=R,b[2]=Q,b}e.set=F;function E(b,v){return b[0]=v[0],b[1]=v[1],b[2]=v[2],b}e.copy=E;function p(b,v,R){return b[0]=v[0]+R[0],b[1]=v[1]+R[1],b[2]=v[2]+R[2],b}e.add=p;function P(b,v,R){return b[0]=v[0]-R[0],b[1]=v[1]-R[1],b[2]=v[2]-R[2],b}e.sub=P;function j(b,v,R){return b[0]=v[0]*R[0],b[1]=v[1]*R[1],b[2]=v[2]*R[2],b}e.mul=j;function O(b,v,R){return b[0]=v[0]/R[0],b[1]=v[1]/R[1],b[2]=v[2]/R[2],b}e.div=O;function Z(b,v,R){return b[0]=v[0]*R,b[1]=v[1]*R,b[2]=v[2]*R,b}e.scale=Z;function G(b,v,R,Q){return b[0]=v[0]+R[0]*Q,b[1]=v[1]+R[1]*Q,b[2]=v[2]+R[2]*Q,b}e.scaleAndAdd=G;function q(b,v,R,Q){return b[0]=v[0]-R[0]*Q,b[1]=v[1]-R[1]*Q,b[2]=v[2]-R[2]*Q,b}e.scaleAndSub=q;function C(b,v,R){return b[0]=v[0]+R,b[1]=v[1]+R,b[2]=v[2]+R,b}e.addScalar=C;function J(b,v,R){return b[0]=v[0]-R,b[1]=v[1]-R,b[2]=v[2]-R,b}e.subScalar=J;function D(b,v){return b[0]=Math.round(v[0]),b[1]=Math.round(v[1]),b[2]=Math.round(v[2]),b}e.round=D;function W(b,v){return b[0]=Math.ceil(v[0]),b[1]=Math.ceil(v[1]),b[2]=Math.ceil(v[2]),b}e.ceil=W;function le(b,v){return b[0]=Math.floor(v[0]),b[1]=Math.floor(v[1]),b[2]=Math.floor(v[2]),b}e.floor=le;function $(b,v){return b[0]=Math.trunc(v[0]),b[1]=Math.trunc(v[1]),b[2]=Math.trunc(v[2]),b}e.trunc=$;function f(b,v){return b[0]=Math.abs(v[0]),b[1]=Math.abs(v[1]),b[2]=Math.abs(v[2]),b}e.abs=f;function x(b,v,R){return b[0]=Math.min(v[0],R[0]),b[1]=Math.min(v[1],R[1]),b[2]=Math.min(v[2],R[2]),b}e.min=x;function o(b,v,R){return b[0]=Math.max(v[0],R[0]),b[1]=Math.max(v[1],R[1]),b[2]=Math.max(v[2],R[2]),b}e.max=o;function u(b,v,R,Q){return b[0]=Math.max(R[0],Math.min(Q[0],v[0])),b[1]=Math.max(R[1],Math.min(Q[1],v[1])),b[2]=Math.max(R[2],Math.min(Q[2],v[2])),b}e.clamp=u;function _(b,v){const R=v[0]-b[0],Q=v[1]-b[1],ue=v[2]-b[2];return Math.sqrt(R*R+Q*Q+ue*ue)}e.distance=_;function N(b,v){const R=v[0]-b[0],Q=v[1]-b[1],ue=v[2]-b[2];return R*R+Q*Q+ue*ue}e.squaredDistance=N;function L(b){const v=b[0],R=b[1],Q=b[2];return Math.sqrt(v*v+R*R+Q*Q)}e.magnitude=L;function Y(b){const v=b[0],R=b[1],Q=b[2];return v*v+R*R+Q*Q}e.squaredMagnitude=Y;function B(b,v,R){return Z(b,we(b,v),R)}e.setMagnitude=B;function V(b,v){return b[0]=-v[0],b[1]=-v[1],b[2]=-v[2],b}e.negate=V;function fe(b,v){return b[0]=1/v[0],b[1]=1/v[1],b[2]=1/v[2],b}e.inverse=fe;function we(b,v){const R=v[0],Q=v[1],ue=v[2];let me=R*R+Q*Q+ue*ue;return me>0&&(me=1/Math.sqrt(me),b[0]=v[0]*me,b[1]=v[1]*me,b[2]=v[2]*me),b}e.normalize=we;function Ie(b,v){return b[0]*v[0]+b[1]*v[1]+b[2]*v[2]}e.dot=Ie;function Ae(b,v,R){const Q=v[0],ue=v[1],me=v[2],Ne=R[0],$e=R[1],Ge=R[2];return b[0]=ue*Ge-me*$e,b[1]=me*Ne-Q*Ge,b[2]=Q*$e-ue*Ne,b}e.cross=Ae;function Fe(b,v,R,Q){const ue=v[0],me=v[1],Ne=v[2];return b[0]=ue+Q*(R[0]-ue),b[1]=me+Q*(R[1]-me),b[2]=Ne+Q*(R[2]-Ne),b}e.lerp=Fe;const Re=n();function Ce(b,v,R,Q){const ue=$n(Ie(v,R),-1,1),me=Math.acos(ue)*Q;return G(Re,R,v,-ue),we(Re,Re),p(b,Z(b,v,Math.cos(me)),Z(Re,Re,Math.sin(me)))}e.slerp=Ce;function M(b,v,R,Q,ue,me){const Ne=me*me,$e=Ne*(2*me-3)+1,Ge=Ne*(me-2)+me,Be=Ne*(me-1),Ke=Ne*(3-2*me);return b[0]=v[0]*$e+R[0]*Ge+Q[0]*Be+ue[0]*Ke,b[1]=v[1]*$e+R[1]*Ge+Q[1]*Be+ue[1]*Ke,b[2]=v[2]*$e+R[2]*Ge+Q[2]*Be+ue[2]*Ke,b}e.hermite=M;function S(b,v,R,Q,ue,me){const Ne=1-me,$e=Ne*Ne,Ge=me*me,Be=$e*Ne,Ke=3*me*$e,Rn=3*Ge*Ne,Bn=Ge*me;return b[0]=v[0]*Be+R[0]*Ke+Q[0]*Rn+ue[0]*Bn,b[1]=v[1]*Be+R[1]*Ke+Q[1]*Rn+ue[1]*Bn,b[2]=v[2]*Be+R[2]*Ke+Q[2]*Rn+ue[2]*Bn,b}e.bezier=S;function ee(b,v,R,Q,ue){return b[0]=kt(v[0],R[0],Q[0],ue),b[1]=kt(v[1],R[1],Q[1],ue),b[2]=kt(v[2],R[2],Q[2],ue),b}e.quadraticBezier=ee;function ze(b,v,R,Q,ue,me,Ne){return b[0]=St(v[0],R[0],Q[0],ue[0],me,Ne),b[1]=St(v[1],R[1],Q[1],ue[1],me,Ne),b[2]=St(v[2],R[2],Q[2],ue[2],me,Ne),b}e.spline=ze;function k(b,v){const R=Math.random()*2*Math.PI,Q=Math.random()*2-1,ue=Math.sqrt(1-Q*Q)*v;return b[0]=Math.cos(R)*ue,b[1]=Math.sin(R)*ue,b[2]=Q*v,b}e.random=k;function U(b,v,R){const Q=v[0],ue=v[1],me=v[2],Ne=1/(R[3]*Q+R[7]*ue+R[11]*me+R[15]||1);return b[0]=(R[0]*Q+R[4]*ue+R[8]*me+R[12])*Ne,b[1]=(R[1]*Q+R[5]*ue+R[9]*me+R[13])*Ne,b[2]=(R[2]*Q+R[6]*ue+R[10]*me+R[14])*Ne,b}e.transformMat4=U;function ie(b,v,R){const Q=v[0],ue=v[1],me=v[2];return b[0]=R[0]*Q+R[4]*ue+R[8]*me,b[1]=R[1]*Q+R[5]*ue+R[9]*me,b[2]=R[2]*Q+R[6]*ue+R[10]*me,we(b,b)}e.transformDirection=ie;function se(b,v,R,Q,ue,me){const Ne=v[0+ue],$e=v[1+ue],Ge=v[2+ue],Be=1/(R[3+me]*Ne+R[7+me]*$e+R[11+me]*Ge+R[15+me]||1);return b[0+Q]=(R[0+me]*Ne+R[4+me]*$e+R[8+me]*Ge+R[12+me])*Be,b[1+Q]=(R[1+me]*Ne+R[5+me]*$e+R[9+me]*Ge+R[13+me])*Be,b[2+Q]=(R[2+me]*Ne+R[6+me]*$e+R[10+me]*Ge+R[14+me])*Be,b}e.transformMat4Offset=se;function z(b,v,R,Q,ue,me){const Ne=v[0+ue],$e=v[1+ue],Ge=v[2+ue];b[0+Q]=R[0+me]*Ne+R[4+me]*$e+R[8+me]*Ge,b[1+Q]=R[1+me]*Ne+R[5+me]*$e+R[9+me]*Ge,b[2+Q]=R[2+me]*Ne+R[6+me]*$e+R[10+me]*Ge;const Be=Math.hypot(b[0+Q],b[1+Q],b[2+Q]);return Be>0&&(b[0+Q]/=Be,b[1+Q]/=Be,b[2+Q]/=Be),b}e.transformDirectionOffset=z;function I(b,v,R){const Q=v[0],ue=v[1],me=v[2];return b[0]=Q*R[0]+ue*R[3]+me*R[6],b[1]=Q*R[1]+ue*R[4]+me*R[7],b[2]=Q*R[2]+ue*R[5]+me*R[8],b}e.transformMat3=I;function T(b,v,R){const Q=v[0],ue=v[1],me=v[2],Ne=R[0],$e=R[1],Ge=R[2],Be=R[3],Ke=Be*Q+$e*me-Ge*ue,Rn=Be*ue+Ge*Q-Ne*me,Bn=Be*me+Ne*ue-$e*Q,Ct=-Ne*Q-$e*ue-Ge*me;return b[0]=Ke*Be+Ct*-Ne+Rn*-Ge-Bn*-$e,b[1]=Rn*Be+Ct*-$e+Bn*-Ne-Ke*-Ge,b[2]=Bn*Be+Ct*-Ge+Ke*-$e-Rn*-Ne,b}e.transformQuat=T;function X(b,v){const R=Math.sqrt(Y(b)*Y(v));if(R===0)return Math.PI/2;const Q=Ie(b,v)/R;return Math.acos($n(Q,-1,1))}e.angle=X;const ne=n(),ye=n(),ve=n(),Le=n(),nn=n(),We=n(),tn=n();function Qe(b,v,R,Q){P(ne,b,v),P(ye,R,v),P(ve,v,R),P(Le,Q,R),Ae(nn,ne,ye),Ae(We,ve,Le);const ue=X(nn,We);return Ae(tn,nn,We),Ie(ye,tn)>0?ue:-ue}e.dihedralAngle=Qe;function s(b,v,R,Q){return e.set(b,Q*Math.cos(R)*Math.sin(v),Q*Math.sin(R)*Math.sin(v),Q*Math.cos(v))}e.directionFromSpherical=s;function h(b,v){return b[0]===v[0]&&b[1]===v[1]&&b[2]===v[2]}e.exactEquals=h;function H(b,v){const R=b[0],Q=b[1],ue=b[2],me=v[0],Ne=v[1],$e=v[2];return Math.abs(R-me)<=De*Math.max(1,Math.abs(R),Math.abs(me))&&Math.abs(Q-Ne)<=De*Math.max(1,Math.abs(Q),Math.abs(Ne))&&Math.abs(ue-$e)<=De*Math.max(1,Math.abs(ue),Math.abs($e))}e.equals=H;const K=n();function re(b,v,R){const Q=X(v,R);if(Math.abs(Q)<1e-4)return be.setIdentity(b);if(Math.abs(Q-Math.PI)<De)return be.fromRotation(b,Math.PI,Math.abs(v[0])<.9?e.unitX:e.unitZ);const ue=Ae(K,v,R);return be.fromRotation(b,Q,ue)}e.makeRotation=re;function ce(b){return b[0]===0&&b[1]===0&&b[2]===0}e.isZero=ce;function oe(b,v,R,Q){P(b,v,Q);const ue=Ie(R,b)/Y(R);return p(b,Z(b,R,ue),Q)}e.projectPointOnVector=oe;const he=n();function ge(b,v,R,Q){return we(he,R),P(b,v,Q),P(b,v,Z(he,he,Ie(b,he)))}e.projectPointOnPlane=ge;function xe(b,v,R){const Q=Ie(R,v)/Y(R);return Z(b,R,Q)}e.projectOnVector=xe;const de=n();function Me(b,v,R){return xe(de,v,R),P(b,v,de)}e.projectOnPlane=Me;function _e(b,v,R){return we(b,Ae(b,Ae(b,v,R),v)),!e.isZero(b)||(b[0]=1,b[1]=0,b[2]=0,we(b,Ae(b,Ae(b,v,b),v)),!e.isZero(b))||(b[0]=0,b[1]=1,b[2]=0,we(b,Ae(b,Ae(b,v,b),v)),!e.isZero(b))||(we(b,R),!e.isZero(b))||(b[0]=1,b[1]=0,b[2]=0),b}e.orthogonalize=_e;function pe(b,v,R){return Ie(v,R)>0?E(b,v):V(b,E(b,v)),b}e.matchDirection=pe;function Se(b,v){if(ce(v))return E(b,e.unitX);{const R=n();return Math.abs(v[0])<Math.abs(v[1])&&Math.abs(v[0])<Math.abs(v[2])?(R[0]=0,R[1]=v[2],R[2]=-v[1]):Math.abs(v[1])<Math.abs(v[2])?(R[0]=-v[2],R[1]=0,R[2]=v[0]):(R[0]=v[1],R[1]=-v[0],R[2]=0),we(b,R)}}e.orthogonalDirection=Se;const Pe=n(),qe=n();function Ue(b,v,R,Q){return P(Pe,R,v),P(qe,Q,v),we(b,Ae(b,Pe,qe))}e.triangleNormal=Ue;const Ze=n();function je(b,v,R){return e.scaleAndAdd(b,v,e.sub(Ze,R,v),.5)}e.center=je;function Te(b,v){return`[${b[0].toPrecision(v)} ${b[1].toPrecision(v)} ${b[2].toPrecision(v)}]`}e.toString=Te,e.origin=A(0,0,0),e.unit=A(1,1,1),e.negUnit=A(-1,-1,-1),e.unitX=A(1,0,0),e.unitY=A(0,1,0),e.unitZ=A(0,0,1),e.negUnitX=A(-1,0,0),e.negUnitY=A(0,-1,0),e.negUnitZ=A(0,0,-1)})(y||(y={}));const At=Object.prototype.hasOwnProperty;function Jc(e,n){for(const t of Object.keys(n))At.call(n,t)&&typeof e[t]>"u"&&(e[t]=n[t]);return e}function R1(e,n){let t=!1;for(const r of Object.keys(n))if(At.call(n,r)&&n[r]!==e[r]){t=!0;break}return t?Object.assign({},e,n):e}function Wc(e,n){if(!e)return!n;if(!n)return!1;const t=Object.keys(e);if(Object.keys(n).length!==t.length)return!1;for(const r of t)if(!At.call(e,r)||e[r]!==n[r])return!1;return!0}function Kc(e,n){let t=e;for(let r=0;r<n.length;r++)if(n[r]&&(t=R1(e,n[r]),t!==e)){for(let i=r+1;i<n.length;i++)t=Object.assign(t,n[i]);break}return t}function Ht(e){if(e===null||typeof e!="object")return e;if(e instanceof Array){const n=[];for(let t=0,r=e.length;t<r;t++)n[t]=Ht(e[t]);return n}if(typeof e=="object"&&!("prototype"in e)){const n={};for(const t in e)At.call(e,t)&&(n[t]=Ht(e[t]));return n}throw new Error(`Can't clone, type "${typeof e}" unsupported`)}function Vc(e,n){if(e)for(const t of Object.keys(e))n(e[t],t)}const Qc={is(e){return typeof e.charCodeAt=="function"},toString(e){try{return e.toString()}catch(n){throw new Error(`Failed to convert StringLike object into string. This might be because the length ${e.length} exceeds maximum allowed string length ${Hn}. (${n})`)}}},Hn=536870888,ft=28;class tt{get length(){return this._length}constructor(n=ft){this._chunks=[],this._length=0,this._tmpArray=[],this.STRING_CHUNK_SIZE=2**n,this.STRING_CHUNK_SHIFT=n,this.STRING_CHUNK_MASK=2**n-1}static fromString(n,t=ft){const r=new tt(t);return r._append(n),r}static fromStrings(n,t=ft){const r=new tt(t);for(const i of n)r._append(i);return r}static fromUtf8Data(n,t=0,r=n.length,i=ft){const c=2**i,a=[];let l=t;for(;l<r;){let d=Math.min(l+c,r);if(d<r){for(;(n[d]&192)===128;)if(d--,d===l)throw new Error("Input is rubbish, no UTF-8 character start found in a chunk")}const w=Mt(n,l,d-l);a.push(w),l=d}return tt.fromStrings(a,i)}_append(n){const t=this.STRING_CHUNK_SIZE,r=this._chunks.length===0||this._chunks[this._chunks.length-1].length===t?"":this._chunks.pop();let i=t-r.length;for(this._chunks.push(r+n.substring(0,i));i<n.length;)this._chunks.push(n.substring(i,i+t)),i+=t;this._length+=n.length}_getChunkIndex(n){return n>>>this.STRING_CHUNK_SHIFT}_getIndexInChunk(n){return n&this.STRING_CHUNK_MASK}_isOutOfRange(n){return n<0||n>=this.length}at(n){return-this.length<=n&&n<0?this.at(n+this.length):this.charAt(n)||void 0}charAt(n){if(this._isOutOfRange(n))return"";const t=this._getChunkIndex(n),r=this._getIndexInChunk(n);return this._chunks[t][r]}charCodeAt(n){if(this._isOutOfRange(n))return NaN;const t=this._getChunkIndex(n),r=this._getIndexInChunk(n);return this._chunks[t].charCodeAt(r)}substring(n,t){const r=Math.min(Math.max(n??0,0),this.length),i=Math.min(Math.max(t??this.length,0),this.length);if(r>i)return this.substring(i,r);if(r===i)return"";if(i-r>Hn)throw new Error(`Trying to create get a substring longer (${i-r}) than maximum allowed string length (${Hn}).`);const c=this._getChunkIndex(r),a=this._getIndexInChunk(r),l=this._getChunkIndex(i),d=this._getIndexInChunk(i);if(c===l)return this._chunks[c].substring(a,d);{const w=this._getTmpArray();w.push(this._chunks[c].substring(a,this.STRING_CHUNK_SIZE));for(let g=c+1;g<l;g++)w.push(this._chunks[g]);return w.push(this._chunks[l].substring(0,d)),w.join("")}}_getTmpArray(){for(;this._tmpArray.length;)this._tmpArray.pop();return this._tmpArray}indexOf(n,t=0){if(n.length>this.STRING_CHUNK_SIZE)throw new Error("NotImplementedError: indexOf is only implemented for searchString shorter than STRING_CHUNK_SIZE");t<0&&(t=0);const r=this._getChunkIndex(t);for(let i=r;i<this._chunks.length;i++){const c=this._chunks[i],a=i===r?this._getIndexInChunk(t):0,l=c.indexOf(n,a);if(l>=0)return i*this.STRING_CHUNK_SIZE+l;if(i!==this._chunks.length-1){const d=Math.max(this.STRING_CHUNK_SIZE-n.length+1,a),g=(c.substring(d,void 0)+this._chunks[i+1].substring(0,n.length-1)).indexOf(n);if(g>=0)return i*this.STRING_CHUNK_SIZE+d+g}}return-1}includes(n,t=0){return this.indexOf(n,t)>=0}startsWith(n,t=0){if(n.length>this.STRING_CHUNK_SIZE)throw new Error("NotImplementedError: startsWith is only implemented for searchString shorter than STRING_CHUNK_SIZE");return this.substring(t,t+n.length)===n}toString(){try{return this._chunks.join("")}catch(n){throw new Error(`Failed to convert StringLike object into string. This might be because the length ${this.length} exceeds maximum allowed string length ${Hn}. (${n})`)}}}function e2(e,n,t){for(let r=0,i=t.length;r<i;r++){const c=t.charCodeAt(r);if(c<128){e[n++]=c>>>0&127|0;continue}if(c<2048){e[n++]=c>>>6&31|192,e[n++]=c>>>0&63|128;continue}if(c<65536){e[n++]=c>>>12&15|224,e[n++]=c>>>6&63|128,e[n++]=c>>>0&63|128;continue}if(c<1114112){e[n++]=c>>>18&7|240,e[n++]=c>>>12&63|128,e[n++]=c>>>6&63|128,e[n++]=c>>>0&63|128;continue}throw new Error("bad codepoint "+c)}}const B1=function(){const e=[];for(let n=0;n<1024;n++)e[n]=String.fromCharCode(n);return e}();function f0(e){throw new Error(e)}function T1(e,n,t){const r=B1;let i,c=0;const a=[],l=512;for(let d=n,w=n+t;d<w;d++){const g=e[d];g&128?(g&224)===192?a[c++]=r[(g&15)<<6|e[++d]&63]:(g&240)===224?a[c++]=String.fromCharCode((g&15)<<12|(e[++d]&63)<<6|(e[++d]&63)<<0):(g&248)===240?a[c++]=String.fromCharCode((g&7)<<18|(e[++d]&63)<<12|(e[++d]&63)<<6|(e[++d]&63)<<0):f0("Invalid byte "+g.toString(16)):a[c++]=r[g],c===l&&(i=i||[],i[i.length]=a.join(""),c=0)}return i?(c>0&&(i[i.length]=a.slice(0,c).join("")),i.join("")):a.slice(0,c).join("")}const dr=typeof TextDecoder<"u"?new TextDecoder:void 0;function Mt(e,n=0,t=e.length){if(dr){const r=n||t!==e.length?e.subarray(n,n+t):e;return dr.decode(r)}else return T1(e,n,t)}function j1(e,n=0,t=e.length){if(t<=Hn)return Mt(e,n,t);const r=tt.fromUtf8Data(e,n,n+t);return r.length<=Hn?r.toString():r}function n2(e){let n=0;for(let t=0,r=e.length;t<r;t++){const i=e.charCodeAt(t);if(i<128){n+=1;continue}if(i<2048){n+=2;continue}if(i<65536){n+=3;continue}if(i<1114112){n+=4;continue}f0("bad codepoint "+i)}return n}function F1(){const e=function(){const p=typeof window<"u"&&window,P=typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self;return p||typeof global<"u"&&global||P}(),n={},t=typeof document<"u"?document:void 0;let r=1,i;function c(p,...P){typeof p!="function"&&(p=new Function(""+p));const j={callback:p,args:P};return n[r]=j,i(r),r++}function a(p){delete n[p]}function l(p){const P=p.callback,j=p.args;switch(j.length){case 0:P();break;case 1:P(j[0]);break;case 2:P(j[0],j[1]);break;case 3:P(j[0],j[1],j[2]);break;default:P.apply(void 0,j);break}}function d(p){const P=n[p];a(p),l(P)}function w(){i=function(p){process.nextTick(function(){d(p)})}}function g(){if(e&&e.postMessage&&!e.importScripts){let p=!0;const P=e.onmessage;return e.onmessage=function(){p=!1},e.postMessage("","*"),e.onmessage=P,p}}function A(){const p="setImmediate$"+Math.random()+"$",P=function(j){j.source===e&&typeof j.data=="string"&&j.data.indexOf(p)===0&&d(+j.data.slice(p.length))};window.addEventListener?window.addEventListener("message",P,!1):window.attachEvent("onmessage",P),i=function(j){window.postMessage(p+j,"*")}}function m(){const p=new MessageChannel;p.port1.onmessage=function(P){const j=P.data;d(j)},i=function(P){p.port2.postMessage(P)}}function F(){const p=t.documentElement;i=function(P){let j=t.createElement("script");j.onreadystatechange=function(){d(P),j.onreadystatechange=null,p.removeChild(j),j=null},p.appendChild(j)}}function E(){i=function(p){setTimeout(d,0,p)}}return typeof process<"u"&&{}.toString.call(process)==="[object process]"?w():g()?A():typeof MessageChannel<"u"?m():t&&"onreadystatechange"in t.createElement("script")?F():E(),{setImmediate:c,clearImmediate:a}}const Xt=function(){return typeof setImmediate<"u"?typeof window<"u"?{setImmediate:(e,...n)=>window.setImmediate(e,...n),clearImmediate:e=>window.clearImmediate(e)}:{setImmediate,clearImmediate}:F1()}();function $1(e){Xt.setImmediate(e)}const O1={setImmediate:Xt.setImmediate,clearImmediate:Xt.clearImmediate,immediatePromise(){return new Promise($1)},delay(e,n=void 0){return new Promise(t=>setTimeout(t,e,n))}};var L1={};let t2=function(){try{return!0}catch{return!1}}(),r2=function(){try{const n=L1.DEBUG;return n==="*"||n==="molstar"}catch{return!1}}();var rt;(function(e){function n(i){}e.markStart=n;function t(i){}e.markEnd=t;function r(i){}e.measure=r})(rt||(rt={}));function U1(e,n,t=250){const r=u0(e,n,t),i=new zt(r,r.root);return rr(e,i)}function i2(e,n,t=250){const r=u0(e,n,t);return new zt(r,r.root)}function G1(e,n){return rr(n,e)}function Z1(e,n,t){return e.runChild(n,t)}function l0(e){return{taskId:e.id,taskName:e.name,message:"",startedTime:0,canAbort:!0,isIndeterminate:!0,current:0,max:0}}function u0(e,n,t){const r={abortRequested:!1,treeAborted:!1,reason:""};return{updateRateMs:t,lastNotified:ct(),observer:n,abortToken:r,taskId:e.id,root:{progress:l0(e),children:[]},tryAbort:D1(r)}}function D1(e){return n=>{e.abortRequested=!0,e.reason=n||e.reason}}function d0(e){return{progress:{...e.progress},children:e.children.map(d0)}}function h0(e){return e.progress.canAbort&&e.children.every(h0)}function H1(e){return{root:d0(e.root),canAbort:h0(e.root),requestAbort:e.tryAbort}}async function rr(e,n){rt.markStart(e),n.node.progress.startedTime=ct();try{const t=await e.f(n);return rt.markEnd(e),rt.measure(e),n.info.abortToken.abortRequested&&x0(n.info),t}catch(t){throw en.isAbort(t)&&(n.isAborted=!0,n.node.children.length>0&&await new Promise(r=>{n.onChildrenFinished=r}),e.onAbort&&e.onAbort()),t}}function x0(e){throw e.abortToken.treeAborted||(e.abortToken.treeAborted=!0,m0(e.root),g0(e,ct())),en.Aborted(e.abortToken.reason)}function m0(e){const n=e.progress;n.isIndeterminate=!0,n.canAbort=!1,n.message="Aborting...";for(const t of e.children)m0(t)}function g0(e,n){e.lastNotified=n;const t=H1(e);e.observer(t)}class zt{checkAborted(){this.info.abortToken.abortRequested&&(this.isAborted=!0,x0(this.info))}get shouldUpdate(){return this.checkAborted(),ct()-this.lastUpdatedTime>this.info.updateRateMs}updateProgress(n){if(this.checkAborted(),!n)return;const t=this.node.progress;typeof n=="string"?(t.message=n,t.isIndeterminate=!0):(typeof n.canAbort<"u"&&(t.canAbort=n.canAbort),typeof n.message<"u"&&(t.message=n.message),typeof n.current<"u"&&(t.current=n.current),typeof n.max<"u"&&(t.max=n.max),t.isIndeterminate=typeof t.current>"u"||typeof t.max>"u",typeof n.isIndeterminate<"u"&&(t.isIndeterminate=n.isIndeterminate))}update(n,t){if(this.lastUpdatedTime=ct(),this.updateProgress(n),!t)return g0(this.info,this.lastUpdatedTime),this.checkAborted(),O1.immediatePromise()}async runChild(n,t){this.updateProgress(t);const r={progress:l0(n),children:[]},i=this.node.children;i.push(r);const c=new zt(this.info,r);try{return await rr(n,c)}catch(a){if(en.isAbort(a)&&this.isAborted)return;throw a}finally{const a=i.indexOf(r);if(a>=0){for(let l=a,d=i.length-1;l<d;l++)i[l]=i[l+1];i.pop()}i.length===0&&this.onChildrenFinished&&this.onChildrenFinished()}}constructor(n,t){this.isSynchronous=!1,this.isExecuting=!0,this.lastUpdatedTime=0,this.onChildrenFinished=void 0,this.node=t,this.info=n}}class X1{constructor(){this.shouldUpdate=!1,this.isSynchronous=!0}update(n,t){}}const xt=new X1;var en;(function(e){class n{run(m,F=250){return m?U1(this,m,F):this.f(xt)}runAsChild(m,F){return m.isSynchronous?this.f(xt):Z1(m,this,F)}runInContext(m){return m.isSynchronous?this.f(xt):G1(m,this)}constructor(m,F,E){this.name=m,this.f=F,this.onAbort=E,this.id=g()}}function t(A){const m=A;return!!A&&typeof m.id=="number"&&typeof m.name=="string"&&!!m.run}e.is=t;function r(A){return!!A&&!!A.isAborted}e.isAbort=r;function i(A){return{isAborted:!0,reason:A,toString(){return`Aborted${A?": "+A:""}`}}}e.Aborted=i;function c(A,m,F){return new n(A,m,F)}e.create=c;function a(A,m){return c(A,async F=>m)}e.constant=a;function l(){return c("",async A=>{})}e.empty=l;function d(A,m){return c(A,async F=>{throw new Error(m)})}e.fail=d;function w(A,m){return t(A)?m?A.runInContext(m):A.run():A}e.resolveInContext=w;const g=S0(0,1073741823)})(en||(en={}));var hr;(function(e){e.Synchronous=xt})(hr||(hr={}));var xr;(function(e){function n(r,i=""){const c=r.progress;if(!r.children.length)return c.isIndeterminate?`${i}${c.taskName}: ${c.message}`:`${i}${c.taskName}: [${c.current}/${c.max}] ${c.message}`;const a=i+"  |_ ",l=r.children.map(d=>n(d,a));return c.isIndeterminate?`${i}${c.taskName}: ${c.message}
${l.join(`
`)}`:`${i}${c.taskName}: [${c.current}/${c.max}] ${c.message}
${l.join(`
`)}`}function t(r){return n(r.root)}e.format=t})(xr||(xr={}));const qn=typeof process<"u"&&process.versions!=null&&process.versions.node!=null,mr=Y1();function Y1(){if(typeof File>"u"||qn){class e{arrayBuffer(){return this.blob.arrayBuffer()}slice(t,r,i){return this.blob.slice(t,r,i)}stream(){return this.blob.stream()}text(){return this.blob.text()}bytes(){return this.blob.bytes()}constructor(t,r,i){var c;this.blob=new Blob(t,i),this.size=this.blob.size,this.type=this.blob.type,this.name=r,this.lastModified=(c=i==null?void 0:i.lastModified)!==null&&c!==void 0?c:0,this.webkitRelativePath=""}}return e}else return File}function J1(e){return e>>0}function An(e,n){return e[n]|e[n+1]<<8}function Tn(e,n,t){e[n]=t&255,e[n+1]=t>>8&255}function Ln(e,n){return e[n+3]*(256*256*256)+(e[n+2]<<16|e[n+1]<<8|e[n])}function vn(e,n,t){e[n]=t&255,e[n+1]=t>>8&255,e[n+2]=t>>16&255,e[n+3]=t>>24&255}function W1(e,n,t){let r="";for(let i=0;i<t;i++)r+=String.fromCharCode(e[n+i]);return r}function K1(e){return e.length<2?"0"+e:e}function V1(e,n,t){let r="",i;for(let c=0;c<t;c++)r+="%"+K1(e[n+c].toString(16));try{i=decodeURIComponent(r)}catch{return W1(e,n,t)}return i}function Q1(e,n,t){const r=t.length;let i=0;for(let c=0;c<r;c++){const a=t.charCodeAt(c);if(!(a&4294967168))e[n+i]=a,i++;else if(!(a&4294965248))e[n+i]=192|a>>6,e[n+i+1]=128|a>>0&63,i+=2;else if(!(a&4294901760))e[n+i]=224|a>>12,e[n+i+1]=128|a>>6&63,e[n+i+2]=128|a>>0&63,i+=3;else if(!(a&4294967295-(1<<21)+1))e[n+i]=240|a>>18,e[n+i+1]=128|a>>12&63,e[n+i+2]=128|a>>6&63,e[n+i+3]=128|a>>0&63,i+=4;else throw new Error("e")}return i}function p0(e){const n=e.length;let t=0;for(let r=0;r<n;r++){const i=e.charCodeAt(r);if(!(i&4294967168))t++;else if(!(i&4294965248))t+=2;else if(!(i&4294901760))t+=3;else if(!(i&4294967295-(1<<21)+1))t+=4;else throw new Error("e")}return t}const ei=function(){const e=new Uint32Array(256);for(let n=0;n<256;n++){let t=n;for(let r=0;r<8;r++)t&1?t=3988292384^t>>>1:t=t>>>1;e[n]=t}return e}();function ni(e,n,t,r){for(let i=0;i<r;i++)e=ei[(e^n[t+i])&255]^e>>>8;return e}function b0(e,n,t){return ni(4294967295,e,n,t)^4294967295}const lt={deflate:void 0,"deflate-raw":void 0,gzip:void 0};function y0(e){if(lt[e]===void 0)try{new CompressionStream(e),lt[e]=!0}catch{lt[e]=!1}return!!lt[e]}const ae=function(){const e=Uint16Array,n=Uint32Array;return{next_code:new e(16),bl_count:new e(16),ordr:[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],of0:[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],exb:[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0],ldef:new e(32),df0:[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,65535,65535],dxb:[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0],ddef:new n(32),flmap:new e(512),fltree:[],fdmap:new e(32),fdtree:[],lmap:new e(32768),ltree:[],ttree:[],dmap:new e(32768),dtree:[],imap:new e(512),itree:[],rev15:new e(32768),lhst:new n(286),dhst:new n(30),ihst:new n(19),lits:new n(15e3),strt:new e(65536),prev:new e(32768)}}();(function(){for(let t=0;t<32768;t++){let r=t;r=(r&2863311530)>>>1|(r&1431655765)<<1,r=(r&3435973836)>>>2|(r&858993459)<<2,r=(r&4042322160)>>>4|(r&252645135)<<4,r=(r&4278255360)>>>8|(r&16711935)<<8,ae.rev15[t]=(r>>>16|r<<16)>>>17}function n(t,r,i){for(;r--!==0;)t.push(0,i)}for(let t=0;t<32;t++)ae.ldef[t]=ae.of0[t]<<3|ae.exb[t],ae.ddef[t]=ae.df0[t]<<4|ae.dxb[t];n(ae.fltree,144,8),n(ae.fltree,112,9),n(ae.fltree,24,7),n(ae.fltree,8,8),Nn(ae.fltree,9),it(ae.fltree,9,ae.flmap),st(ae.fltree,9),n(ae.fdtree,32,5),Nn(ae.fdtree,5),it(ae.fdtree,5,ae.fdmap),st(ae.fdtree,5),n(ae.itree,19,0),n(ae.ltree,286,0),n(ae.dtree,30,0),n(ae.ttree,320,0)})();function it(e,n,t){const r=e.length,i=ae.rev15;for(let c=0;c<r;c+=2)if(e[c+1]!==0){const a=c>>1,l=e[c+1],d=a<<4|l,w=n-l;let g=e[c]<<w;const A=g+(1<<w);for(;g!==A;){const m=i[g]>>>15-n;t[m]=d,g++}}}function Nn(e,n){const t=e.length,r=ae.bl_count;for(let a=0;a<=n;a++)r[a]=0;for(let a=1;a<t;a+=2)r[e[a]]++;const i=ae.next_code;let c=0;r[0]=0;for(let a=1;a<=n;a++)c=c+r[a-1]<<1,i[a]=c;for(let a=0;a<t;a+=2){const l=e[a+1];l!==0&&(e[a]=i[l],i[l]++)}}function st(e,n){const t=ae.rev15,r=15-n;for(let i=0;i<e.length;i+=2){const c=e[i]<<n-e[i+1];e[i]=t[c]>>>r}}function ti(e,n){const t=n===void 0;return n===void 0&&(n=new Uint8Array(e.length>>>2<<3)),{data:e,buf:n,noBuf:t,BFINAL:0,off:0,pos:0}}function ri(e,n){const{data:t,noBuf:r}=e;let{buf:i,BFINAL:c,off:a,pos:l}=e,d=0;for(;c===0&&d<n;){let w,g,A=0,m=0;c=Rt(t,l,1),d+=1;const F=Rt(t,l+1,2);if(l+=3,F===0){l&7&&(l+=8-(l&7));const E=(l>>>3)+4,p=t[E-4]|t[E-3]<<8;r&&(i=qt(i,a+p)),i.set(new Uint8Array(t.buffer,t.byteOffset+E,p),a),l=E+p<<3,a+=p;continue}if(r&&(i=qt(i,a+(1<<17))),F===1)w=ae.flmap,g=ae.fdmap,A=511,m=31;else if(F===2){const E=kn(t,l,5)+257,p=kn(t,l+5,5)+1,P=kn(t,l+10,4)+4;l+=14;for(let G=0;G<38;G+=2)ae.itree[G]=0,ae.itree[G+1]=0;let j=1;for(let G=0;G<P;G++){const q=kn(t,l+G*3,3);ae.itree[(ae.ordr[G]<<1)+1]=q,q>j&&(j=q)}l+=3*P,Nn(ae.itree,j),it(ae.itree,j,ae.imap),w=ae.lmap,g=ae.dmap,l=si(ae.imap,(1<<j)-1,E+p,t,l,ae.ttree);const O=gr(ae.ttree,0,E,ae.ltree);A=(1<<O)-1;const Z=gr(ae.ttree,E,p,ae.dtree);m=(1<<Z)-1,Nn(ae.ltree,O),it(ae.ltree,O,w),Nn(ae.dtree,Z),it(ae.dtree,Z,g)}else throw new Error(`unknown BTYPE ${F}`);for(;;){const E=w[Yt(t,l)&A];l+=E&15;const p=E>>>4;if(!(p>>>8))i[a++]=p;else{if(p===256)break;{let P=a+p-254;if(p>264){const q=ae.ldef[p-257];P=a+(q>>>3)+kn(t,l,q&7),l+=q&7}const j=g[Yt(t,l)&m];l+=j&15;const O=j>>>4,Z=ae.ddef[O],G=(Z>>>4)+Rt(t,l,Z&15);for(l+=Z&15,r&&(i=qt(i,a+(1<<17)));a<P;)i[a]=i[a++-G],i[a]=i[a++-G],i[a]=i[a++-G],i[a]=i[a++-G];a=P}}}}e.buf=i,e.BFINAL=c,e.off=a,e.pos=l}async function ii(e,n,t){if(n[0]===3&&n[1]===0)return t||new Uint8Array(0);if(y0("deflate-raw")){const i=new DecompressionStream("deflate-raw"),a=new Blob([n]).stream().pipeThrough(i);let l=0;const d=[],w=a.getReader(),g=async()=>{const{done:A,value:m}=await w.read();if(!A)return e.shouldUpdate&&await e.update({message:"Inflating blocks...",current:l,max:t==null?void 0:t.length}),t?t.set(m,l):d.push(m),l+=m.length,g()};if(await g(),!t){t=new Uint8Array(l);for(let A=0,m=0;A<d.length;A++)t.set(d[A],m),m+=d[A].length}return t}const r=ti(n,t);for(;r.BFINAL===0;)e.shouldUpdate&&await e.update({message:"Inflating blocks...",current:r.pos,max:n.length}),ri(r,100);return r.buf.length===r.off?r.buf:r.buf.slice(0,r.off)}function qt(e,n){const t=e.length;if(n<=t)return e;const r=new Uint8Array(Math.max(t<<1,n));return r.set(e,0),r}function si(e,n,t,r,i,c){let a=0;for(;a<t;){const l=e[Yt(r,i)&n];i+=l&15;const d=l>>>4;if(d<=15)c[a]=d,a++;else{let w=0,g=0;d===16?(g=3+kn(r,i,2),i+=2,w=c[a-1]):d===17?(g=3+kn(r,i,3),i+=3):d===18&&(g=11+kn(r,i,7),i+=7);const A=a+g;for(;a<A;)c[a]=w,a++}}return i}function gr(e,n,t,r){let i=0,c=0;const a=r.length>>>1;for(;c<t;){const l=e[c+n];r[c<<1]=0,r[(c<<1)+1]=l,l>i&&(i=l),c++}for(;c<a;)r[c<<1]=0,r[(c<<1)+1]=0,c++;return i}function kn(e,n,t){return(e[n>>>3]|e[(n>>>3)+1]<<8)>>>(n&7)&(1<<t)-1}function Rt(e,n,t){return(e[n>>>3]|e[(n>>>3)+1]<<8|e[(n>>>3)+2]<<16)>>>(n&7)&(1<<t)-1}function Yt(e,n){return(e[n>>>3]|e[(n>>>3)+1]<<8|e[(n>>>3)+2]<<16)>>>(n&7)}function Bt(e,n,t){const r=[],i=e.length,c=n.length;for(let E=0;E<c;E+=2)n[E]=0,n[E+1]=0;for(let E=0;E<i;E++)e[E]!==0&&r.push({lit:E,f:e[E],d:void 0});const a=r.length,l=r.slice(0);if(a===0)return 0;if(a===1){const E=r[0].lit,p=E===0?1:0;return n[(E<<1)+1]=1,n[(p<<1)+1]=1,1}r.sort(function(E,p){return E.f-p.f});let d=r[0],w=r[1],g=0,A=1,m=2;for(r[0]={lit:-1,f:d.f+w.f,l:d,r:w,d:0};A!==a-1;)g!==A&&(m===a||r[g].f<r[m].f)?d=r[g++]:d=r[m++],g!==A&&(m===a||r[g].f<r[m].f)?w=r[g++]:w=r[m++],r[A++]={lit:-1,f:d.f+w.f,l:d,r:w,d:void 0};let F=Jt(r[A-1],0);F>t&&(ci(l,t,F),F=t);for(let E=0;E<a;E++)n[(l[E].lit<<1)+1]=l[E].d;return F}function Jt(e,n){return e.lit!==-1?(e.d=n,n):Math.max(Jt(e.l,n+1),Jt(e.r,n+1))}function ci(e,n,t){let r=0,i=0;const c=1<<t-n;for(e.sort(function(a,l){return l.d===a.d?a.f-l.f:l.d-a.d}),r=0;r<e.length&&e[r].d>n;r++){const a=e[r].d;e[r].d=n,i+=c-(1<<t-a)}for(i=i>>>t-n;i>0;){const a=e[r].d;a<n?(e[r].d++,i-=1<<n-a-1):r++}for(;r>=0;r--)e[r].d===n&&i<0&&(e[r].d--,i++);i!==0&&console.log("debt left")}function oi(e,n,t,r){const{lits:i,strt:c,prev:a}=ae;return{data:e,out:n,opt:fi[r],i:0,pos:t<<3,cvrd:0,dlen:e.length,li:0,lc:0,bs:0,ebits:0,c:0,nc:0,lits:i,strt:c,prev:a}}function ai(e,n){const{data:t,dlen:r,out:i,opt:c}=e;let{i:a,pos:l,cvrd:d,li:w,lc:g,bs:A,ebits:m,c:F,nc:E}=e;const{lits:p,strt:P,prev:j}=ae,O=Math.min(a+n,r);for(;a<O;a++){if(F=E,a+1<r-2){E=ir(t,a+1);const Z=a+1&32767;j[Z]=P[E],P[E]=Z}if(d<=a){(w>14e3||g>26697)&&r-a>100&&(d<a&&(p[w]=a-d,w+=2,d=a),l=w0(a===r-1||d===r?1:0,p,w,m,t,A,a-A,i,l),w=g=m=0,A=a);let Z=0;if(a<r-2&&(Z=ui(t,a,j,F,Math.min(c[2],r-a),c[3])),Z!==0){const G=Z>>>16,q=Z&65535,C=yr(G,ae.of0);ae.lhst[257+C]++;const J=yr(q,ae.df0);ae.dhst[J]++,m+=ae.exb[C]+ae.dxb[J],p[w]=G<<23|a-d,p[w+1]=q<<16|C<<8|J,w+=2,d=a+G}else ae.lhst[t[a]]++;g++}}e.i=a,e.pos=l,e.cvrd=d,e.li=w,e.lc=g,e.bs=A,e.ebits=m,e.c=F,e.nc=E}const fi=[[0,0,0,0,0],[4,4,8,4,0],[4,5,16,8,0],[4,6,16,16,0],[4,10,16,32,0],[8,16,32,32,0],[8,16,128,128,0],[8,32,128,256,0],[32,128,258,1024,1],[32,258,258,4096,1]];async function li(e,n,t,r,i){if(y0("deflate-raw")){const E=new CompressionStream("deflate-raw"),j=new Blob([n]).stream().pipeThrough(E).getReader();let O=r;const Z=async()=>{const{done:G,value:q}=await j.read();if(!G)return e.shouldUpdate&&await e.update({message:"Deflating...",current:O,max:t.length}),t.set(q,O),O+=q.length,Z()};return await Z(),O}const c=oi(n,t,r,i),{dlen:a}=c;if(i===0){let{i:E,pos:p}=c;for(;E<a;){const P=Math.min(65535,a-E);jn(t,p,E+P===a?1:0),p=M0(n,E,P,t,p+8),E+=P}return p>>>3}for(a>2&&(c.nc=ir(n,0),c.strt[c.nc]=0);c.i<a;)e.shouldUpdate&&await e.update({message:"Deflating...",current:c.i,max:a}),ai(c,1024*1024);let{li:l,cvrd:d,pos:w}=c;const{i:g,lits:A,bs:m,ebits:F}=c;for((m!==g||n.length===0)&&(d<g&&(A[l]=g-d,l+=2,d=g),w=w0(1,A,l,F,n,m,g-m,t,w));w&7;)w++;return w>>>3}function ui(e,n,t,r,i,c){let a=n&32767,l=t[a],d=a-l+32768&32767;if(l===a||r!==ir(e,n-d))return 0;let w=0,g=0;const A=Math.min(32767,n);for(;d<=A&&--c!==0&&l!==a;){if(w===0||e[n+w]===e[n+w-d]){let m=di(e,n,d);if(m>w){if(w=m,g=d,w>=i)break;d+2<m&&(m=d+2);let F=0;for(let E=0;E<m-2;E++){const p=n-d+E+32768&32767,P=t[p],j=p-P+32768&32767;j>F&&(F=j,l=p)}}}a=l,l=t[a],d+=a-l+32768&32767}return w<<16|g}function di(e,n,t){if(e[n]!==e[n-t]||e[n+1]!==e[n+1-t]||e[n+2]!==e[n+2-t])return 0;const r=n,i=Math.min(e.length,n+258);for(n+=3;n<i&&e[n]===e[n-t];)n++;return n-r}function ir(e,n){return(e[n]<<8|e[n+1])+(e[n+2]<<4)&65535}function w0(e,n,t,r,i,c,a,l,d){ae.lhst[256]++;const[w,g,A,m,F,E,p,P]=hi(),j=(d+3&7?8-(d+3&7):0)+32+(a<<3),O=r+Vn(ae.fltree,ae.lhst)+Vn(ae.fdtree,ae.dhst);let Z=r+Vn(ae.ltree,ae.lhst)+Vn(ae.dtree,ae.dhst);Z+=14+3*E+Vn(ae.itree,ae.ihst)+(ae.ihst[16]*2+ae.ihst[17]*3+ae.ihst[18]*7);for(let q=0;q<286;q++)ae.lhst[q]=0;for(let q=0;q<30;q++)ae.dhst[q]=0;for(let q=0;q<19;q++)ae.ihst[q]=0;const G=j<O&&j<Z?0:O<Z?1:2;if(mt(l,d,e),mt(l,d+1,G),d+=3,G===0){for(;d&7;)d++;d=M0(i,c,a,l,d)}else{let q,C;if(G===1)q=ae.fltree,C=ae.fdtree;else if(G===2){Nn(ae.ltree,w),st(ae.ltree,w),Nn(ae.dtree,g),st(ae.dtree,g),Nn(ae.itree,A),st(ae.itree,A),q=ae.ltree,C=ae.dtree,jn(l,d,m-257),d+=5,jn(l,d,F-1),d+=5,jn(l,d,E-4),d+=4;for(let D=0;D<E;D++)jn(l,d+D*3,ae.itree[(ae.ordr[D]<<1)+1]);d+=3*E,d=pr(p,ae.itree,l,d),d=pr(P,ae.itree,l,d)}else a0();let J=c;for(let D=0;D<t;D+=2){const W=n[D],le=W>>>23,$=J+(W&(1<<23)-1);for(;J<$;)d=nt(i[J++],q,l,d);if(le!==0){const f=n[D+1],x=f>>16,o=f>>8&255,u=f&255;d=nt(257+o,q,l,d),jn(l,d,le-ae.of0[o]),d+=ae.exb[o],d=nt(u,C,l,d),mt(l,d,x-ae.df0[u]),d+=ae.dxb[u],J+=le}}d=nt(256,q,l,d)}return d}function M0(e,n,t,r,i){let c=i>>>3;return r[c]=t,r[c+1]=t>>>8,r[c+2]=255-r[c],r[c+3]=255-r[c+1],c+=4,r.set(new Uint8Array(e.buffer,n,t),c),i+(t+4<<3)}function hi(){const e=Bt(ae.lhst,ae.ltree,15),n=Bt(ae.dhst,ae.dtree,15),t=[],r=br(ae.ltree,t),i=[],c=br(ae.dtree,i);for(let d=0;d<t.length;d+=2)ae.ihst[t[d]]++;for(let d=0;d<i.length;d+=2)ae.ihst[i[d]]++;const a=Bt(ae.ihst,ae.itree,7);let l=19;for(;l>4&&ae.itree[(ae.ordr[l-1]<<1)+1]===0;)l--;return[e,n,a,r,c,l,t,i]}function Vn(e,n){let t=0;for(let r=0;r<n.length;r++)t+=n[r]*e[(r<<1)+1];return t}function pr(e,n,t,r){for(let i=0;i<e.length;i+=2){const c=e[i],a=e[i+1];r=nt(c,n,t,r);const l=c===16?2:c===17?3:7;c>15&&(jn(t,r,a),r+=l)}return r}function br(e,n){let t=e.length;for(;t!==2&&e[t-1]===0;)t-=2;for(let r=0;r<t;r+=2){const i=e[r+1],c=r+3<t?e[r+3]:-1,a=r+5<t?e[r+5]:-1,l=r===0?-1:e[r-1];if(i===0&&c===i&&a===i){let d=r+5;for(;d+2<t&&e[d+2]===i;)d+=2;const w=Math.min(d+1-r>>>1,138);w<11?n.push(17,w-3):n.push(18,w-11),r+=w*2-2}else if(i===l&&c===i&&a===i){let d=r+5;for(;d+2<t&&e[d+2]===i;)d+=2;const w=Math.min(d+1-r>>>1,6);n.push(16,w-3),r+=w*2-2}else n.push(i,0)}return t>>>1}function yr(e,n){let t=0;return n[t|16]<=e&&(t|=16),n[t|8]<=e&&(t|=8),n[t|4]<=e&&(t|=4),n[t|2]<=e&&(t|=2),n[t|1]<=e&&(t|=1),t}function nt(e,n,t,r){return mt(t,r,n[e<<1]),r+n[(e<<1)+1]}function jn(e,n,t){t=t<<(n&7);const r=n>>>3;e[r]|=t,e[r+1]|=t>>>8}function mt(e,n,t){t=t<<(n&7);const r=n>>>3;e[r]|=t,e[r+1]|=t>>>8,e[r+2]|=t>>>16}async function _0(e,n,t=!1){const r=Object.create(null),i=new Uint8Array(n);if(An(i,0)!==19280)throw new Error('Invalid ZIP file. A valid ZIP file must start with two magic bytes \\x50\\x4b ("PK" in ASCII).');let c=i.length-4;for(;Ln(i,c)!==101010256;)c--;let a=c;a+=4,a+=4;const l=An(i,a);a+=2,a+=2,a+=4;const d=Ln(i,a);a+=4,a=d;for(let w=0;w<l;w++){a+=4,a+=4,a+=4,a+=4,a+=4,a+=4,a+=4;const g=An(i,a),A=An(i,a+2),m=An(i,a+4);a+=6,a+=8;const F=Ln(i,a);a+=4,a+=g+A+m,await xi(e,i,F,r,t)}return r}async function xi(e,n,t,r,i){t+=4,t+=2,t+=2;const c=An(n,t);t+=2,t+=4,t+=4;const a=Ln(n,t);t+=4;const l=Ln(n,t);t+=4;const d=An(n,t);t+=2;const w=An(n,t);t+=2;const g=V1(n,t,d);if(t+=d,t+=w,i){r[g]={size:l,csize:a};return}const A=new Uint8Array(n.buffer,t,a);if(c===0)r[g]=A;else if(c===8){const m=new Uint8Array(l);await I0(e,A,m),r[g]=m}else throw new Error(`unknown compression method: ${c}`)}async function I0(e,n,t){return ii(e,n,t)}async function mi(e,n,t){const r=n[3];let i=10;if(r&4){const g=An(n,i);i+=g}if(r&8){let g=i;for(;n[g]!==0;)++g;i=g+1}if(r&16){let g=i;for(;n[g]!==0;)++g;i=g+1}r&1&&(i+=2);const c=J1(Ln(n,n.length-8)),a=Ln(n,n.length-4);t===void 0&&(t=new Uint8Array(a));const l=new Uint8Array(n.buffer,n.byteOffset+i,n.length-i-8),d=await I0(e,l,t),w=b0(d,0,d.length);return c!==w&&console.error("ungzip: checksums don't match"),d}async function gi(e,n,t){t===void 0&&(t={level:6});const r=new Uint8Array(50+Math.floor(n.length*1.1)),i=await li(e,n,r,0,t.level);return new Uint8Array(r.buffer,0,i)}function s2(e,n=!1){return en.create("Zip",t=>pi(t,e,n))}async function pi(e,n,t=!1){let r=0;const i={};for(const A in n){const m=!bi(A)&&!t,F=n[A],E=b0(F,0,F.length);i[A]={cpr:m,usize:F.length,crc:E,file:m?await gi(e,F):F}}for(const A in i)r+=i[A].file.length+30+46+2*p0(A);r+=22;const c=new Uint8Array(r);let a=0;const l=[];for(const A in i){const m=i[A];l.push(a),a=wr(c,a,A,m,0)}let d=0;const w=a;for(const A in i){const m=i[A];l.push(a),a=wr(c,a,A,m,1,l[d++])}const g=a-w;return vn(c,a,101010256),a+=4,a+=4,Tn(c,a,d),a+=2,Tn(c,a,d),a+=2,vn(c,a,g),a+=4,vn(c,a,w),a+=4,a+=2,c.buffer}function bi(e){const n=e.split(".").pop().toLowerCase();return"png,jpg,jpeg,zip".indexOf(n)!==-1}function wr(e,n,t,r,i,c=0){const a=r.file;vn(e,n,i===0?67324752:33639248),n+=4,i===1&&(n+=2),Tn(e,n,20),n+=2,Tn(e,n,0),n+=2,Tn(e,n,r.cpr?8:0),n+=2,vn(e,n,0),n+=4,vn(e,n,r.crc),n+=4,vn(e,n,a.length),n+=4,vn(e,n,r.usize),n+=4,Tn(e,n,p0(t)),n+=2,Tn(e,n,0),n+=2,i===1&&(n+=2,n+=2,n+=6,vn(e,n,c),n+=4);const l=Q1(e,n,t);return n+=l,i===0&&(e.set(a,n),n+=a.length),n}var dn;(function(e){e[e.None=0]="None",e[e.Gzip=1]="Gzip",e[e.Zip=2]="Zip"})(dn||(dn={}));function ut(e,n){return _i(e,n)}function Mr(e){return typeof e=="string"?Ir(e,e,"string"):Ir(e.title,e.url,e.type||"string",e.body,e.headers)}function yi(e){if(qn)throw new Error("`isDone` should not be used when running in Node.js");if(e instanceof FileReader)return e.readyState===FileReader.DONE;if(e instanceof XMLHttpRequest)return e.readyState===XMLHttpRequest.DONE;throw new Error("unknown data type")}function _r(e){return e?"Failed to download data. Possible reasons: Resource is not available, or CORS is not allowed on the server.":"Failed to open file."}function v0(e,n,t){if(qn)throw new Error("`readData` should not be used when running in Node.js");return new Promise((r,i)=>{if(yi(t)){const{error:a}=t;a!=null?i(a??_r(t instanceof XMLHttpRequest)):r(t);return}let c=!1;t.onerror=a=>{if(c)return;const{error:l}=a.target;i(l??_r(t instanceof XMLHttpRequest))},t.onprogress=a=>{if(!(!e.shouldUpdate||c))try{a.lengthComputable?e.update({message:n,isIndeterminate:!1,current:a.loaded,max:a.total}):e.update({message:`${n} ${(a.loaded/1024/1024).toFixed(2)} MB`,isIndeterminate:!0})}catch(l){c=!0,i(l)}},t.onload=a=>{r(t)}})}function A0(e){return/\.gz$/i.test(e)?dn.Gzip:/\.zip$/i.test(e)?dn.Zip:dn.None}const wi=/^(__MACOSX|.DS_Store)/;async function Mi(e,n,t){switch(t){case dn.None:return n;case dn.Gzip:return mi(e,n);case dn.Zip:const r=await _0(e,n.buffer),i=Object.keys(r).filter(c=>!wi.test(c));if(i.length!==1)throw new Error("can only decompress zip files with a single entry");return r[i[0]]}}async function Pt(e,n,t,r){if(n===null)throw new Error("no data given");let i=new Uint8Array(n);if(r!==dn.None&&t!=="zip"&&(i=await Mi(e,i,r)),t==="binary")return i;if(t==="zip")return await _0(e,i.buffer);if(t==="string")return j1(i);if(t==="xml")return new DOMParser().parseFromString(Mt(i),"application/xml");if(t==="json")return JSON.parse(Mt(i));throw new Error(`could not get requested response data '${t}'`)}function _i(e,n){if(qn)return Ii(e,n);let t;return en.create("Read File",async r=>{try{await r.update({message:"Opening file...",canAbort:!0}),t=new FileReader,t.readAsArrayBuffer(e);const c=(await v0(r,"Reading...",t)).result;return await r.update({message:"Processing file...",canAbort:!1}),await Pt(r,c,n,A0(e.name))}finally{t=void 0}},()=>{t&&t.abort()})}function Ii(e,n){return en.create("Read File",async t=>{await t.update({message:"Opening file...",canAbort:!1});const r=await e.arrayBuffer();return await t.update({message:"Processing file...",canAbort:!1}),await Pt(t,r,n,A0(e.name))})}class mn{static get(){if(qn)throw new Error("`RequestPool.get` should not be used when running in Node.js");return this.pool.length?this.pool.pop():new XMLHttpRequest}static emptyFunc(){}static deposit(n){this.pool.length<this.poolSize&&(n.onabort=mn.emptyFunc,n.onerror=mn.emptyFunc,n.onload=mn.emptyFunc,n.onprogress=mn.emptyFunc,this.pool.push(n))}}mn.pool=[];mn.poolSize=15;function vi(e,n){if(e.status>=200&&e.status<400){const{response:t}=e;if(mn.deposit(e),(n==="binary"||n==="zip")&&t instanceof ArrayBuffer)return new Uint8Array(t);if(n==="string"&&typeof t=="string")return t;if(n==="xml"&&t instanceof XMLDocument)return t;if(n==="json"&&typeof t=="object")return t;throw new Error(`could not get requested response data '${n}'`)}else throw mn.deposit(e),new Error(`Download failed with status code ${e.status}`)}function Ai(e){switch(e){case"json":return"json";case"xml":return"document";case"string":return"text";case"binary":return"arraybuffer";case"zip":return"arraybuffer"}}function Ir(e,n,t,r,i){if(qn)return n.startsWith("file://")?Ci(e,n,t):Si(e,n,t);let c;return en.create(e||"Download",async a=>{if(c=mn.get(),c.open(r?"post":"get",n,!0),i)for(const[w,g]of i)c.setRequestHeader(w,g);c.responseType=Ai(t),c.send(r),await a.update({message:"Waiting for server...",canAbort:!0});const l=await v0(a,"Downloading...",c);return c=void 0,await a.update({message:"Parsing response...",canAbort:!1}),vi(l,t)},()=>{c&&(c.abort(),c=void 0)})}function zi(){throw new Error("When running in Node.js and reading from files, call mol-util/data-source's setFSModule function first.")}function Pi(e){return new Promise((n,t)=>{zi().readFile(e,(r,i)=>{r?t(r):n(i)})})}function Ci(e,n,t,r,i){if(!qn)throw new Error("This function should only be used when running in Node.js");if(!n.startsWith("file://"))throw new Error("This function is only for URLs with protocol file://");return en.create(e??"Download",async c=>{const a=n.substring(7);await c.update({message:"Loading file...",canAbort:!1});const l=await Pi(a);return await c.update({message:"Parsing response...",canAbort:!1}),await Pt(c,l.buffer,t,dn.None)})}function Si(e,n,t,r,i){if(!qn)throw new Error("This function should only be used when running in Node.js");const c=new AbortController;return en.create(e??"Download",async a=>{await a.update({message:"Downloading...",canAbort:!0});const l=await fetch(n,{signal:c.signal});if(!(l.status>=200&&l.status<400))throw new Error(`Download failed with status code ${l.status}`);const d=await l.bytes();return await a.update({message:"Parsing response...",canAbort:!1}),await Pt(a,d.buffer,t,dn.None)},()=>{c.abort()})}async function c2(e,n,t,r){const i=t.length,c=new Array(t.length);await e.update({message:"Downloading...",current:0,max:i});let a=[],l=[],d=0;for(let g=Math.min(i,r);d<g;d++){const A=t[d];a.push(Ar(d,A.id,n.resolve(rn.getUrlAsset(n,A.url),A.isBinary?"binary":"string").runAsChild(e))),l.push(d)}let w=0;for(;a.length>0;){const g=await Promise.race(a),A=t[g.index],m=l.indexOf(g.index);if(w++,g.kind==="error"&&!A.canFail)throw new Error(`${A.url}: ${g.error}`);if(e.shouldUpdate&&await e.update({message:"Downloading...",current:w,max:i}),c[g.index]=g,a=a.filter(vr,m),l=l.filter(vr,m),d<i){const F=t[d],E=n.resolve(rn.getUrlAsset(n,F.url),F.isBinary?"binary":"string").runAsChild(e);a.push(Ar(d,F.id,E)),l.push(d),d++}}return c}function vr(e,n){return this!==n}async function Ar(e,n,t){try{return{kind:"ok",result:await t,index:e,id:n}}catch(r){return{kind:"error",error:r,index:e,id:n}}}var rn;(function(e){function n(d,w){return{kind:"url",id:Lt.create22(),url:d,...w}}e.Url=n;function t(d){return{kind:"file",id:Lt.create22(),name:d.name,file:d}}e.File=t;function r(d){return(d==null?void 0:d.kind)==="url"}e.isUrl=r;function i(d){return(d==null?void 0:d.kind)==="file"}e.isFile=i;function c(d,w,g){return{data:d,dispose:()=>{g.release(w)}}}e.Wrapper=c;function a(d){return typeof d=="string"?d:d.url}e.getUrl=a;function l(d,w,g){return typeof w=="string"?d.tryFindUrl(w,g)||n(w,{body:g}):w}e.getUrlAsset=l})(rn||(rn={}));class o2{constructor(){this._assets=new Map}get assets(){return Jr(this._assets.values())}tryFindUrl(n,t){const r=this.assets.values();for(;;){const i=r.next();if(i.done)return;const c=i.value.asset;if(rn.isUrl(c)&&c.url===n&&(c.body||"")===(t||""))return c}}tryFindFilename(n){const t=this._assets.values();for(;;){const{done:r,value:i}=t.next();if(r)break;if(i.file.name===n)return i.asset}}set(n,t,r){this._assets.set(n.id,{asset:n,file:t,refCount:0,tag:r==null?void 0:r.tag,isStatic:r==null?void 0:r.isStatic})}get(n){return this._assets.get(n.id)}delete(n){return this._assets.delete(n.id)}has(n){return this._assets.has(n.id)}resolve(n,t,r=!0){return rn.isUrl(n)?en.create(`Download ${n.title||n.url}`,async i=>{if(this._assets.has(n.id)){const l=this._assets.get(n.id);return l.refCount++,rn.Wrapper(await ut(l.file,t).runInContext(i),n,this)}if(!r)return rn.Wrapper(await Mr({...n,type:t}).runInContext(i),n,this);const c=await Mr({...n,type:"binary"}).runInContext(i),a=new mr([c],"raw-data");return this._assets.set(n.id,{asset:n,file:a,refCount:1}),rn.Wrapper(await ut(a,t).runInContext(i),n,this)}):en.create(`Read ${n.name}`,async i=>{if(this._assets.has(n.id)){const c=this._assets.get(n.id);return c.refCount++,rn.Wrapper(await ut(c.file,t).runInContext(i),n,this)}if(!(n.file instanceof mr))throw new Error(`Cannot resolve file asset '${n.name}' (${n.id})`);return r&&this._assets.set(n.id,{asset:n,file:n.file,refCount:1}),rn.Wrapper(await ut(n.file,t).runInContext(i),n,this)})}release(n){const t=this._assets.get(n.id);t&&(t.refCount--,t.refCount<=0&&!t.isStatic&&this._assets.delete(n.id))}clearTag(n){const t=Array.from(this._assets.keys());for(const r of t){const i=this._assets.get(r);i&&i.tag===n&&this._assets.delete(r)}}clear(){this._assets.clear()}dispose(){this.clear()}}var on;(function(e){e.Essential={isEssential:!0};function n(z,I){return I&&(I.label&&(z.label=I.label),I.description&&(z.description=I.description),I.legend&&(z.legend=I.legend),I.fieldLabels&&(z.fieldLabels=I.fieldLabels),I.isHidden&&(z.isHidden=I.isHidden),I.shortLabel&&(z.shortLabel=I.shortLabel),I.twoColumns&&(z.twoColumns=I.twoColumns),I.isEssential&&(z.isEssential=I.isEssential),I.category&&(z.category=I.category),I.hideIf&&(z.hideIf=I.hideIf),I.help&&(z.help=I.help)),z}function t(z){const I={...z};return I.isOptional=!0,I}e.Optional=t;function r(z,I){return n({type:"value",defaultValue:z},I)}e.Value=r;function i(z,I,T){return n({type:"select",defaultValue:ie(z,I),options:I,cycle:T==null?void 0:T.cycle},T)}e.Select=i;function c(z,I,T){const X=n({type:"multi-select",defaultValue:z,options:I},T);return T!=null&&T.emptyValue&&(X.emptyValue=T.emptyValue),X}e.MultiSelect=c;function a(z,I){return n({type:"boolean",defaultValue:z},I)}e.Boolean=a;function l(z="",I){return n({type:"text",defaultValue:z,multiline:I==null?void 0:I.multiline,placeholder:I==null?void 0:I.placeholder,disableInteractiveUpdates:I==null?void 0:I.disableInteractiveUpdates},I)}e.Text=l;function d(z,I){const T=n({type:"color",defaultValue:z},I);return I!=null&&I.isExpanded&&(T.isExpanded=I.isExpanded),T}e.Color=d;function w(z,I){let T;if(typeof z=="string"){const X=F0(z);T={kind:X.type!=="qualitative"?"interpolate":"set",colors:X.list}}else T=z;return n({type:"color-list",presetKind:(I==null?void 0:I.presetKind)||"all",defaultValue:T,offsets:!!(I!=null&&I.offsets)},I)}e.ColorList=w;function g(z,I,T){return n(p({type:"vec3",defaultValue:z},I),T)}e.Vec3=g;function A(z,I){return n({type:"mat4",defaultValue:z},I)}e.Mat4=A;function m(z,I){const T=typeof z=="string"?rn.Url(z):rn.Url(z.url,{body:z.body});return n({type:"url",defaultValue:T},I)}e.Url=m;function F(z){const I=n({type:"file",defaultValue:null},z);return z!=null&&z.accept&&(I.accept=z.accept),I}e.File=F;function E(z){const I=n({type:"file-list",defaultValue:null},z);return z!=null&&z.accept&&(I.accept=z.accept),I}e.FileList=E;function p(z,I){return I&&(typeof I.min<"u"&&(z.min=I.min),typeof I.max<"u"&&(z.max=I.max),typeof I.step<"u"&&(z.step=I.step)),z}function P(z,I,T){const X=n(p({type:"number",defaultValue:z},I),T);return T!=null&&T.immediateUpdate&&(X.immediateUpdate=!0),X}e.Numeric=P;function j(z,I,T){return n(p({type:"interval",defaultValue:z},I),T)}e.Interval=j;function O(z,I){const T=n({type:"line-graph",defaultValue:z},I);return I!=null&&I.getVolume&&(T.getVolume=I.getVolume),T}e.LineGraph=O;function Z(z,I){const T=n({type:"group",defaultValue:(I==null?void 0:I.customDefault)||_(z),params:z},I);return I!=null&&I.presets&&(T.presets=I.presets),I!=null&&I.isExpanded&&(T.isExpanded=I.isExpanded),I!=null&&I.isFlat&&(T.isFlat=I.isFlat),I!=null&&I.pivot&&(T.pivot=I.pivot),T}e.Group=Z;function G(z){return Z({},z)}e.EmptyGroup=G;function q(z,I,T,X){const ne=ie(z,I);return n({type:"mapped",defaultValue:{name:ne,params:T(ne).defaultValue},select:i(ne,I,X),map:T},X)}e.Mapped=q;function C(z,I,T){const X=T!=null&&T.options?T.options:Object.keys(I).map(ye=>[ye,I[ye].label||Nt(ye)]),ne=ie(z,X);return n({type:"mapped",defaultValue:{name:ne,params:I[ne].defaultValue},select:i(ne,X,T),map:ye=>I[ye]},T)}e.MappedStatic=C;function J(z,I,T){return n({type:"object-list",element:z,getLabel:I,ctor:D,defaultValue:(T==null?void 0:T.defaultValue)||[]},T)}e.ObjectList=J;function D(){return _(this.element)}function W(){throw new Error("getValue not set. Fix runtime.")}function le(z,I,T){var X;return n({type:"value-ref",defaultValue:{ref:(X=T==null?void 0:T.defaultRef)!==null&&X!==void 0?X:"",getValue:W},getOptions:z,resolveRef:I},T)}e.ValueRef=le;function $(z){var I;return n({type:"data-ref",defaultValue:{ref:(I=z==null?void 0:z.defaultRef)!==null&&I!==void 0?I:"",getValue:W}},z)}e.DataRef=$;function f(z,I,T){return n({type:"converted",defaultValue:I(T.defaultValue),converted:T,fromValue:z,toValue:I},T)}e.Converted=f;function x(z,I,T,X,ne){const ye=Object.keys(I).map(ve=>[ve,ve]);return n({type:"conditioned",select:i(T(z),ye,ne),defaultValue:z,conditionParams:I,conditionForValue:T,conditionedValue:X},ne)}e.Conditioned=x;function o(z,I){return n({type:"script",defaultValue:z},I)}e.Script=o;function u(z){return 0}e.For=u;function _(z){const I={};for(const T of Object.keys(z))z[T].isOptional||(I[T]=z[T].defaultValue);return I}e.getDefaultValues=_;function N(z,I,T){return()=>z(I,T)}function L(z,I,T){if(I){if(z.type==="value-ref"){const X=I;X.ref?X.getValue=N(z.resolveRef,X.ref,T):X.getValue=()=>{throw new Error("Unset ref in ValueRef value.")}}else if(z.type==="data-ref"){const X=I;X.ref?X.getValue=N(T,X.ref,T):X.getValue=()=>{throw new Error("Unset ref in ValueRef value.")}}else if(z.type==="group")V(z.params,I,T);else if(z.type==="mapped"){const X=I,ne=z.map(X.name);L(ne,X.params,T)}else if(z.type==="object-list"){if(!B(z.element))return;for(const X of I)V(z.element,X,T)}}}function Y(z){if(z.type==="value-ref"||z.type==="data-ref")return!0;if(z.type==="group"){if(B(z.params))return!0}else if(z.type==="mapped"){for(const[I]of z.select.options)if(Y(z.map(I)))return!0}else if(z.type==="object-list")return B(z.element);return!1}function B(z){for(const I of Object.keys(z))if(Y(z[I]))return!0;return!1}function V(z,I,T){for(const X of Object.keys(z))L(z[X],I==null?void 0:I[X],T)}e.resolveRefs=V;function fe(z,I){for(const T of Object.keys(z))z[T].isOptional||(z[T].defaultValue=I[T])}e.setDefaultValues=fe;function we(z){return Ht(z)}e.clone=we;function Ie(z,I){}e.validate=Ie;function Ae(z,I,T){if(I===T)return!0;if(typeof I!="object"||typeof T!="object")return!1;for(const X of Object.keys(z))if(!Fe(z[X],I[X],T[X]))return!1;return!0}e.areEqual=Ae;function Fe(z,I,T){if(I===T)return!0;if(z.type==="group")return Ae(z.params,I,T);if(z.type==="mapped"){const X=I,ne=T;if(X.name!==ne.name)return!1;const ye=z.map(X.name);return Fe(ye,X.params,ne.params)}else if(z.type==="multi-select"){const X=I,ne=T;if(X.length!==ne.length)return!1;if(X.length<10){for(let ye=0,ve=X.length;ye<ve;ye++)if(X[ye]!==ne[ye]&&ne.indexOf(X[ye])<0)return!1}else{const ye=new Set(ne);for(let ve=0,Le=X.length;ve<Le;ve++)if(X[ve]!==ne[ve]&&!ye.has(X[ve]))return!1}return!0}else{if(z.type==="interval")return I[0]===T[0]&&I[1]===T[1];if(z.type==="line-graph"){const X=I,ne=T;if(X.length!==ne.length)return!1;for(let ye=0,ve=X.length;ye<ve;ye++)if(!wt.areEqual(X[ye],ne[ye]))return!1;return!0}else{if(z.type==="vec3")return y.equals(I,T);if(z.type==="mat4")return be.areEqual(I,T,De);if(z.type==="script"){const X=I,ne=T;return X.language===ne.language&&X.expression===ne.expression}else if(z.type==="object-list"){const X=I,ne=T,ye=X.length;if(ye!==ne.length)return!1;for(let ve=0;ve<ye;ve++)if(!Ae(z.element,X[ve],ne[ve]))return!1;return!0}else if(typeof I=="object"&&typeof T=="object")return Dr(I,T)}}return!1}e.isParamEqual=Fe;function Re(z,I,T){if(I===void 0)return{...T};if(T===void 0)return{...I};const X={};for(const ne of Object.keys(z))X[ne]=Ce(z[ne],I[ne],T[ne]);return X}e.merge=Re;function Ce(z,I,T){if(I===void 0)return typeof T=="object"&&!Array.isArray(T)?{...T}:T;if(T===void 0)return typeof I=="object"&&!Array.isArray(I)?{...I}:I;if(z.type==="group")return Re(z.params,I,T);if(z.type==="mapped"){const X=I,ne=T;if(X.name!==ne.name)return{...ne};const ye=z.map(ne.name);return{name:ne.name,params:Ce(ye,X.params,ne.params)}}else return z.type==="value"?T:typeof I=="object"&&typeof T=="object"?Array.isArray(T)?T:{...I,...T}:T}e.mergeParam=Ce;function M(z,I){for(const T of z.options)if(T[0]===I)return!0;return!1}function S(z,I,T){if(I==null)return T?z.defaultValue:void 0;if(z.type==="value")return I;if(z.type==="group"){const X={};for(const ne of Object.keys(z.params)){const ye=z.params[ne];I[ne]===void 0?T&&(X[ne]=ye.defaultValue):X[ne]=S(ye,I[ne],T)}return X}else if(z.type==="mapped"){const X=I;if(typeof X.name!="string")return z.defaultValue;if(typeof X.params>"u")return T?z.defaultValue:void 0;if(!M(z.select,X.name))return z.defaultValue;const ne=z.map(X.name);return{name:X.name,params:S(ne,X.params,T)}}else{if(z.type==="select")return M(z,I)?I:z.defaultValue;if(z.type==="multi-select"){if(!Array.isArray(I))return z.defaultValue;const X=I.filter(function(ne){return M(this,ne)},z);return I.length>0&&X.length===0?z.defaultValue:X}else if(z.type==="object-list")return Array.isArray(I)?I.map(X=>ee(z.element,X,T?"all":"skip")):z.defaultValue}return I}function ee(z,I,T){if(typeof I!="object"||I===null)return T?_(z):I;const X={};for(const ne of Object.keys(z)){const ye=z[ne];I[ne]===void 0?T==="all"&&(X[ne]=ye.defaultValue):X[ne]=S(ye,I[ne],T!=="skip")}return X}e.normalizeParams=ee;function ze(z,I){const T=[];for(const X of Object.keys(z))if(!I)typeof z[X]=="string"?T.push([X,z[X]]):T.push([X,I===null?X:Nt(X)]);else{const ne=I(X,z[X]);T.push(typeof ne=="string"?[X,ne]:[X,ne[0],ne[1]])}return T}e.objectToOptions=ze;function k(z,I){const T=[];for(const X of z)I?T.push([X,I(X)]):T.push([X,I===null?X:Nt(X)]);return T}e.arrayToOptions=k;function U(z,I){for(const T of z.options)if(T[0]===I)return T[1];return""}e.optionLabel=U;function ie(z,I){for(const T of I)if(T[0]===z)return z;return I.length>0?I[0][0]:void 0}function se(z,I){const T={};for(const X of Object.keys(I)){const ne=I[X];!z[X]||ne===null||ne===void 0||z[X].defaultValue===ne||(T[X]={...z[X],defaultValue:ne})}return{...z,...T}}e.withDefaults=se})(on||(on={}));function ki(e){let n=-1/0;for(let t=0,r=e.length;t<r;++t)e[t]>n&&(n=e[t]);return n}function Ni(e){let n=1/0;for(let t=0,r=e.length;t<r;++t)e[t]<n&&(n=e[t]);return n}function Ei(e){let n=1/0,t=-1/0;for(let r=0,i=e.length;r<i;++r)e[r]<n&&(n=e[r]),e[r]>t&&(t=e[r]);return[n,t]}function qi(e,n=1,t=0){const r=e.length;let i=0;for(let c=t;c<r;c+=n)i+=e[c];return i}function Ri(e,n=1,t=0){return qi(e,n,t)/(e.length/n)}function Bi(e){const n=e.length;let t=0;for(let r=0;r<n;++r){const i=e[r];t+=i*i}return Math.sqrt(t/n)}function a2(e,n){for(let t=0,r=n?Math.min(n,e.length):e.length;t<r;++t)e[t]=t;return e}function f2(e,n){let t=0,r=!1;for(const i=e.length;t<i;t++)if(e[t]===n){r=!0;break}return r?(Ti(e,t),!0):!1}function Ti(e,n){for(let t=n,r=e.length-1;t<r;t++)e[t]=e[t+1];e.pop()}function l2(e,n){return e.indexOf(n)>=0?!1:(e.push(n),!0)}function u2(e,n){const t=e.indexOf(n);if(t<0)return!1;for(let r=t,i=e.length-1;r<i;r++)e[r]=e[r+1];return e.pop(),!0}function d2(e,n){let t=0;for(let r=0,i=e.length;r<i;++r)n.includes(e[r])&&(t+=1);return t}function h2(e,n){if(!e||e.length===0)return!n||n.length===0;if(!n)return!1;const t=e.length;if(t!==n.length)return!1;for(let r=0;r<t;r++)if(e[r]!==n[r])return!1;return!0}function x2(e){for(let n=0,t=e.length;n<t;n++)if(e[n]!==n)return!1;return!0}function m2(e,n,t){for(let r=0,i=e.length;r<i;++r)if(e[r][0]===n){e[r][1]=t;return}e.push([n,t])}function g2(e,n){n===void 0&&(n=e,e=0);const t=Math.max(n-e,0),r=Array(t);for(let i=0;i<t;i++)r[i]=e+i;return r}function Wt(){return Wt.zero()}(function(e){function n(){const f=[.1,0,0,0];return f[0]=0,f}e.zero=n;function t(f){const x=n();return x[0]=f[0],x[1]=f[1],x[2]=f[2],x[3]=f[3],x}e.clone=t;function r(f,x,o,u){const _=n();return _[0]=f,_[1]=x,_[2]=o,_[3]=u,_}e.create=r;function i(f,x){return f[0]=x.center[0],f[1]=x.center[1],f[2]=x.center[2],f[3]=x.radius,f}e.fromSphere=i;function c(f){return i(n(),f)}e.ofSphere=c;function a(f){return Number.isNaN(f[0])||Number.isNaN(f[1])||Number.isNaN(f[2])||Number.isNaN(f[3])}e.hasNaN=a;function l(f,x,o){return x[o+0]=f[0],x[o+1]=f[1],x[o+2]=f[2],x[o+3]=f[3],x}e.toArray=l;function d(f,x,o){return f[0]=x[o+0],f[1]=x[o+1],f[2]=x[o+2],f[3]=x[o+3],f}e.fromArray=d;function w(f,x,o){x[o+0]=f[0],x[o+1]=f[1],x[o+2]=f[2]}e.toVec3Array=w;function g(f,x,o){return f[0]=x[o+0],f[1]=x[o+1],f[2]=x[o+2],f[3]=0,f}e.fromVec3Array=g;function A(f,x){return f[0]=x[0],f[1]=x[1],f[2]=x[2],f[3]=x[3],f}e.copy=A;function m(f,x,o,u,_){return f[0]=x,f[1]=o,f[2]=u,f[3]=_,f}e.set=m;function F(f,x,o){return f[0]=x[0]+o[0],f[1]=x[1]+o[1],f[2]=x[2]+o[2],f[3]=x[3]+o[3],f}e.add=F;function E(f,x){const o=x[0]-f[0],u=x[1]-f[1],_=x[2]-f[2],N=x[3]-f[3];return Math.sqrt(o*o+u*u+_*_+N*N)}e.distance=E;function p(f,x,o){return f[0]=x[0]*o,f[1]=x[1]*o,f[2]=x[2]*o,f[4]=x[4]*o,f}e.scale=p;function P(f,x){return f[0]=Math.round(x[0]),f[1]=Math.round(x[1]),f[2]=Math.round(x[2]),f[3]=Math.round(x[3]),f}e.round=P;function j(f,x){return f[0]=Math.ceil(x[0]),f[1]=Math.ceil(x[1]),f[2]=Math.ceil(x[2]),f[3]=Math.ceil(x[3]),f}e.ceil=j;function O(f,x){return f[0]=Math.floor(x[0]),f[1]=Math.floor(x[1]),f[2]=Math.floor(x[2]),f[3]=Math.floor(x[3]),f}e.floor=O;function Z(f,x){const o=x[0]-f[0],u=x[1]-f[1],_=x[2]-f[2],N=x[3]-f[3];return o*o+u*u+_*_+N*N}e.squaredDistance=Z;function G(f){const x=f[0],o=f[1],u=f[2],_=f[3];return Math.sqrt(x*x+o*o+u*u+_*_)}e.norm=G;function q(f){const x=f[0],o=f[1],u=f[2],_=f[3];return x*x+o*o+u*u+_*_}e.squaredNorm=q;function C(f,x,o){const u=x[0],_=x[1],N=x[2],L=x[3];return f[0]=o[0]*u+o[4]*_+o[8]*N+o[12]*L,f[1]=o[1]*u+o[5]*_+o[9]*N+o[13]*L,f[2]=o[2]*u+o[6]*_+o[10]*N+o[14]*L,f[3]=o[3]*u+o[7]*_+o[11]*N+o[15]*L,f}e.transformMat4=C;function J(f,x){return f[0]*x[0]+f[1]*x[1]+f[2]*x[2]+f[3]*x[3]}e.dot=J;function D(f,x){return f[0]=1/x[0],f[1]=1/x[1],f[2]=1/x[2],f[3]=1/x[3],f}e.inverse=D;function W(f,x){return f[0]===x[0]&&f[1]===x[1]&&f[2]===x[2]&&f[3]===x[3]}e.exactEquals=W;function le(f,x){const o=f[0],u=f[1],_=f[2],N=f[3],L=x[0],Y=x[1],B=x[2],V=x[3];return Math.abs(o-L)<=De*Math.max(1,Math.abs(o),Math.abs(L))&&Math.abs(u-Y)<=De*Math.max(1,Math.abs(u),Math.abs(Y))&&Math.abs(_-B)<=De*Math.max(1,Math.abs(_),Math.abs(B))&&Math.abs(N-V)<=De*Math.max(1,Math.abs(N),Math.abs(V))}e.equals=le;function $(f,x){return`[${f[0].toPrecision(x)} ${f[1].toPrecision(x)} ${f[2].toPrecision(x)}  ${f[3].toPrecision(x)}]`}e.toString=$})(Wt||(Wt={}));var sn;(function(e){function n($,f,x){const o=[];for(let _=0;_<f.length;_++)o[_]=f[f.length-_-1];const u=[1];for(let _=1;_<$.length;_++)u[_]=$[o[_-1]];return{dimensions:$,axisOrderFastToSlow:o,axisOrderSlowToFast:f,accessDimensions:u,defaultCtor:x||Float64Array}}function t($,f){return{space:$,data:f}}e.create=t;function r($,f,x){const o=n($,f,x),{get:u,set:_,add:N,dataOffset:L,getCoords:Y}=F(o);return{rank:$.length,dimensions:$,axisOrderSlowToFast:f,create:E(o),get:u,set:_,add:N,dataOffset:L,getCoords:Y}}e.Space=r;function i($){return $}e.Data1=i;function c($,f){return r([$],[0],f)}e.Vector=c;function a($,f,x){return r([$,f],[1,0],x)}e.ColumnMajorMatrix=a;function l($,f,x){return r([$,f],[0,1],x)}e.RowMajorMatrix=l;function d($,f,x){if(f.rank!==2)throw new Error("Invalid tensor rank");const o=Math.min(4,f.dimensions[0]),u=Math.min(4,f.dimensions[1]);for(let _=0;_<o;_++)for(let N=0;N<u;N++)be.setValue($,_,N,f.get(x,_,N));return $}e.toMat4=d;function w($,f,x){if(f.rank!==2)throw new Error("Invalid tensor rank");const o=Math.min(3,f.dimensions[0]),u=Math.min(3,f.dimensions[1]);for(let _=0;_<o;_++)for(let N=0;N<u;N++)Cn.setValue($,_,N,f.get(x,_,N));return $}e.toMat3=w;function g($,f,x){if(f.rank!==1)throw new Error("Invalid tensor rank");const o=Math.min(3,f.dimensions[0]);for(let u=0;u<o;u++)$[u]=x[u];return $}e.toVec3=g;function A($,f,x){if(f.rank!==1)throw new Error("Invalid tensor rank");const o=Math.min(4,f.dimensions[0]);for(let u=0;u<o;u++)$[u]=x[u];return $}e.toVec4=A;function m($,f){const x=$.length;if(x!==f.length)return!1;for(let o=0;o<x;o++)if($[o]!==f[o])return!1;return!0}e.areEqualExact=m;function F($){const{dimensions:f,axisOrderFastToSlow:x}=$;switch(f.length){case 1:return{get:(o,u)=>o[u],set:(o,u,_)=>o[u]=_,add:(o,u,_)=>o[u]+=_,dataOffset:o=>o,getCoords:(o,u)=>(u[0]=o,u)};case 2:{if(x[0]===0&&x[1]===1){const o=f[0];return{get:(u,_,N)=>u[N*o+_],set:(u,_,N,L)=>u[N*o+_]=L,add:(u,_,N,L)=>u[N*o+_]+=L,dataOffset:(u,_)=>_*o+u,getCoords:(u,_)=>(_[0]=u%o,_[1]=Math.floor(u/o),_)}}if(x[0]===1&&x[1]===0){const o=f[1];return{get:(u,_,N)=>u[_*o+N],set:(u,_,N,L)=>u[_*o+N]=L,add:(u,_,N,L)=>u[_*o+N]+=L,dataOffset:(u,_)=>u*o+_,getCoords:(u,_)=>(_[0]=Math.floor(u/o),_[1]=u%o,_)}}throw new Error("bad axis order")}case 3:{if(x[0]===0&&x[1]===1&&x[2]===2){const o=f[0],u=f[1],_=o*u;return{get:(N,L,Y,B)=>N[L+Y*o+B*_],set:(N,L,Y,B,V)=>N[L+Y*o+B*_]=V,add:(N,L,Y,B,V)=>N[L+Y*o+B*_]+=V,dataOffset:(N,L,Y)=>N+L*o+Y*_,getCoords:(N,L)=>{const Y=Math.floor(N/o);return L[0]=N%o,L[1]=Y%u,L[2]=Math.floor(Y/u),L}}}if(x[0]===0&&x[1]===2&&x[2]===1){const o=f[0],u=f[2],_=o*u;return{get:(N,L,Y,B)=>N[L+B*o+Y*_],set:(N,L,Y,B,V)=>N[L+B*o+Y*_]=V,add:(N,L,Y,B,V)=>N[L+B*o+Y*_]+=V,dataOffset:(N,L,Y)=>N+Y*o+L*_,getCoords:(N,L)=>{const Y=Math.floor(N/o);return L[0]=N%o,L[1]=Math.floor(Y/u),L[2]=Y%u,L}}}if(x[0]===1&&x[1]===0&&x[2]===2){const o=f[1],u=f[0],_=o*u;return{get:(N,L,Y,B)=>N[Y+L*o+B*_],set:(N,L,Y,B,V)=>N[Y+L*o+B*_]=V,add:(N,L,Y,B,V)=>N[Y+L*o+B*_]+=V,dataOffset:(N,L,Y)=>L+N*o+Y*_,getCoords:(N,L)=>{const Y=Math.floor(N/o);return L[0]=Y%u,L[1]=N%o,L[2]=Math.floor(Y/u),L}}}if(x[0]===1&&x[1]===2&&x[2]===0){const o=f[1],u=f[2],_=o*u;return{get:(N,L,Y,B)=>N[Y+B*o+L*_],set:(N,L,Y,B,V)=>N[Y+B*o+L*_]=V,add:(N,L,Y,B,V)=>N[Y+B*o+L*_]+=V,dataOffset:(N,L,Y)=>L+Y*o+N*_,getCoords:(N,L)=>{const Y=Math.floor(N/o);return L[0]=Math.floor(Y/u),L[1]=N%o,L[2]=Y%u,L}}}if(x[0]===2&&x[1]===0&&x[2]===1){const o=f[2],u=f[0],_=o*u;return{get:(N,L,Y,B)=>N[B+L*o+Y*_],set:(N,L,Y,B,V)=>N[B+L*o+Y*_]=V,add:(N,L,Y,B,V)=>N[B+L*o+Y*_]+=V,dataOffset:(N,L,Y)=>Y+N*o+L*_,getCoords:(N,L)=>{const Y=Math.floor(N/o);return L[0]=Y%u,L[1]=Math.floor(Y/u),L[2]=N%o,L}}}if(x[0]===2&&x[1]===1&&x[2]===0){const o=f[2],u=f[1],_=o*u;return{get:(N,L,Y,B)=>N[B+Y*o+L*_],set:(N,L,Y,B,V)=>N[B+Y*o+L*_]=V,add:(N,L,Y,B,V)=>N[B+Y*o+L*_]+=V,dataOffset:(N,L,Y)=>Y+L*o+N*_,getCoords:(N,L)=>{const Y=Math.floor(N/o);return L[0]=Math.floor(Y/u),L[1]=Y%u,L[2]=N%o,L}}}throw new Error("bad axis order")}default:return{get:(o,...u)=>o[p($,u)],set:(o,...u)=>o[p($,u)]=u[u.length-1],add:(o,...u)=>o[p($,u)]+=u[u.length-1],dataOffset:(...o)=>p($,o),getCoords:(o,u)=>P($,o,u)}}}function E($){const{dimensions:f}=$;let x=1;for(let o=0,u=f.length;o<u;o++)x*=f[o];return o=>new(o||$.defaultCtor)(x)}function p($,f){const{accessDimensions:x,axisOrderFastToSlow:o}=$,u=x.length-1;let _=x[u]*f[o[u]];for(let N=u-1;N>=0;N--)_=(_+f[o[N]])*x[N];return _}function P($,f,x){const{dimensions:o,axisOrderFastToSlow:u}=$,_=o.length;let N=f;for(let L=0;L<_;L++){const Y=o[u[L]];x[u[L]]=N%Y,N=Math.floor(N/Y)}return x[u[_+1]]=N,x}function j($){const f=[];for(let x=0;x<$.length;x++)f[x]=$[$.length-x-1];return f}e.invertAxisOrder=j;function O($,f){const x=[];for(let o=0;o<$.length;o++)x[o]=$[f[o]];return x}function Z($){const f=new Int32Array($.length);for(let x=0;x<$.length;x++)f[$[x]]=x;return x=>O(x,f)}e.convertToCanonicalAxisIndicesFastToSlow=Z;function G($){const f=new Int32Array($.length);for(let x=0;x<$.length;x++)f[$[$.length-x-1]]=x;return x=>O(x,f)}e.convertToCanonicalAxisIndicesSlowToFast=G;function q($,f){const[x]=$.space.dimensions,{data:o}=$,u=new Uint8Array(o.length);let _=-1;if(o[0]<f)for(let N=0;N<x&&o[N]<f;N++)u[N]=1,_=N;if(o[x-1]<f)for(let N=x-1;N>_&&o[N]<f;N--)u[N]=1;return u}function C($,f){const[x,o]=$.space.dimensions,{dataOffset:u,getCoords:_}=$.space,{data:N}=$,L=new Uint8Array(N.length),Y=[],B=[0,0],V=x-1,fe=o-1,we=(Ie,Ae)=>Ie===0||Ae===0||Ie===V||Ae===fe;for(let Ie=0;Ie<o;Ie++)for(let Ae=0;Ae<x;Ae++){const Fe=u(Ae,Ie);if(!L[Fe]&&N[Fe]<f&&we(Ae,Ie))for(Y.push(Fe);Y.length>0;){const Re=Y.pop();if(L[Re])continue;L[Re]=1,_(Re,B);const[Ce,M]=B;if(Ce>0){const S=u(Ce-1,M);!L[S]&&N[S]<f&&Y.push(S)}if(Ce<V){const S=u(Ce+1,M);!L[S]&&N[S]<f&&Y.push(S)}if(M>0){const S=u(Ce,M-1);!L[S]&&N[S]<f&&Y.push(S)}if(M<fe){const S=u(Ce,M+1);!L[S]&&N[S]<f&&Y.push(S)}}}return L}function J($,f){const[x,o,u]=$.space.dimensions,{dataOffset:_,getCoords:N}=$.space,L=[],Y=[0,0,0],B=x-1,V=o-1,fe=u-1,we=(Fe,Re,Ce)=>Fe===0||Re===0||Ce===0||Fe===B||Re===V||Ce===fe,{data:Ie}=$,Ae=new Uint8Array(Ie.length);for(let Fe=0;Fe<u;Fe++)for(let Re=0;Re<o;Re++)for(let Ce=0;Ce<x;Ce++){const M=_(Ce,Re,Fe);if(Ie[M]<f&&we(Ce,Re,Fe)&&!Ae[M])for(L.push(M);L.length>0;){const S=L.pop();if(Ae[S])continue;Ae[S]=1,N(S,Y);const[ee,ze,k]=Y;if(ee>0){const U=_(ee-1,ze,k);!Ae[U]&&Ie[U]<f&&L.push(U)}if(ee<B){const U=_(ee+1,ze,k);!Ae[U]&&Ie[U]<f&&L.push(U)}if(ze>0){const U=_(ee,ze-1,k);!Ae[U]&&Ie[U]<f&&L.push(U)}if(ze<V){const U=_(ee,ze+1,k);!Ae[U]&&Ie[U]<f&&L.push(U)}if(k>0){const U=_(ee,ze,k-1);!Ae[U]&&Ie[U]<f&&L.push(U)}if(k<fe){const U=_(ee,ze,k+1);!Ae[U]&&Ie[U]<f&&L.push(U)}}}return Ae}function D($,f){switch($.space.dimensions.length){case 1:return q($,f);case 2:return C($,f);case 3:return J($,f);default:throw new Error("Floodfill only implemented for rank-1, rank-2 and rank-3 tensors.")}}e.floodfill=D;function W($,f,x,o){const{dataOffset:u}=o.space,_=f*2;switch(o.space.dimensions.length){case 1:return $==="outside"?(N,L)=>{const Y=N[L];return Y<f&&x[L]?_:Y}:(N,L)=>{const Y=N[L];return Y<f&&!x[L]?_:Y};case 2:return $==="outside"?(N,L,Y)=>{const B=u(L,Y),V=N[B];return V<f&&x[B]?_:V}:(N,L,Y)=>{const B=u(L,Y),V=N[B];return V<f&&!x[B]?_:V};case 3:return $==="outside"?(N,L,Y,B)=>{const V=u(L,Y,B),fe=N[V];return fe<f&&x[V]?_:fe}:(N,L,Y,B)=>{const V=u(L,Y,B),fe=N[V];return fe<f&&!x[V]?_:fe};default:throw new Error("Floodfill only implemented for rank-1, rank-2 and rank-3 tensors.")}}function le($,f,x){const o=D($,f),u={...$.space,get:W(x,f,o,$)};return e.create(u,$.data)}e.createFloodfilled=le})(sn||(sn={}));const bn=te.Empty,ji=te.ofSingleton,Fi=te.ofRange,$i=te.ofBounds;function hn(e){return e.length?Oe.isRange(e)?te.ofRange(e[0],e[e.length-1]):e:bn}function En(e){return te.is(e)?te.size(e):Oe.size(e)}function Oi(e,n){return te.is(e)?te.has(e,n):Oe.has(e,n)}function Li(e,n){return te.is(e)?te.indexOf(e,n):Oe.indexOf(e,n)}function Kt(e,n){return te.is(e)?te.getAt(e,n):e[n]}function Yn(e){return te.is(e)?te.min(e):Oe.min(e)}function Jn(e){return te.is(e)?te.max(e):Oe.max(e)}function Ui(e){return te.is(e)?te.start(e):Oe.start(e)}function Gi(e){return te.is(e)?te.end(e):Oe.end(e)}function Zi(e){return En(e)===0}function Di(e){return te.is(e)?te.hashCode(e):Oe.hashCode(e)}function Hi(e){return te.is(e)?te.toString(e):Oe.toString(e)}function Xi(e,n){return te.is(e)?te.is(n)?te.areEqual(e,n):zr(e,n):te.is(n)?zr(n,e):Oe.areEqual(e,n)}function Yi(e,n){return te.is(e)?te.is(n)?te.areIntersecting(e,n):Pr(n,e):te.is(n)?Pr(e,n):Oe.areIntersecting(e,n)}function Ji(e,n){return te.is(e)?te.is(n)?te.isSubInterval(e,n):is(e,n):te.is(n)?rs(e,n):Oe.isSubset(e,n)}function Wi(e,n){return te.is(e)?te.findPredecessorIndex(e,n):Oe.findPredecessorIndex(e,n)}function Ki(e,n,t){return te.is(e)?te.findPredecessorIndexInInterval(e,n,t):Oe.findPredecessorIndexInInterval(e,n,t)}function Vi(e,n,t){return te.is(e)?te.findRange(e,n,t):Oe.findRange(e,n,t)}function Qi(e,n){return te.is(e)?te.is(n)?te.intersectionSize(e,n):Sr(n,e):te.is(n)?Sr(e,n):Oe.intersectionSize(e,n)}function es(e,n){return te.is(e)?te.is(n)?os(e,n):Cr(n,e):te.is(n)?Cr(e,n):hn(Oe.union(e,n))}function ns(e,n){return te.is(e)?te.is(n)?te.intersect(e,n):kr(n,e):te.is(n)?kr(e,n):hn(Oe.intersect(e,n))}function ts(e,n){return te.is(e)?te.is(n)?as(e,n):ls(e,n):te.is(n)?fs(e,n):hn(Oe.subtract(e,n))}function zr(e,n){return te.size(e)===Oe.size(n)&&te.start(e)===Oe.start(n)&&te.end(e)===Oe.end(n)}function Pr(e,n){return e.length!==0&&te.size(Oe.findRange(e,te.min(n),te.max(n)))!==0}function rs(e,n){const t=te.min(n),r=te.max(n);if(r-t+1===0)return!0;const i=Oe.min(e),c=Oe.max(e);if(t<i||r>c)return!1;const a=Oe.findRange(e,t,r);return te.size(a)===te.size(n)}function is(e,n){const t=te.min(e),r=te.max(e);if(r-t+1===0)return!1;const i=Oe.min(n),c=Oe.max(n);return i>=t&&c<=r}function ss(e,n){const t=En(e),r=En(n);return t===0&&r===0?!0:t>0&&r>0&&Jn(e)>=Yn(n)&&Yn(e)<=Jn(n)}function cs(e,n){return En(e)?En(n)?Yn(e)<=Yn(n)&&Jn(e)>=Jn(n):!0:En(n)===0}function os(e,n){if(te.areEqual(e,n))return e;const t=te.size(e),r=te.size(n);if(!r)return e;if(!t)return n;const i=te.min(e),c=te.min(n);if(ss(e,n))return te.ofRange(Math.min(i,c),Math.max(te.max(e),te.max(n)));let a,l,d,w;i<c?(a=t,l=i,d=r,w=c):(a=r,l=c,d=t,w=i);const g=new Int32Array(t+r);for(let A=0;A<a;A++)g[A]=A+l;for(let A=0;A<d;A++)g[A+a]=A+w;return hn(g)}function Cr(e,n){const t=te.size(n);if(!t)return e;if(cs(n,e))return n;const r=te.min(n),i=te.max(n),c=Oe.findRange(e,r,i),a=te.start(c),l=te.end(c),d=new Int32Array(a+(e.length-l)+t);let w=0;for(let g=0;g<a;g++)d[w++]=e[g];for(let g=r;g<=i;g++)d[w++]=g;for(let g=l,A=e.length;g<A;g++)d[w++]=e[g];return hn(d)}function Sr(e,n){if(!te.size(n))return 0;const t=Oe.findRange(e,te.min(n),te.max(n));return te.end(t)-te.start(t)}function kr(e,n){if(!te.size(n))return bn;const t=Oe.findRange(e,te.min(n),te.max(n)),r=te.start(t),i=te.end(t),c=i-r;if(!c)return bn;if(c===e.length)return e;const a=new Int32Array(c);let l=0;for(let d=r;d<i;d++)a[l++]=e[d];return hn(a)}function as(e,n){if(te.areEqual(e,n))return bn;if(!te.areIntersecting(e,n))return e;const t=te.min(e),r=te.max(e),i=te.min(n),c=te.max(n);if(r<t||c<i)return e;if(te.isSubInterval(n,e))return bn;if(te.isSubInterval(e,n)){const a=i-t,l=r-c;if(a<=0)return te.ofRange(c+1,c+l);if(l<=0)return te.ofRange(t,t+a-1);const d=new Int32Array(a+l);let w=0;for(let g=0;g<a;g++)d[w++]=t+g;for(let g=1;g<=l;g++)d[w++]=c+g;return hn(d)}return t<i?te.ofRange(t,i-1):te.ofRange(c+1,r)}function fs(e,n){const t=te.min(n),r=te.max(n);if(r<t)return e;const i=Oe.findRange(e,t,r),c=te.start(i),a=te.end(i),l=e.length-(a-c);if(l<=0)return bn;if(l===e.length)return e;const d=new Int32Array(l);let w=0;for(let g=0;g<c;g++)d[w++]=e[g];for(let g=a,A=e.length;g<A;g++)d[w++]=e[g];return hn(d)}function ls(e,n){const t=te.min(e),r=te.max(e);if(r<t)return e;const i=r-t+1,c=Oe.findRange(n,t,r),a=te.start(c),l=te.end(c),d=l-a;if(d===0)return e;const w=i-d;if(w<=0)return bn;const g=new Int32Array(w),A=n.length-1,m=n[Math.min(a,A)],F=n[Math.min(l,A)];let E=0;for(let p=t;p<m;p++)g[E++]=p;for(let p=m;p<=F;p++)Oe.indexOfInInterval(n,p,c)<0&&(g[E++]=p);for(let p=F+1;p<=r;p++)g[E++]=p;return hn(g)}function us(e,n,t){if(te.is(e)){const r=te.min(e);for(let i=r,c=te.max(e);i<=c;i++)n(i,i-r,t)}else for(let r=0,i=e.length;r<i;r++)n(e[r],r,t);return t}function ds(e,n,t,r){if(te.is(e)){let i=0;for(let c=te.min(e),a=te.max(e);c<=a;c++){const l=n(c);let d=c+1;for(;d<a&&n(d)===l;)d++;c=d-1,t(l,i,r),i++}}else{let i=0;for(let c=0,a=e.length;c<a;c++){const l=n(e[c]);let d=c+1;for(;d<a&&n(e[d])===l;)d++;c=d-1,t(l,i,r),i++}}return r}function hs(e,n,t){if(n===t)return e;const r=En(e),i=n.length,c=t.length;if(r===0||i===0||c===0)return bn;const a=Oe.findPredecessorIndex(t,n[Yn(e)]),l=Oe.findPredecessorIndex(t,n[Jn(e)]+1);let d=0,w=0,g=0,A=a;for(;g<r&&A<l;){const F=n[Kt(e,g)],E=t[A];F<E?g++:(F>E||(d++,g++),A++)}if(d===0)return bn;if(d===i&&d===c)return e;const m=new Int32Array(d);for(w=0,g=0,A=a;g<r&&A<l;){const F=n[Kt(e,g)],E=t[A];F<E?g++:(F>E||(m[w++]=A,g++),A++)}return hn(m)}var Ee;(function(e){e.Empty=bn,e.ofSingleton=ji,e.ofRange=Fi,e.ofBounds=$i,e.ofSortedArray=hn,e.has=Oi,e.indexOf=Li,e.getAt=Kt,e.isEmpty=Zi,e.min=Yn,e.max=Jn,e.start=Ui,e.end=Gi,e.size=En,e.hashCode=Di,e.areEqual=Xi,e.areIntersecting=Yi,e.isSubset=Ji,e.union=es,e.intersect=ns,e.indexedIntersect=hs,e.subtract=ts,e.findPredecessorIndex=Wi,e.findPredecessorIndexInInterval=Ki,e.findRange=Vi,e.intersectionSize=Qi;function n(l,d,w){return us(l,d,w)}e.forEach=n;function t(l,d,w,g){return ds(l,d,w,g)}e.forEachSegment=t;function r(l){return te.is(l)}e.isInterval=r;function i(l){return!te.is(l)}e.isSortedArray=i;function c(l){const d=[];return e.forEach(l,w=>d.push(w)),d}e.toArray=c;function a(l){return Hi(l)}e.toString=a})(Ee||(Ee={}));function ln(){return ln.empty()}(function(e){function n(m,F,E,p){return{origin:m,dirA:F,dirB:E,dirC:p}}e.create=n;function t(){return{origin:y(),dirA:y(),dirB:y(),dirC:y()}}e.empty=t;function r(m,F){return y.copy(m.origin,F.origin),y.copy(m.dirA,F.dirA),y.copy(m.dirB,F.dirB),y.copy(m.dirC,F.dirC),m}e.copy=r;function i(m){return r(t(),m)}e.clone=i;function c(m,F){return y.set(m,y.magnitude(F.dirA)*2,y.magnitude(F.dirB)*2,y.magnitude(F.dirC)*2)}e.size=c;const a=y();function l(m){return c(a,m),a[0]*a[1]*a[2]}e.volume=l;function d(m,F){return y.copy(m.origin,F.origin),y.normalize(m.dirA,F.dirA),y.normalize(m.dirB,F.dirB),y.normalize(m.dirC,F.dirC),m}e.normalize=d;const w=Cn();function g(m,F,E){y.transformMat4(m.origin,F.origin,E);const p=Cn.directionTransform(w,E);return y.transformMat3(m.dirA,F.dirA,p),y.transformMat3(m.dirB,F.dirB,p),y.transformMat3(m.dirC,F.dirC,p),m}e.transform=g;function A(m,F,E){return y.scale(m.dirA,F.dirA,E),y.scale(m.dirB,F.dirB,E),y.scale(m.dirC,F.dirC,E),m}e.scale=A})(ln||(ln={}));var Ye;(function(e){function n(m,F,E=Float32Array){const p=m*F;return{data:new E(p),size:p,cols:m,rows:F}}e.create=n;function t(m,F,E){return m.data[m.rows*E+F]}e.get=t;function r(m,F,E,p){return m.data[m.rows*E+F]=p,m}e.set=r;function i(m,F,E,p){return m.data[m.rows*E+F]+=p,m}e.add=i;function c(m){return m.data.fill(0),m}e.makeZero=c;function a(m){return{data:m.data.slice(),size:m.size,cols:m.cols,rows:m.rows}}e.clone=a;function l(m,F,E){return{data:m,size:F*E,cols:F,rows:E}}e.fromArray=l;function d(m,F){if(m.cols!==F.rows||m.rows!==F.cols)throw new Error("transpose: matrix dimensions incompatible");if(m.data===F.data)throw new Error("transpose: matrices share memory");const E=F.rows,p=F.cols,P=F.data,j=m.data;for(let O=0,Z=0,G=0;O<E;G+=1,Z+=p,++O){let q=G;for(let C=0;C<p;q+=E,C++)j[q]=P[Z+C]}return m}e.transpose=d;function w(m,F,E){const p=F.cols,P=F.rows,j=E.rows,O=F.data,Z=E.data,G=m.data;for(let q=0,C=0,J=0;q<P;C+=p,q++)for(let D=0,W=0;W<j;J++,W++){let le=0,$=C;for(let f=0;f<p;$++,D++,f++)le+=O[$]*Z[D];G[J]=le}return m}e.multiplyABt=w;function g(m){const F=m.rows,E=m.cols,p=m.data,P=new Array(E);for(let j=0;j<E;++j)P[j]=0;for(let j=0,O=0;j<F;++j)for(let Z=0;Z<E;++Z,++O)P[Z]+=p[O];for(let j=0;j<E;++j)P[j]/=F;return P}e.meanRows=g;function A(m,F){const E=m.rows,p=m.cols,P=m.data;for(let j=0,O=0;j<E;++j)for(let Z=0;Z<p;++Z,++O)P[O]-=F[Z];return m}e.subRows=A})(Ye||(Ye={}));function Tt(e,n,t,r){r=e[n],e[n]=e[t],e[t]=r}function xs(e,n){return e=Math.abs(e),n=Math.abs(n),e>n?(n/=e,e*Math.sqrt(1+n*n)):n>0?(e/=n,n*Math.sqrt(1+e*e)):0}const ms=1192092896e-16,gs=1e-37;function ps(e,n,t,r,i,c,a,l){const d=ms*2,w=gs;let g=0,A=0,m=0,F=0;const E=Math.max(c,30);let p=0,P=0,j=0,O=0,Z=0,G=0,q=0,C=0,J=0,D=0,W=0,le=0,$=0,f=0,x=0,o=0,u=0,_=4660,N=0,L=0,Y=0;const B=new Float64Array(a<<3);for(;g<a;g++){for(m=0,W=0;m<c;m++)C=e[g*n+m],W+=C*C;if(B[g]=W,r){for(m=0;m<a;m++)r[g*i+m]=0;r[g*i+g]=1}}for(;F<E;F++){for(Z=0,g=0;g<a-1;g++)for(A=g+1;A<a;A++){for(p=g*n|0,P=A*n|0,x=B[g],o=0,u=B[A],m=2,o+=e[p]*e[P],o+=e[p+1]*e[P+1];m<c;m++)o+=e[p+m]*e[P+m];if(!(Math.abs(o)<=d*Math.sqrt(x*u))){for(o*=2,le=x-u,$=xs(o,le),le<0?(f=($-le)*.5,q=Math.sqrt(f/$),G=o/($*q*2)):(G=Math.sqrt(($+le)/($*2)),q=o/($*G*2)),x=0,u=0,m=2,J=G*e[p]+q*e[P],D=-q*e[p]+G*e[P],e[p]=J,e[P]=D,x+=J*J,u+=D*D,J=G*e[p+1]+q*e[P+1],D=-q*e[p+1]+G*e[P+1],e[p+1]=J,e[P+1]=D,x+=J*J,u+=D*D;m<c;m++)J=G*e[p+m]+q*e[P+m],D=-q*e[p+m]+G*e[P+m],e[p+m]=J,e[P+m]=D,x+=J*J,u+=D*D;if(B[g]=x,B[A]=u,Z=1,r)for(j=g*i|0,O=A*i|0,m=2,J=G*r[j]+q*r[O],D=-q*r[j]+G*r[O],r[j]=J,r[O]=D,J=G*r[j+1]+q*r[O+1],D=-q*r[j+1]+G*r[O+1],r[j+1]=J,r[O+1]=D;m<a;m++)J=G*r[j+m]+q*r[O+m],D=-q*r[j+m]+G*r[O+m],r[j+m]=J,r[O+m]=D}}if(Z===0)break}for(g=0;g<a;g++){for(m=0,W=0;m<c;m++)C=e[g*n+m],W+=C*C;B[g]=Math.sqrt(W)}for(g=0;g<a-1;g++){for(A=g,m=g+1;m<a;m++)B[A]<B[m]&&(A=m);if(g!==A&&(Tt(B,g,A,W),r)){for(m=0;m<c;m++)Tt(e,g*n+m,A*n+m,C);for(m=0;m<a;m++)Tt(r,g*i+m,A*i+m,C)}}for(g=0;g<a;g++)t[g]=B[g];if(r)for(g=0;g<l;g++){for(W=g<a?B[g]:0;W<=w;){for(L=1/c,m=0;m<c;m++)_=_*214013+2531011,N=_>>16&32767&256?L:-L,e[g*n+m]=N;for(F=0;F<2;F++)for(A=0;A<g;A++){for(W=0,m=0;m<c;m++)W+=e[g*n+m]*e[A*n+m];for(Y=0,m=0;m<c;m++)C=e[g*n+m]-W*e[A*n+m],e[g*n+m]=C,Y+=Math.abs(C);for(Y=Y?1/Y:0,m=0;m<c;m++)e[g*n+m]*=Y}for(W=0,m=0;m<c;m++)C=e[g*n+m],W+=C*C;W=Math.sqrt(W)}for(q=1/W,m=0;m<c;m++)e[g*n+m]*=q}}function bs(e,n,t,r){let i=0,c=0;const a=e.rows,l=e.cols;let d=a,w=l;d<w&&(i=1,c=d,d=w,w=c);const g=Ye.create(d,d),A=Ye.create(1,w),m=Ye.create(w,w);if(i===0)Ye.transpose(g,e);else{for(c=0;c<l*a;c++)g.data[c]=e.data[c];for(;c<w*d;c++)g.data[c]=0}if(ps(g.data,d,A.data,m.data,w,d,w,d),n){for(c=0;c<w;c++)n.data[c]=A.data[c];for(;c<l;c++)n.data[c]=0}i===0?(t&&Ye.transpose(t,g),r&&Ye.transpose(r,m)):(t&&Ye.transpose(t,m),r&&Ye.transpose(r,g))}var Vt;(function(e){function n(a){const l=t(a),d=c(a,l);return{momentsAxes:l,boxAxes:d}}e.ofPositions=n;function t(a){if(a.length===3)return ln.create(y.fromArray(y(),a,0),y.create(1,0,0),y.create(0,1,0),y.create(0,0,1));const l=Ye.fromArray(a,3,a.length/3),d=l.rows,w=d/3,g=Ye.create(3,3),A=Ye.create(1,3),m=Ye.create(3,3),F=Ye.create(3,3),E=Ye.meanRows(l),p=Ye.subRows(Ye.clone(l),E),P=Ye.transpose(Ye.create(d,3),p);Ye.multiplyABt(g,P,P),bs(g,A,m,F);const j=y.create(E[0],E[1],E[2]),O=y.create(m.data[0],m.data[3],m.data[6]),Z=y.create(m.data[1],m.data[4],m.data[7]),G=y.create(m.data[2],m.data[5],m.data[8]);return y.scale(O,O,Math.sqrt(A.data[0]/w)),y.scale(Z,Z,Math.sqrt(A.data[1]/w)),y.scale(G,G,Math.sqrt(A.data[2]/w)),ln.create(j,O,Z,G)}e.calculateMomentsAxes=t;function r(a){const l=ln.clone(a);return y.magnitude(l.dirC)<De&&y.cross(l.dirC,l.dirA,l.dirB),ln.normalize(l,l)}e.calculateNormalizedAxes=r;const i=y();function c(a,l){if(a.length===3)return ln.clone(l);let d=-1/0,w=-1/0,g=-1/0,A=-1/0,m=-1/0,F=-1/0;const E=y(),p=y(),P=l.origin,j=r(l);for(let le=0,$=a.length;le<$;le+=3){y.projectPointOnVector(E,y.fromArray(E,a,le),j.dirA,P);const f=y.dot(j.dirA,y.normalize(p,y.sub(p,E,P))),x=y.distance(E,P);f>0?x>d&&(d=x):x>w&&(w=x),y.projectPointOnVector(E,y.fromArray(E,a,le),j.dirB,P);const o=y.dot(j.dirB,y.normalize(p,y.sub(p,E,P))),u=y.distance(E,P);o>0?u>g&&(g=u):u>A&&(A=u),y.projectPointOnVector(E,y.fromArray(E,a,le),j.dirC,P);const _=y.dot(j.dirC,y.normalize(p,y.sub(p,E,P))),N=y.distance(E,P);_>0?N>m&&(m=N):N>F&&(F=N)}const O=y.setMagnitude(y(),j.dirA,(d+w)/2),Z=y.setMagnitude(y(),j.dirB,(g+A)/2),G=y.setMagnitude(y(),j.dirC,(m+F)/2),q=y.isFinite(O),C=y.isFinite(Z),J=y.isFinite(G),D=y(),W=function(le,$,f){y.copy(i,P),q&&y.scaleAndAdd(i,i,j.dirA,le),C&&y.scaleAndAdd(i,i,j.dirB,$),J&&y.scaleAndAdd(i,i,j.dirC,f),y.add(D,D,i)};return W(d,g,m),W(d,g,-F),W(d,-A,-F),W(d,-A,m),W(-w,-A,-F),W(-w,-A,m),W(-w,g,m),W(-w,g,-F),y.scale(D,D,1/8),ln.create(D,O,Z,G)}e.calculateBoxAxes=c})(Vt||(Vt={}));function Ve(){return Ve.zero()}(function(e){function n(o){return o.extrema!==void 0}e.hasExtrema=n;function t(o,u){return{center:o,radius:u}}e.create=t;function r(){return{center:y(),radius:0}}e.zero=r;function i(o){const u=t(y.clone(o.center),o.radius);return n(o)&&(u.extrema=o.extrema.map(_=>y.clone(_))),u}e.clone=i;function c(o,u,_){return y.copy(o.center,u),o.radius=_,o}e.set=c;function a(o,u){return y.copy(o.center,u.center),o.radius=u.radius,n(u)&&l(o,u.extrema.map(_=>y.clone(_))),o}e.copy=a;function l(o,u){return o.extrema!==void 0?(o.extrema.length=0,o.extrema.push(...u)):o.extrema=u,o}e.setExtrema=l;function d(o){const{x:u,y:_,z:N,indices:L}=o;let Y=0,B=0,V=0,fe=0;const we=Ee.size(L);for(let Ie=0;Ie<we;Ie++){const Ae=Ee.getAt(L,Ie);Y+=u[Ae],B+=_[Ae],V+=N[Ae]}we>0&&(Y/=we,B/=we,V/=we);for(let Ie=0;Ie<we;Ie++){const Ae=Ee.getAt(L,Ie),Fe=u[Ae]-Y,Re=_[Ae]-B,Ce=N[Ae]-V,M=Fe*Fe+Re*Re+Ce*Ce;M>fe&&(fe=M)}return{center:y.create(Y,B,V),radius:Math.sqrt(fe)}}e.computeBounding=d;function w(o,u,_){return y.transformMat4(o.center,u.center,_),o.radius=u.radius*be.getMaxScaleOnAxis(_),n(u)&&l(o,u.extrema.map(N=>y.transformMat4(y(),N,_))),o}e.transform=w;function g(o,u,_){return y.add(o.center,u.center,_),n(u)&&l(o,u.extrema.map(N=>y.add(y(),N,_))),o}e.translate=g;function A(o,u,_){return y.scale(o.center,u.center,_),o.radius=u.radius*_,n(u)&&l(o,u.extrema.map(N=>y.scale(y(),N,_))),o}e.scale=A;function m(o,u,_){return y.scale(o.center,u.center,_),o.radius=u.radius*_,o}e.scaleNX=m;function F(o,u,_){return y.toArray(o.center,u,_),u[_+3]=o.radius,u}e.toArray=F;function E(o,u,_){return y.fromArray(o.center,u,_),o.radius=u[_+3],o}e.fromArray=E;function p(o,u){return y.scale(o.center,y.add(o.center,u.max,u.min),.5),o.radius=y.distance(o.center,u.max),e.setExtrema(o,[y.create(u.min[0],u.min[1],u.min[2]),y.create(u.max[0],u.max[1],u.max[2]),y.create(u.max[0],u.min[1],u.min[2]),y.create(u.min[0],u.max[1],u.max[2]),y.create(u.min[0],u.min[1],u.max[2]),y.create(u.max[0],u.min[1],u.max[2]),y.create(u.max[0],u.max[1],u.min[2]),y.create(u.min[0],u.max[1],u.min[2])]),o}e.fromBox3D=p;function P(o,u){return y.copy(o.center,u.origin),o.radius=Math.max(y.magnitude(u.dirA),y.magnitude(u.dirB),y.magnitude(u.dirC)),o}e.fromAxes3D=P;const j=y();function O(o,u,_){const[N,L,Y]=u,B=y.create(0,0,0);y.transformMat4(B,B,_);const V=y.create(N,L,Y);y.transformMat4(V,V,_);const fe=y.create(N,0,0);y.transformMat4(fe,fe,_);const we=y.create(0,L,Y);y.transformMat4(we,we,_);const Ie=y.create(0,0,Y);y.transformMat4(Ie,Ie,_);const Ae=y.create(N,0,Y);y.transformMat4(Ae,Ae,_);const Fe=y.create(N,L,0);y.transformMat4(Fe,Fe,_);const Re=y.create(0,L,0);y.transformMat4(Re,Re,_),y.add(j,B,V),y.scale(j,j,.5);const Ce=Math.max(y.distance(B,V),y.distance(fe,we));return e.set(o,j,Ce/2),e.setExtrema(o,[B,V,fe,we,Ie,Ae,Fe,Re]),o}e.fromDimensionsAndTransform=O;const Z=y();function G(o,u,_){return y.distance(u.center,_)<u.radius?e.copy(o,u):(y.sub(Z,u.center,_),y.sub(Z,u.center,Z),y.setMagnitude(Z,Z,u.radius),y.scale(o.center,y.add(Z,Z,_),.5),o.radius=y.distance(o.center,_),o)}e.addVec3=G;function q(o,u,_){return y.copy(o.center,u.center),o.radius=Math.max(u.radius,y.distance(u.center,_.center)+_.radius),n(u)&&n(_)&&l(o,[...u.extrema.map(N=>y.clone(N)),..._.extrema.map(N=>y.clone(N))]),o}e.expandBySphere=q;const C=y();function J(o,u,_){var N,L;if(y.copy(o.center,u.center),o.radius=u.radius+_,u.radius<1e-12||((L=(N=u.extrema)===null||N===void 0?void 0:N.length)!==null&&L!==void 0?L:0)<=1)return o.extrema=void 0,o;if(n(u)){const Y=new Float32Array(u.extrema.length*3);for(let V=0;V<u.extrema.length;V++)y.toArray(u.extrema[V],Y,V*3);const B=Vt.calculateMomentsAxes(Y);ln.scale(B,ln.normalize(B,B),_),l(o,u.extrema.map(V=>{y.normalize(C,y.sub(C,V,u.center));const fe=y.clone(V),we=y.dot(C,B.dirA)<0?-1:1;y.scaleAndAdd(fe,fe,B.dirA,we);const Ie=y.dot(C,B.dirB)<0?-1:1;y.scaleAndAdd(fe,fe,B.dirB,Ie);const Ae=y.dot(C,B.dirC)<0?-1:1;return y.scaleAndAdd(fe,fe,B.dirC,Ae),y.distance(o.center,fe)>o.radius&&(u.extrema.length>=14&&y.normalize(C,y.sub(C,fe,u.center)),y.scaleAndAdd(fe,o.center,C,o.radius)),fe}))}return o}e.expand=J;function D(o,u){return o.radius===u.radius&&y.exactEquals(o.center,u.center)}e.exactEquals=D;function W(o,u){const _=o.radius,N=u.radius;return Math.abs(_-N)<=De*Math.max(1,Math.abs(_),Math.abs(N))&&y.equals(o.center,u.center)}e.equals=W;function le(o,u){if(n(u)){for(const _ of u.extrema)if(y.distance(o.center,_)>o.radius)return!1;return!0}else return y.distance(o.center,u.center)+u.radius<=o.radius}e.includes=le;function $(o,u){return y.distance(o.center,u.center)<=o.radius+u.radius}e.overlaps=$;function f(o,u){return y.distance(o.center,u.center)-o.radius+u.radius}e.distance=f;function x(o,u){const{center:_,radius:N}=o;return y.distance(u,_)-N}e.distanceToVec=x})(Ve||(Ve={}));function He(){return He.zero()}(function(e){function n(o,u){return{min:o,max:u}}e.create=n;function t(){return{min:y(),max:y()}}e.zero=t;function r(o,u){return y.copy(o.min,u.min),y.copy(o.max,u.max),o}e.copy=r;function i(o,u,_){return y.copy(o.min,u),y.copy(o.max,_),o}e.set=i;function c(o){return r(t(),o)}e.clone=c;const a=y();function l(o,u){return Ve.hasExtrema(u)&&u.extrema.length>=14?w(o,u.extrema):(y.set(a,u.radius,u.radius,u.radius),y.sub(o.min,u.center,a),y.add(o.max,u.center,a),o)}e.fromSphere3D=l;function d(o,u){for(let _=0,N=u.length;_<N;_++)O(o,u[_]);return o}e.addVec3Array=d;function w(o,u){return j(o),d(o,u),o}e.fromVec3Array=w;function g(o,u){return Ve.hasExtrema(u)&&u.extrema.length>=14?d(o,u.extrema):(O(o,y.subScalar(a,u.center,u.radius)),O(o,y.addScalar(a,u.center,u.radius)),o)}e.addSphere3D=g;function A(o,u){return O(o,u.min),O(o,u.max),o}e.addBox3D=A;function m(o,u){return y.clamp(a,u.center,o.min,o.max),y.squaredDistance(a,u.center)<=u.radius*u.radius}e.intersectsSphere3D=m;function F(o){const u=y.create(Number.MAX_VALUE,Number.MAX_VALUE,Number.MAX_VALUE),_=y.create(-Number.MAX_VALUE,-Number.MAX_VALUE,-Number.MAX_VALUE),{x:N,y:L,z:Y,indices:B}=o;for(let V=0,fe=Ee.size(B);V<fe;V++){const we=Ee.getAt(B,V);u[0]=Math.min(N[we],u[0]),u[1]=Math.min(L[we],u[1]),u[2]=Math.min(Y[we],u[2]),_[0]=Math.max(N[we],_[0]),_[1]=Math.max(L[we],_[1]),_[2]=Math.max(Y[we],_[2])}return{min:u,max:_}}e.computeBounding=F;function E(o,u){return y.sub(o,u.max,u.min)}e.size=E;const p=y();function P(o){return E(p,o),p[0]*p[1]*p[2]}e.volume=P;function j(o){return y.set(o.min,Number.MAX_VALUE,Number.MAX_VALUE,Number.MAX_VALUE),y.set(o.max,-Number.MAX_VALUE,-Number.MAX_VALUE,-Number.MAX_VALUE),o}e.setEmpty=j;function O(o,u){return y.min(o.min,o.min,u),y.max(o.max,o.max,u),o}e.add=O;function Z(o,u,_){return y.sub(o.min,u.min,_),y.add(o.max,u.max,_),o}e.expand=Z;function G(o,u,_){return y.subScalar(o.min,u.min,_),y.addScalar(o.max,u.max,_),o}e.expandUniformly=G;function q(o,u,_){return y.scale(o.min,u.min,_),y.scale(o.max,u.max,_),o}e.scale=q;const C=y();function J(o,u,_){const[N,L,Y]=u.min,[B,V,fe]=u.max;return j(o),O(o,y.transformMat4(C,y.set(C,N,L,Y),_)),O(o,y.transformMat4(C,y.set(C,N,L,fe),_)),O(o,y.transformMat4(C,y.set(C,N,V,Y),_)),O(o,y.transformMat4(C,y.set(C,N,V,fe),_)),O(o,y.transformMat4(C,y.set(C,B,L,Y),_)),O(o,y.transformMat4(C,y.set(C,B,L,fe),_)),O(o,y.transformMat4(C,y.set(C,B,V,Y),_)),O(o,y.transformMat4(C,y.set(C,B,V,fe),_)),o}e.transform=J;function D(o,u){return!(u[0]<o.min[0]||u[0]>o.max[0]||u[1]<o.min[1]||u[1]>o.max[1]||u[2]<o.min[2]||u[2]>o.max[2])}e.containsVec3=D;function W(o,u){return!(o.max[0]<u.min[0]||o.min[0]>u.max[0]||o.max[1]<u.min[1]||o.min[1]>u.max[1]||o.max[2]<u.min[2]||o.min[2]>u.max[2])}e.overlaps=W;function le(o,u){const _=u.center,N=u.radius;return!(_[0]-N<o.min[0]||_[0]+N>o.max[0]||_[1]-N<o.min[1]||_[1]+N>o.max[1]||_[2]-N<o.min[2]||_[2]+N>o.max[2])}e.containsSphere3D=le;function $(o,u){return y.center(o,u.max,u.min)}e.center=$;function f(o,u){return y.exactEquals(o.min,u.min)&&y.exactEquals(o.max,u.max)}e.exactEquals=f;function x(o,u){return y.equals(o.min,u.min)&&y.equals(o.max,u.max)}e.equals=x})(He||(He={}));var gn;(function(e){function n(c,a,l){c.squaredDistances[c.count]=l,c.indices[c.count++]=a}e.add=n;function t(c){c.count=0}e.reset=t;function r(){return{count:0,indices:[],squaredDistances:[]}}e.create=r;function i(c,a){for(let l=0;l<a.count;++l)c.indices[l]=a.indices[l],c.squaredDistances[l]=a.squaredDistances[l];return c.count=a.count,c}e.copy=i})(gn||(gn={}));function z0(e){const n=Oe.ofSortedArray(e),t=Oe.max(n),r=new Int32Array(t);for(let i=0,c=e.length-1;i<c;i++)for(let a=e[i],l=e[i+1];a<l;a++)r[a]=i;return{offsets:n,index:r,count:e.length-1}}function ys(e,n){const t=te.start(n),r=new Int32Array(e.length+1);for(let i=0,c=e.length;i<c;i++)r[i]=e[i]-t;return r[e.length]=te.end(n)-t,z0(r)}function ws({count:e}){return e}function Ms({index:e},n){return e[n]}function _s({offsets:e},n,t){const r=Ee.max(e),i=t>=r?-1:Ee.findPredecessorIndex(e,t-1);return Ee.findRange(n,Ee.getAt(e,i),Ee.getAt(e,i+1)-1)}class Is{move(){for(;this.hasNext;)if(this.updateValue()){this.value.index=this.segmentMin++,this.hasNext=this.segmentMax>=this.segmentMin&&te.size(this.setRange)>0;break}else this.updateSegmentRange();return this.value}updateValue(){const n=this.segments[this.segmentMin+1],t=Ee.findPredecessorIndexInInterval(this.set,n,this.setRange);return this.value.start=te.start(this.setRange),this.value.end=t,this.setRange=te.ofBounds(t,te.end(this.setRange)),t>this.value.start}updateSegmentRange(){const n=te.min(this.setRange),t=te.max(this.setRange);if(t<n){this.hasNext=!1;return}this.segmentMin=this.segmentMap[Ee.getAt(this.set,n)],this.segmentMax=this.segmentMap[Ee.getAt(this.set,t)],this.hasNext=this.segmentMax>=this.segmentMin}setSegment(n){this.setRange=te.ofBounds(n.start,n.end),this.updateSegmentRange()}constructor(n,t,r,i){this.segments=n,this.segmentMap=t,this.set=r,this.segmentMin=0,this.segmentMax=0,this.setRange=te.Empty,this.value={index:0,start:0,end:0},this.hasNext=!1,this.setRange=i,this.updateSegmentRange()}}function vs(e,n,t){const r=typeof t<"u"?te.ofBounds(t.start,t.end):te.ofBounds(0,Ee.size(n));return new Is(e.offsets,e.index,n,r)}var Nr;(function(e){e.create=z0,e.ofOffsets=ys,e.count=ws,e.getSegment=Ms,e.projectValue=_s,e.transientSegments=vs})(Nr||(Nr={}));var Er;(function(e){e.Empty=new Map;function n(a){return Jr(a.keys())}e.keyArray=n;function t(){return new Map}e.Mutable=t;function r(a){return a}e.asImmutable=r;function i(a){const l=t(),d=a.keys();for(;;){const{done:w,value:g}=d.next();if(w)break;l.set(g,a.get(g))}return l}e.copy=i;function c(a,l){const d=l.keys();for(;;){const{done:w,value:g}=d.next();if(w)break;a.set(g,l.get(g))}return a}e.addFrom=c})(Er||(Er={}));class As{move(){return++this.index,this.lastValue=this.xs[this.index],this.hasNext=this.index<this.length-1,this.lastValue}constructor(n){this.xs=[],this.index=-1,this.length=0,this.hasNext=!1,this.length=n.length,this.hasNext=n.length>0,this.xs=n,this.index=-1,this.lastValue=n.length>0?n[0]:void 0}}class qr{move(){return++this.value,this.hasNext=this.value<this.max,this.value}constructor(n,t){this.max=t,this.value=0,this.hasNext=!1,this.value=n-1,this.hasNext=t>=n}}class zs{move(){return this.hasNext=!1,this.value}constructor(n){this.value=n,this.hasNext=!0}}class Ps{move(){const n=this.f(this.base.move());return this.hasNext=this.base.hasNext,n}constructor(n,t){this.base=n,this.f=t,this.hasNext=!1,this.hasNext=n.hasNext}}class Cs{move(){const n=this.next;return this.hasNext=this.findNext(),n}findNext(){for(;this.base.hasNext;)if(this.next=this.base.move(),this.p(this.next))return!0;return!1}constructor(n,t){this.base=n,this.p=t,this.hasNext=this.findNext()}}var Rr;(function(e){e.Empty=new qr(0,-1);function n(l){return new As(l)}e.Array=n;function t(l){return new zs(l)}e.Value=t;function r(l,d){return new qr(l,d)}e.Range=r;function i(l,d){return new Ps(l,d)}e.map=i;function c(l,d){return new Cs(l,d)}e.filter=c;function a(l,d,w){for(;l.hasNext;)if(d(l.move(),w))return w;return w}e.forEach=a})(Rr||(Rr={}));class Ss{constructor(n,t){this.parent=null,this.child=null,this.degree=0,this.isMarked=!1,this.key=n,this.value=t,this.prev=this,this.next=this}}class ks{constructor(n){if(this._index=-1,this._items=[],this._len=0,n){let t=n,r=0;do this._items[r++]=t,t=t.next;while(n!==t);this._len=r}}hasNext(){return this._index<this._len-1}next(){return this._items[++this._index]}reset(n){this._index=-1,this._len=0;let t=n,r=0;do this._items[r++]=t,t=t.next;while(n!==t);this._len=r}}const jt=new ks;class Ns{constructor(n){this._minNode=null,this._nodeCount=0,this._compare=n||this._defaultCompare}clear(){this._minNode=null,this._nodeCount=0}decreaseKey(n,t){if(!n)throw new Error("Cannot decrease key of non-existent node");if(this._compare({key:t},{key:n.key})>0)throw new Error("New key is larger than old key");n.key=t;const r=n.parent;r&&this._compare(n,r)<0&&(this._cut(n,r,this._minNode),this._cascadingCut(r,this._minNode)),this._compare(n,this._minNode)<0&&(this._minNode=n)}delete(n){const t=n.parent;t&&(this._cut(n,t,this._minNode),this._cascadingCut(t,this._minNode)),this._minNode=n,this.extractMinimum()}extractMinimum(){const n=this._minNode;if(n){if(n.child){let r=n.child;do r.parent=null,r=r.next;while(r!==n.child)}let t=null;n.next!==n&&(t=n.next),this._removeNodeFromList(n),this._nodeCount--,this._minNode=this._mergeLists(t,n.child),this._minNode&&(this._minNode=this._consolidate(this._minNode))}return n}findMinimum(){return this._minNode}insert(n,t){const r=new Ss(n,t);return this._minNode=this._mergeLists(this._minNode,r),this._nodeCount++,r}isEmpty(){return this._minNode===null}size(){return this._minNode===null?0:this._getNodeListSize(this._minNode)}union(n){this._minNode=this._mergeLists(this._minNode,n._minNode),this._nodeCount+=n._nodeCount}_defaultCompare(n,t){return n.key>t.key?1:n.key<t.key?-1:0}_cut(n,t,r){n.parent=null,t.degree--,n.next===n?t.child=null:t.child=n.next,this._removeNodeFromList(n);const i=this._mergeLists(r,n);return n.isMarked=!1,i}_cascadingCut(n,t){const r=n.parent;return r&&(n.isMarked?(t=this._cut(n,r,t),t=this._cascadingCut(r,t)):n.isMarked=!0),t}_consolidate(n){const t=[];for(jt.reset(n);jt.hasNext();){let i=jt.next(),c=t[i.degree];for(;c;){if(this._compare(i,c)>0){const a=i;i=c,c=a}this._linkHeaps(c,i),t[i.degree]=null,i.degree++,c=t[i.degree]}t[i.degree]=i}let r=null;for(let i=0;i<t.length;i++){const c=t[i];c&&(c.next=c,c.prev=c,r=this._mergeLists(r,c))}return r}_removeNodeFromList(n){const t=n.prev,r=n.next;t.next=r,r.prev=t,n.next=n,n.prev=n}_linkHeaps(n,t){this._removeNodeFromList(n),t.child=this._mergeLists(n,t.child),n.parent=t,n.isMarked=!1}_mergeLists(n,t){if(!n)return t||null;if(!t)return n;const r=n.next;return n.next=t.next,n.next.prev=n,t.next=r,t.next.prev=t,this._compare(n,t)<0?n:t}_getNodeListSize(n){let t=0,r=n;do t++,r.child&&(t+=this._getNodeListSize(r.child)),r=r.next;while(r!==n);return t}}function p2(e){let n,t;return(...r)=>{if(!n||n.length!==r.length)return n=r,t=e.apply(void 0,r),t;for(let i=0,c=r.length;i<c;i++)if(r[i]!==n[i])return n=r,t=e.apply(void 0,r),t;return t}}function Es(e){const n=new Map;return t=>{if(n.has(t))return n.get(t);const r=e(t);return n.set(t,r),r}}function Wn(){return Wn.create(y.create(0,0,0),y.create(1,0,0))}(function(e){function n(E,p){return{origin:E,direction:p}}e.create=n;function t(E,p){return y.copy(E.origin,p.origin),y.copy(E.direction,p.direction),E}e.copy=t;function r(E){return t(e(),E)}e.clone=r;function i(E,p,P){return y.copy(E.origin,p.origin),y.normalize(E.direction,y.sub(E.direction,P,p.origin)),E}e.targetTo=i;function c(E,p,P){return y.transformMat4(E.origin,p.origin,P),y.transformDirection(E.direction,p.direction,P),E}e.transform=c;const a=y();function l(E,p){const{center:P,radius:j}=p,{origin:O,direction:Z}=E,G=y.sub(a,O,P),q=y.dot(Z,Z),C=2*y.dot(G,Z),J=y.dot(G,G)-j*j,D=C*C-4*q*J;if(D<0)return-1;const W=(-C-Math.sqrt(D))/(2*q);return W<0?-1:W}function d(E,p,P){const j=l(p,P);return j<0?!1:(y.scaleAndAdd(E,p.origin,p.direction,j),!0)}e.intersectSphere3D=d;function w(E,p){return l(E,p)>=0}e.isIntersectingSphere3D=w;function g(E,p){return y.distance(E.origin,p.center)<p.radius}e.isInsideSphere3D=g;function A(E,p){const{origin:P,direction:j}=E,[O,Z,G]=p.min,[q,C,J]=p.max,[D,W,le]=P,$=1/j[0],f=1/j[1],x=1/j[2];let o,u,_,N,L,Y;return $>=0?(o=(O-D)*$,u=(q-D)*$):(o=(q-D)*$,u=(O-D)*$),f>=0?(_=(Z-W)*f,N=(C-W)*f):(_=(C-W)*f,N=(Z-W)*f),o>N||_>u||(_>o&&(o=_),N<u&&(u=N),x>=0?(L=(G-le)*x,Y=(J-le)*x):(L=(J-le)*x,Y=(G-le)*x),o>Y||L>u)?-1:(L>o&&(o=L),Y<u&&(u=Y),o>=0?o:-1)}function m(E,p,P){const j=A(p,P);return j<0?!1:(y.scaleAndAdd(E,p.origin,p.direction,j),!0)}e.intersectBox3D=m;function F(E,p){return A(E,p)>=0}e.isIntersectingBox3D=F})(Wn||(Wn={}));function b2(e,n,t){return new qs(e,n,t)}class qs{find(n,t,r,i,c){this.ctx.x=n,this.ctx.y=t,this.ctx.z=r,this.ctx.radius=i,this.ctx.isCheck=!1;const a=c??this.result;return Tr(this.ctx,a),a}nearest(n,t,r,i=1,c,a){this.ctx.x=n,this.ctx.y=t,this.ctx.z=r,this.ctx.k=i,this.ctx.stopIf=c;const l=a??this.result;return Gs(this.ctx,l),l}check(n,t,r,i){return this.ctx.x=n,this.ctx.y=t,this.ctx.z=r,this.ctx.radius=i,this.ctx.isCheck=!0,Tr(this.ctx,this.result)}approxNearest(n,t,r,i,c){this.ctx.x=n,this.ctx.y=t,this.ctx.z=r,this.ctx.radius=i,this.ctx.isCheck=!1;const a=c??this.result;return $s(this.ctx,a),a}constructor(n,t,r){const i=Bs(n,t,r);this.ctx=Ts(i),this.boundary={box:i.boundingBox,sphere:i.boundingSphere},this.buckets={offset:i.bucketOffset,count:i.bucketCounts,array:i.bucketArray},this.result=gn.create()}}function Rs(e){const{expandedBox:n,size:[t,r,i],data:{x:c,y:a,z:l,radius:d,indices:w},elementCount:g,delta:A}=e,m=t*r*i,{min:[F,E,p]}=n;let P=0,j=0;const O=new Uint32Array(m),Z=new Int32Array(g);for(let D=0;D<g;D++){const W=Ee.getAt(w,D),le=Math.floor((c[W]-F)/A[0]),$=Math.floor((a[W]-E)/A[1]),f=Math.floor((l[W]-p)/A[2]),x=(le*r+$)*i+f;(O[x]+=1)===1&&(j+=1),Z[D]=x}if(d)for(let D=0;D<g;D++){const W=Ee.getAt(w,D);d[W]>P&&(P=d[W])}const G=new Int32Array(j);for(let D=0,W=0;D<m;D++){const le=O[D];le>0&&(O[D]=W+1,G[W]=le,W+=1)}const q=new Uint32Array(j);for(let D=1;D<j;++D)q[D]+=q[D-1]+G[D-1];const C=new Int32Array(j),J=new Int32Array(g);for(let D=0;D<g;D++){const W=O[Z[D]];if(W>0){const le=W-1;J[q[le]+C[le]]=D,C[le]+=1}}return{size:e.size,bucketArray:J,bucketCounts:G,bucketOffset:q,grid:O,delta:A,min:e.expandedBox.min,data:e.data,maxRadius:P,expandedBox:e.expandedBox,boundingBox:e.boundingBox,boundingSphere:e.boundingSphere}}const Br=2**24;function Bs(e,n,t){const r=He.expand(He(),n.box,y.create(.5,.5,.5)),{indices:i}=e,c=He.size(y(),r);let a,l;const d=Ee.size(i),w=typeof t=="number"?t:32,g=Array.isArray(t)&&t;if(g&&!y.isZero(g))l=[Math.ceil(c[0]/g[0]),Math.ceil(c[1]/g[1]),Math.ceil(c[2]/g[2])],a=g;else if(d>0){const E=Math.ceil(d/w),p=Math.pow(E/(c[0]*c[1]*c[2]),1/3);l=[Math.ceil(c[0]*p),Math.ceil(c[1]*p),Math.ceil(c[2]*p)],a=[c[0]/l[0],c[1]/l[1],c[2]/l[2]]}else a=c,l=[1,1,1];const A=l[0]*l[1]*l[2];if(A>Br){const E=Math.cbrt(A/Br);l=[Math.ceil(l[0]/E),Math.ceil(l[1]/E),Math.ceil(l[2]/E)],a=[c[0]/l[0],c[1]/l[1],c[2]/l[2]]}const m={x:e.x,y:e.y,z:e.z,indices:i,radius:e.radius},F={size:l,data:m,expandedBox:r,boundingBox:n.box,boundingSphere:n.sphere,elementCount:d,delta:a};return Rs(F)}function Ts(e){return{grid:e,x:.1,y:.1,z:.1,k:1,stopIf:void 0,radius:.1,isCheck:!1}}function Tr(e,n){const{min:t,size:[r,i,c],bucketOffset:a,bucketCounts:l,bucketArray:d,grid:w,data:{x:g,y:A,z:m,indices:F,radius:E},delta:p,maxRadius:P}=e.grid,{radius:j,isCheck:O,x:Z,y:G,z:q}=e,C=j+P,J=C*C;gn.reset(n);const D=Math.max(0,Math.floor((Z-C-t[0])/p[0])),W=Math.max(0,Math.floor((G-C-t[1])/p[1])),le=Math.max(0,Math.floor((q-C-t[2])/p[2])),$=Math.min(r-1,Math.floor((Z+C-t[0])/p[0])),f=Math.min(i-1,Math.floor((G+C-t[1])/p[1])),x=Math.min(c-1,Math.floor((q+C-t[2])/p[2]));if(D>$||W>f||le>x)return!1;for(let o=D;o<=$;o++)for(let u=W;u<=f;u++)for(let _=le;_<=x;_++){const N=w[(o*i+u)*c+_];if(N===0)continue;const L=N-1,Y=a[L],B=l[L],V=Y+B;for(let fe=Y;fe<V;fe++){const we=Ee.getAt(F,d[fe]),Ie=g[we]-Z,Ae=A[we]-G,Fe=m[we]-q,Re=Ie*Ie+Ae*Ae+Fe*Fe;if(Re<=J){if(P>0&&Math.sqrt(Re)-E[we]>j)continue;if(O)return!0;gn.add(n,d[fe],Re)}}}return n.count>0}function js(e){const n=[],t=e*2+1;for(let r=0;r<t;++r)for(let i=0;i<t;++i)for(let c=0;c<t;++c)n.push(y.create(r-e,i-e,c-e));return n.sort((r,i)=>y.squaredMagnitude(r)-y.squaredMagnitude(i)),n.flat()}const Fs=Es(js);function $s(e,n){const{min:t,size:[r,i,c],bucketOffset:a,bucketCounts:l,bucketArray:d,grid:w,data:{x:g,y:A,z:m,indices:F},delta:E}=e.grid,{radius:p,x:P,y:j,z:O}=e,Z=p*p;gn.reset(n);const G=Math.max(0,Math.floor((P-p-t[0])/E[0])),q=Math.max(0,Math.floor((j-p-t[1])/E[1])),C=Math.max(0,Math.floor((O-p-t[2])/E[2])),J=Math.min(r-1,Math.floor((P+p-t[0])/E[0])),D=Math.min(i-1,Math.floor((j+p-t[1])/E[1])),W=Math.min(c-1,Math.floor((O+p-t[2])/E[2]));if(G>J||q>D||C>W)return!1;const le=Math.floor((P-t[0])/E[0]),$=Math.floor((j-t[1])/E[1]),f=Math.floor((O-t[2])/E[2]),x=Fs(Math.max(J-G,D-q,W-C)+1);for(let o=0,u=x.length;o<u;o+=3){const _=le+x[o],N=$+x[o+1],L=f+x[o+2];if(_<G||_>J||N<q||N>D||L<C||L>W)continue;const Y=w[(_*i+N)*c+L];if(Y===0)continue;const B=Y-1,V=a[B],fe=l[B],we=V+fe;let Ie=Number.MAX_VALUE;for(let Ae=V;Ae<we;Ae++){const Fe=Ee.getAt(F,d[Ae]),Re=g[Fe]-P,Ce=A[Fe]-j,M=m[Fe]-O,S=Re*Re+Ce*Ce+M*M;S<=Z&&S<Ie&&(gn.add(n,d[Ae],S),Ie=S)}if(Ie!==Number.MAX_VALUE)return!0}return n.count>0}const _n=Wn(),Qn=new Set,Ft=new Set,Os=[.1],Ls=[.1],Us=[.1],Gn=new Ns;function Gs(e,n){const{min:t,expandedBox:r,boundingSphere:{center:i},size:[c,a,l],bucketOffset:d,bucketCounts:w,bucketArray:g,grid:A,data:{x:m,y:F,z:E,indices:p,radius:P},delta:j,maxRadius:O}=e.grid,{x:Z,y:G,z:q,k:C,stopIf:J}=e,D=Ee.size(p);if(gn.reset(n),D===0||C<=0)return!1;let W,le,$,f=!1,x=1,o=!0,u=0,_=Os,N=Ls,L=0,Y=!0,B,V=!1;const fe=Us,we=O*O;_.length=0,fe.length=0,Qn.clear(),Gn.clear(),y.set(_n.origin,Z,G,q),He.containsVec3(r,_n.origin)?(W=Math.floor((Z-t[0])/j[0]),le=Math.floor((G-t[1])/j[1]),$=Math.floor((q-t[2])/j[2])):(Wn.targetTo(_n,_n,i),Wn.intersectBox3D(_n.origin,_n,r),W=Math.max(0,Math.min(c-1,Math.floor((_n.origin[0]-t[0])/j[0]))),le=Math.max(0,Math.min(a-1,Math.floor((_n.origin[1]-t[1])/j[1]))),$=Math.max(0,Math.min(l-1,Math.floor((_n.origin[2]-t[2])/j[2]))));const Ie=O!==0?Math.max(1,Math.min(c-1,Math.ceil(O/j[0]))):1,Ae=O!==0?Math.max(1,Math.min(a-1,Math.ceil(O/j[1]))):1,Fe=O!==0?Math.max(1,Math.min(l-1,Math.ceil(O/j[2]))):1;for(_.push(W,le,$,(W*a+le)*l+$);n.count<D;){const Re=x*4;for(let Ce=0;Ce<Re;Ce+=4)if(B=_[Ce+3],!Qn.has(B)){Qn.add(B),V=Qn.size>=A.length;const M=A[B];if(M!==0){const S=L,ee=M-1,ze=d[ee],k=w[ee],U=ze+k;for(let ie=ze;ie<U;ie++){const se=g[ie],z=Ee.getAt(p,se),I=m[z]-Z,T=F[z]-G,X=E[z]-q;let ne=I*I+T*T+X*X;if(O!==0){const ye=P[z];ne-=ye*ye}Y&&ne>L&&(L=ne),Gn.insert(ne,se)}S<L&&(Y=!1)}}N.length=0,u=0,Ft.clear();for(let Ce=0;Ce<Re;Ce+=4){W=_[Ce],le=_[Ce+1],$=_[Ce+2];for(let M=-Ie;M<=Ie;M++){const S=W+M;if(!(S<0||S>=c))for(let ee=-Ae;ee<=Ae;ee++){const ze=le+ee;if(!(ze<0||ze>=a))for(let k=-Fe;k<=Fe;k++){const U=$+k;if(!(U<0||U>=l)&&(B=(S*a+ze)*l+U,!Ft.has(B)&&(Ft.add(B),!Qn.has(B)))){if(!o){const ie=t[0]+S*j[0]-Z,se=t[1]+ze*j[1]-G,z=t[2]+U*j[2]-q;if(ie*ie+se*se+z*z-we>L){fe.push(S,ze,U,B);continue}}N.push(S,ze,U,B),u++}}}}}if(o=!1,u===0){if(C===1){const Ce=Gn.findMinimum();if(Ce){const{key:M,value:S}=Ce;return gn.add(n,S,M),!0}}else for(;!Gn.isEmpty()&&(V||Gn.findMinimum().key<=L)&&n.count<C;){const Ce=Gn.extractMinimum(),M=Ce.key,S=Ce.value;gn.add(n,S,M),J&&!f&&(f=J(S,M))}if(n.count>=C||f||n.count>=D)return n.count>0;if(o=!0,Y=!0,fe.length>0){for(let Ce=0,M=fe.length;Ce<M;Ce++)_.push(fe[Ce]);fe.length=0,x=_.length}}else{const Ce=_;_=N,N=Ce,x=u}}return n.count>0}function jr(e){return e}(function(e){function n(t){return t.__key||(t.__key=Lt.create22()),t.__key}e.getUUID=n})(jr||(jr={}));class sr{constructor(){this._list=[],this._set=new Set,this._refs=new Map,this._assets=new Map}get all(){return this._list}add(n){this._set.has(n)||(this._list.push(n),this._set.add(n))}reference(n,t){let r=this._refs.get(n)||0;r+=t?1:-1,this._refs.set(n,Math.max(r,0))}hasReference(n){return(this._refs.get(n)||0)>0}has(n){return this._set.has(n)}assets(n,t){const r=this._assets.get(n);if(r)for(const i of r)i.dispose();t?this._assets.set(n,t):this._assets.delete(n)}dispose(){this._assets.forEach(n=>{for(const t of n)t.dispose()})}}var Zn;(function(e){e.DefaultName="1_555",e.Default=n(e.DefaultName,be.identity()),e.RotationTranslationEpsilon=.005;function n(G,q,C){var J;let{assembly:D,ncsId:W,hkl:le,spgrOp:$,key:f}=C||{};const x=le?y.clone(le):y();$=$??-1,f=f??-1,W=W||-1;const o=be.isIdentity(q),u=c(C,o),_=(J=C==null?void 0:C.instanceId)!==null&&J!==void 0?J:G;return o?{name:G,instanceId:_,assembly:D,matrix:q,inverse:be.identity(),isIdentity:!0,hkl:x,spgrOp:$,ncsId:W,suffix:u,key:f}:(be.isRotationAndTranslation(q,e.RotationTranslationEpsilon)||console.warn(`Symmetry operator (${G}) should be a composition of rotation and translation.`),{name:G,instanceId:_,assembly:D,matrix:q,inverse:be.invert(be(),q),isIdentity:!1,hkl:x,spgrOp:$,key:f,ncsId:W,suffix:u})}e.create=n;function t(G){return!!G&&!!G.matrix&&!!G.inverse&&typeof G.name=="string"}function r(G,q,C,J){const D=W=>W>=0&&W<=9?`${W}`:`(${W})`;return`${G+1}_${D(q+5)}${D(C+5)}${D(J+5)}`}e.getSymmetryOperatorName=r;function i(G){return"ASM-"+G.join("-")}e.getAssemblyOperatorName=i;function c(G,q){if(!G)return"";if(G.assembly)return t(G)?G.suffix:q?"":`_${G.assembly.operId}`;if(typeof G.spgrOp<"u"&&typeof G.hkl<"u"&&G.spgrOp!==-1){const[C,J,D]=G.hkl;return`-${r(G.spgrOp,C,J,D)}`}return G.ncsId!==-1?`_${G.ncsId}`:""}const a=be();function l(G,q){be.setIdentity(a);for(let C=0;C<3;C++)for(let J=0;J<3;J++)be.setValue(a,C,J,Cn.getValue(G,C,J));return be.setTranslation(a,q),be.isRotationAndTranslation(a,e.RotationTranslationEpsilon)}e.checkIfRotationAndTranslation=l;function d(G,q,C,J){const D=be.identity();for(let W=0;W<3;W++)for(let le=0;le<3;le++)be.setValue(D,W,le,Cn.getValue(q,W,le));return be.setTranslation(D,C),n(G,D,{ncsId:J})}e.ofRotationAndOffset=d;const w=fn.identity(),g=fn(),A=fn(),m=y();function F(G,q,C){const J=q.inverse;if(q.isIdentity)return be.copy(G,J);const D=1-C;be.getRotation(g,J),fn.slerp(g,w,g,D);const W=fn.getAxisAngle(m,g);return be.fromRotation(G,W,m),be.setValue(G,0,3,D*be.getValue(J,0,3)),be.setValue(G,1,3,D*be.getValue(J,1,3)),be.setValue(G,2,3,D*be.getValue(J,2,3)),G}e.lerpFromIdentity=F;function E(G,q,C,J){if(Math.abs(J)<=1e-5)return be.copy(G,q);if(Math.abs(J-1)<=1e-5)return be.copy(G,C);be.getRotation(g,q),be.getRotation(A,C),fn.slerp(A,g,A,J);const D=fn.getAxisAngle(m,A);return be.fromRotation(G,D,m),be.setValue(G,0,3,xn(be.getValue(q,0,3),be.getValue(C,0,3),J)),be.setValue(G,1,3,xn(be.getValue(q,1,3),be.getValue(C,1,3),J)),be.setValue(G,2,3,xn(be.getValue(q,2,3),be.getValue(C,2,3),J)),G}e.slerp=E;function p(G,q){const C=be.mul(be(),q.matrix,G.matrix);return n(q.name,C,q)}e.compose=p;class P{constructor(q,C,J=dt){this.operator=q,this.coordinates=C,this.r=J,this._x=C.x,this._y=C.y,this._z=C.z,this._m=q.matrix}invariantPosition(q,C){return C[0]=this._x[q],C[1]=this._y[q],C[2]=this._z[q],C}position(q,C){return C[0]=this._x[q],C[1]=this._y[q],C[2]=this._z[q],y.transformMat4(C,C,this._m),C}x(q){const C=this._m,J=C[0],D=C[4],W=C[8],le=C[12],$=this._x[q],f=this._y[q],x=this._z[q],o=C[3]*$+C[7]*f+C[11]*x+C[15]||1;return(J*$+D*f+W*x+le)/o}y(q){const C=this._m,J=C[1],D=C[5],W=C[9],le=C[13],$=this._x[q],f=this._y[q],x=this._z[q],o=C[3]*$+C[7]*f+C[11]*x+C[15]||1;return(J*$+D*f+W*x+le)/o}z(q){const C=this._m,J=C[2],D=C[6],W=C[10],le=C[14],$=this._x[q],f=this._y[q],x=this._z[q],o=C[3]*$+C[7]*f+C[11]*x+C[15]||1;return(J*$+D*f+W*x+le)/o}}class j{constructor(q,C,J=dt){this.operator=q,this.coordinates=C,this.r=J,this._x=C.x,this._y=C.y,this._z=C.z,this._m=q.matrix}invariantPosition(q,C){return C[0]=this._x[q],C[1]=this._y[q],C[2]=this._z[q],C}position(q,C){return C[0]=this.x(q),C[1]=this.y(q),C[2]=this.z(q),C}x(q){const C=this._m;return C[0]*this._x[q]+C[4]*this._y[q]+C[8]*this._z[q]+C[12]}y(q){const C=this._m;return C[1]*this._x[q]+C[5]*this._y[q]+C[9]*this._z[q]+C[13]}z(q){const C=this._m;return C[2]*this._x[q]+C[6]*this._y[q]+C[10]*this._z[q]+C[14]}}class O{constructor(q,C,J=dt){this.operator=q,this.coordinates=C,this.r=J,this._x=C.x,this._y=C.y,this._z=C.z}invariantPosition(q,C){return C[0]=this._x[q],C[1]=this._y[q],C[2]=this._z[q],C}position(q,C){return C[0]=this._x[q],C[1]=this._y[q],C[2]=this._z[q],C}x(q){return this._x[q]}y(q){return this._y[q]}z(q){return this._z[q]}}function Z(G,q,C=dt){return be.isIdentity(G.matrix)?new O(G,q,C):Zs(G.matrix)?new j(G,q,C):new P(G,q,C)}e.createMapping=Z})(Zn||(Zn={}));function dt(e){return 0}function Zs(e){return e[3]===0&&e[7]===0&&e[11]===0&&e[15]===1}const $t=[[1,0,0,0],[0,1,0,0],[0,0,1,0],[-1,0,0,0],[0,-1,0,0],[0,0,-1,0],[0,1,0,.5],[1,0,0,.5],[-1,0,0,.5],[0,0,1,.5],[0,-1,0,.5],[0,0,-1,.5],[1,0,0,.25],[0,-1,0,.25],[0,0,1,.25],[-1,0,0,.25],[0,1,0,.25],[0,-1,0,.75],[0,0,1,.75],[0,1,0,.75],[1,0,0,.75],[-1,0,0,.75],[0,0,-1,.25],[0,0,-1,.75],[1,-1,0,0],[-1,1,0,0],[0,0,1,1/3],[0,0,1,2/3],[1,0,0,2/3],[0,1,0,1/3],[0,-1,0,2/3],[1,-1,0,1/3],[-1,1,0,2/3],[-1,0,0,1/3],[1,0,0,1/3],[0,1,0,2/3],[0,-1,0,1/3],[1,-1,0,2/3],[-1,1,0,1/3],[-1,0,0,2/3],[0,0,-1,1/3],[0,0,-1,2/3],[0,0,1,5/6],[0,0,1,1/6],[0,0,-1,5/6],[0,0,-1,1/6]],Ds=[[0,1,2],[3,4,5],[3,1,5],[3,6,5],[7,6,2],[8,6,5],[0,4,2],[0,4,9],[7,10,2],[7,10,9],[0,10,2],[8,10,5],[3,1,11],[3,6,11],[0,10,9],[8,6,11],[3,4,2],[0,4,5],[3,4,9],[7,10,5],[8,4,9],[8,10,9],[8,10,2],[0,6,9],[3,10,9],[0,10,11],[7,1,9],[8,1,11],[7,4,11],[7,6,9],[7,10,11],[3,10,2],[8,1,5],[0,4,11],[3,1,2],[3,1,9],[7,4,2],[8,1,2],[8,1,9],[3,6,9],[7,4,9],[8,6,2],[8,6,9],[3,6,2],[12,13,14],[15,16,14],[12,17,18],[15,19,18],[20,13,18],[21,16,18],[20,17,14],[21,19,14],[0,1,5],[8,10,11],[7,6,11],[7,6,5],[8,4,2],[7,4,5],[7,1,5],[7,1,11],[0,10,5],[0,1,11],[0,6,11],[0,6,5],[3,10,11],[8,4,11],[15,13,22],[12,16,22],[15,17,23],[12,19,23],[21,13,23],[20,16,23],[21,17,22],[20,19,22],[4,0,2],[1,3,2],[4,0,14],[1,3,18],[4,0,9],[1,3,9],[4,0,18],[1,3,14],[10,7,9],[6,8,9],[4,7,14],[6,3,18],[10,0,18],[1,8,14],[1,3,5],[4,0,5],[6,8,11],[10,7,11],[1,3,11],[4,0,11],[10,7,2],[6,8,2],[3,10,22],[7,1,23],[8,4,23],[0,6,22],[1,0,5],[4,3,5],[1,0,23],[4,3,22],[10,7,14],[6,8,18],[8,6,22],[7,10,23],[4,3,11],[1,0,11],[1,0,22],[4,3,23],[10,7,18],[6,8,14],[8,6,23],[7,10,22],[6,7,11],[10,8,11],[8,1,23],[0,10,22],[3,6,22],[7,4,23],[4,3,2],[1,0,2],[10,8,2],[6,7,2],[4,3,9],[1,0,9],[10,8,9],[6,7,9],[4,8,14],[6,0,18],[10,3,18],[1,7,14],[4,8,18],[6,0,14],[10,3,14],[1,7,18],[6,7,5],[10,8,5],[6,8,5],[10,7,5],[8,1,22],[0,10,23],[3,6,23],[7,4,22],[4,24,2],[25,3,2],[4,24,26],[25,3,27],[4,24,27],[25,3,26],[28,29,26],[30,31,26],[32,33,26],[34,35,27],[36,37,27],[38,39,27],[2,0,1],[1,2,0],[1,25,5],[24,0,5],[39,36,40],[35,38,40],[37,34,40],[33,30,41],[29,32,41],[31,28,41],[5,3,4],[4,5,3],[25,1,5],[0,24,5],[24,4,5],[3,25,5],[4,3,41],[25,1,40],[24,4,41],[3,25,40],[4,3,40],[25,1,41],[24,4,40],[3,25,41],[35,34,40],[37,36,40],[39,38,40],[29,28,41],[31,30,41],[33,32,41],[3,5,4],[5,4,3],[25,1,2],[0,24,2],[24,4,2],[3,25,2],[25,1,9],[0,24,9],[24,4,9],[3,25,9],[30,33,26],[32,29,26],[28,31,26],[36,39,27],[38,35,27],[34,37,27],[0,2,1],[2,1,0],[30,33,42],[32,29,42],[28,31,42],[36,39,43],[38,35,43],[34,37,43],[7,9,6],[9,6,7],[25,1,11],[0,24,11],[24,4,11],[3,25,11],[35,34,44],[37,36,44],[39,38,44],[29,28,45],[31,30,45],[33,32,45],[8,11,10],[11,10,8],[1,25,2],[24,0,2],[1,25,42],[24,0,43],[1,25,43],[24,0,42],[1,25,27],[24,0,26],[1,25,26],[24,0,27],[1,25,9],[24,0,9],[4,24,5],[25,3,5],[4,24,11],[25,3,11],[1,0,40],[4,3,44],[0,24,45],[1,0,41],[4,3,45],[0,24,44],[0,24,40],[0,24,41],[2,3,4],[5,3,1],[5,0,4],[4,2,3],[1,5,3],[4,5,0],[2,7,6],[2,8,10],[5,8,6],[5,7,10],[1,9,7],[4,9,8],[1,11,8],[4,11,7],[9,0,6],[9,3,10],[11,3,6],[11,0,10],[6,2,7],[10,2,8],[6,5,8],[10,5,7],[9,7,1],[9,8,4],[11,8,1],[11,7,4],[6,9,0],[10,9,3],[6,11,3],[10,11,0],[9,7,6],[9,8,10],[11,8,6],[11,7,10],[6,9,7],[10,9,8],[6,11,8],[10,11,7],[2,3,10],[5,8,1],[11,0,4],[10,2,3],[1,5,8],[4,11,0],[5,0,1],[2,0,4],[2,3,1],[1,5,0],[4,2,0],[1,2,3],[11,8,10],[11,7,6],[9,7,10],[9,8,6],[10,11,8],[6,11,7],[10,9,7],[6,9,8],[5,8,10],[5,7,6],[2,7,10],[2,8,6],[4,11,8],[1,11,7],[4,9,7],[1,9,8],[11,3,10],[11,0,6],[9,0,10],[9,3,6],[10,5,8],[6,5,7],[10,2,7],[6,2,8],[11,8,4],[11,7,1],[9,7,4],[9,8,1],[10,11,3],[6,11,0],[10,9,0],[6,9,3],[22,15,13],[22,12,16],[14,12,13],[14,15,16],[13,22,15],[16,22,12],[13,14,12],[16,14,15],[22,21,17],[22,20,19],[14,20,17],[14,21,19],[13,23,21],[16,23,20],[13,18,20],[16,18,21],[23,15,17],[23,12,19],[18,12,17],[18,15,19],[17,22,21],[19,22,20],[17,14,20],[19,14,21],[23,21,13],[23,20,16],[18,20,13],[18,21,16],[17,23,15],[19,23,12],[17,18,12],[19,18,15],[5,0,6],[2,7,4],[9,3,1],[6,5,0],[4,2,7],[1,9,3],[0,2,4],[3,2,1],[0,5,1],[2,1,3],[2,4,0],[5,1,0],[7,9,10],[8,9,6],[7,11,6],[9,6,8],[9,10,7],[11,6,7],[1,7,11],[4,8,11],[1,8,9],[4,7,9],[0,9,10],[3,9,6],[3,11,10],[0,11,6],[2,6,8],[2,10,7],[5,6,7],[5,10,8],[6,0,11],[10,3,11],[6,3,9],[10,0,9],[7,2,10],[8,2,6],[8,5,10],[7,5,6],[9,1,8],[9,4,7],[11,1,7],[11,4,8],[7,9,4],[8,9,1],[8,11,4],[7,11,1],[9,6,3],[9,10,0],[11,6,0],[11,10,3],[19,12,23],[13,15,22],[16,21,18],[17,20,14],[20,14,17],[21,18,16],[15,22,13],[12,23,19],[18,16,21],[14,17,20],[23,19,12],[22,13,15],[19,20,22],[13,21,23],[16,15,14],[17,12,18],[20,18,13],[21,14,19],[15,23,17],[12,22,16],[18,19,15],[14,13,12],[23,16,20],[22,17,21],[16,12,22],[17,15,23],[19,21,14],[13,20,18],[12,14,13],[15,18,19],[21,22,17],[20,23,16],[14,16,15],[18,17,12],[22,19,20],[23,13,21],[16,20,23],[17,21,22],[19,15,18],[13,12,14],[12,18,17],[15,14,16],[21,23,13],[20,22,19],[14,19,21],[18,13,20],[22,16,12],[23,17,15],[19,12,22],[17,21,23],[16,15,18],[13,20,14],[20,14,13],[15,18,16],[21,23,17],[12,22,19],[18,16,15],[14,13,20],[22,19,12],[23,17,21],[3,2,4],[3,5,1],[0,5,4],[2,4,3],[5,1,3],[5,4,0],[1,7,9],[4,8,9],[1,8,11],[4,7,11],[0,9,6],[3,9,10],[3,11,6],[0,11,10],[2,6,7],[2,10,8],[5,6,8],[5,10,7],[6,0,9],[10,3,9],[6,3,11],[10,0,11],[7,2,6],[8,2,10],[8,5,6],[7,5,10],[9,1,7],[9,4,8],[11,1,8],[11,4,7],[7,9,1],[8,9,4],[8,11,1],[7,11,4],[9,6,0],[9,10,3],[11,6,3],[11,10,0],[8,9,10],[8,11,6],[7,11,10],[9,10,8],[11,6,8],[11,10,7],[6,0,2],[10,3,2],[6,3,5],[10,0,5],[7,2,1],[8,2,4],[8,5,1],[7,5,4],[9,1,0],[9,4,3],[11,1,3],[11,4,0],[1,7,2],[4,8,2],[1,8,5],[4,7,5],[0,9,1],[3,9,4],[3,11,1],[0,11,4],[2,6,0],[2,10,3],[5,6,3],[5,10,0],[0,2,6],[3,2,10],[3,5,6],[0,5,10],[2,1,7],[2,4,8],[5,1,8],[5,4,7],[16,12,14],[13,21,18],[19,15,23],[17,20,22],[12,14,16],[21,18,13],[15,23,19],[20,22,17],[14,16,12],[18,13,21],[23,19,15],[22,17,20],[19,20,18],[17,15,14],[16,21,22],[13,12,23],[20,18,19],[15,14,17],[21,22,16],[12,23,13],[18,19,20],[14,17,15],[22,16,21],[23,13,12],[6,0,5],[10,3,5],[6,3,2],[10,0,2],[7,2,4],[8,2,1],[8,5,4],[7,5,1],[9,1,3],[9,4,0],[11,1,0],[11,4,3],[1,7,5],[4,8,5],[1,8,2],[4,7,2],[0,9,4],[3,9,1],[3,11,4],[0,11,1],[2,6,3],[2,10,0],[5,6,0],[5,10,3],[0,2,10],[3,2,6],[3,5,10],[0,5,6],[2,1,8],[2,4,7],[5,1,7],[5,4,8],[21,17,23],[20,16,22],[12,13,18],[15,19,14],[23,21,17],[22,20,16],[18,12,13],[14,15,19],[17,23,21],[16,22,20],[13,18,12],[19,14,15],[21,13,22],[20,19,23],[12,17,14],[15,16,18],[23,15,13],[22,12,19],[18,20,17],[14,21,16],[17,22,15],[16,23,12],[13,14,20],[19,18,21],[15,17,22],[12,16,23],[20,13,14],[21,19,18],[22,21,13],[23,20,19],[14,12,17],[18,15,16],[13,23,15],[19,22,12],[17,18,20],[16,14,21],[15,13,23],[12,19,22],[20,17,18],[21,16,14],[22,15,17],[23,12,16],[14,20,13],[18,21,19],[13,22,21],[19,23,20],[17,14,12],[16,18,15],[6,5,3],[4,9,3],[9,3,4],[5,7,4],[4,5,7],[5,3,6]],Hs=[[0],[0,1],[0,2],[0,3],[0,2,4,5],[0,6],[0,7],[0,6,4,8],[0,7,4,9],[0,6,2,1],[0,3,1,10],[0,6,2,1,4,8,5,11],[0,12,1,7],[0,1,13,14],[0,12,1,7,4,15,11,9],[0,16,2,17],[0,18,12,17],[0,16,5,19],[0,20,13,19],[0,18,12,17,4,21,15,19],[0,16,2,17,4,22,5,19],[0,16,2,17,23,24,13,25,26,20,27,28,4,22,5,19],[0,16,17,2,29,21,30,15],[0,20,13,19,29,31,32,33],[0,16,6,34],[0,18,7,34],[0,16,7,35],[0,16,36,37],[0,18,36,38],[0,16,14,39],[0,20,40,34],[0,16,8,41],[0,18,8,42],[0,16,9,42],[0,16,6,34,4,22,8,41],[0,18,7,34,4,21,9,41],[0,16,7,35,4,22,9,42],[0,16,6,34,23,24,14,39],[0,16,10,43,23,24,7,35],[0,16,36,37,23,24,9,42],[0,16,8,41,23,24,40,38],[0,16,6,34,23,24,14,39,26,20,40,38,4,22,8,41],[0,16,44,45,23,24,46,47,26,20,48,49,4,22,50,51],[0,16,6,34,29,21,9,42],[0,16,8,41,29,21,7,35],[0,16,36,37,29,21,14,39],[0,16,2,17,1,52,6,34],[0,16,2,17,53,54,9,42],[0,16,12,33,1,52,7,35],[0,16,2,17,11,55,8,41],[0,56,2,57,1,58,6,37],[0,56,15,25,1,58,9,39],[0,20,27,17,1,59,40,34],[0,56,12,28,1,58,7,38],[0,16,5,19,1,52,8,41],[0,22,13,28,1,55,14,38],[0,18,13,60,1,61,14,43],[0,16,15,30,1,52,9,42],[0,16,5,19,11,55,6,34],[0,21,12,19,1,54,7,41],[0,20,13,19,1,59,14,41],[0,20,3,30,1,59,10,42],[0,18,12,17,1,61,7,34,4,21,15,19,11,54,9,41],[0,24,13,17,1,62,14,34,4,20,27,19,11,59,40,41],[0,16,2,17,1,52,6,34,4,22,5,19,11,55,8,41],[0,16,12,33,1,52,7,35,4,22,15,30,11,55,9,42],[0,31,3,17,1,63,10,34,4,56,32,19,11,58,36,41],[0,22,2,19,64,59,14,38,4,16,5,17,65,62,40,39],[0,16,2,17,1,52,6,34,23,24,13,25,64,62,14,39,26,20,27,28,65,59,40,38,4,22,5,19,11,55,8,41],[0,16,2,17,66,67,44,45,23,24,13,25,68,69,46,47,26,20,27,28,70,71,48,49,4,22,5,19,72,73,50,51],[0,16,2,17,1,52,6,34,29,21,15,30,53,54,9,42],[0,16,5,19,1,52,8,41,29,21,12,33,53,54,7,35],[0,20,13,19,1,59,14,41,29,31,32,33,53,63,36,35],[0,31,3,17,1,63,10,34,29,20,27,30,53,59,40,42],[0,16,74,75],[0,18,76,77],[0,16,78,79],[0,18,80,81],[0,16,74,75,29,21,82,83],[0,21,84,85,29,16,86,87],[0,16,88,89],[0,16,88,89,29,21,90,91],[0,16,74,75,1,52,88,89],[0,16,78,79,1,52,92,93],[0,16,94,95,11,55,88,89],[0,16,82,83,53,54,88,89],[0,16,74,75,1,52,88,89,29,21,82,83,53,54,90,91],[0,21,84,85,96,97,88,91,29,16,86,87,98,99,90,89],[0,16,74,75,2,17,100,101],[0,16,94,95,5,19,100,101],[0,18,76,77,2,33,102,103],[0,18,104,105,106,107,100,108],[0,16,78,79,2,17,109,108],[0,16,82,83,15,30,100,101],[0,18,80,81,2,33,110,111],[0,18,112,113,114,115,100,108],[0,16,74,75,2,17,100,101,29,21,82,83,15,30,116,117],[0,21,84,85,118,119,116,101,29,16,86,87,120,121,100,117],[0,16,74,75,6,34,122,123],[0,16,74,75,8,41,124,125],[0,16,78,79,7,35,122,123],[0,16,82,83,9,42,122,123],[0,16,74,75,7,35,126,127],[0,16,74,75,9,42,128,129],[0,16,78,79,6,34,126,127],[0,16,78,79,8,41,128,129],[0,16,74,75,6,34,122,123,29,21,82,83,9,42,128,129],[0,16,74,75,7,35,126,127,29,21,82,83,8,41,124,125],[0,21,84,85,6,42,130,131,29,16,86,87,9,34,132,133],[0,21,84,85,7,41,134,135,29,16,86,87,8,35,136,137],[0,16,89,88,2,17,122,123],[0,16,89,88,12,33,126,127],[0,16,89,88,5,19,124,125],[0,16,89,88,15,30,128,129],[0,16,88,89,6,34,100,101],[0,16,89,88,7,35,109,108],[0,16,89,88,8,41,138,139],[0,16,89,88,9,42,116,117],[0,16,89,88,6,34,100,101,29,21,91,90,9,42,116,117],[0,16,89,88,7,35,109,108,29,21,91,90,8,41,138,139],[0,16,89,88,2,17,122,123,29,21,91,90,15,30,128,129],[0,16,89,88,118,121,132,131,29,21,91,90,120,119,130,133],[0,16,74,75,2,17,100,101,1,52,88,89,6,34,122,123],[0,16,74,75,12,33,109,108,1,52,88,89,7,35,126,127],[0,16,74,75,2,17,100,101,11,55,140,141,8,41,124,125],[0,16,74,75,2,17,100,101,53,54,90,91,9,42,128,129],[0,16,74,75,5,19,138,139,1,52,88,89,8,41,124,125],[0,16,74,75,15,30,116,117,1,52,88,89,9,42,128,129],[0,16,94,95,5,19,100,101,11,55,88,89,6,34,124,125],[0,16,94,95,15,30,109,108,11,55,88,89,7,35,128,129],[0,16,78,79,2,17,109,108,1,52,92,93,6,34,126,127],[0,16,78,79,12,33,100,101,1,52,92,93,7,35,122,123],[0,16,82,83,12,33,138,139,53,54,88,89,8,41,126,127],[0,16,82,83,2,17,116,117,53,54,88,89,9,42,122,123],[0,16,78,79,5,19,116,117,1,52,92,93,8,41,128,129],[0,16,82,83,15,30,100,101,1,52,90,91,9,42,122,123],[0,16,82,83,15,30,100,101,53,54,88,89,6,34,128,129],[0,16,82,83,5,19,109,108,53,54,88,89,7,35,124,125],[0,16,74,75,2,17,100,101,1,52,88,89,6,34,122,123,29,21,82,83,15,30,116,117,53,54,90,91,9,42,128,129],[0,16,74,75,12,33,109,108,1,52,88,89,7,35,126,127,29,21,82,83,5,19,138,139,53,54,90,91,8,41,124,125],[0,21,84,85,118,119,116,101,96,97,88,91,9,34,132,133,29,16,86,87,120,121,100,117,98,99,90,89,6,42,130,131],[0,21,84,85,142,143,138,108,96,97,88,91,8,35,136,137,29,16,86,87,144,145,109,139,98,99,90,89,7,41,134,135],[0,146,147],[0,148,149],[0,150,151],[0,146,147,152,153,154,155,156,157],[0,158,159],[0,146,147,1,160,161],[0,146,147,1,160,161,152,153,154,162,163,164,155,156,157,165,166,167],[0,158,159,1,168,169],[0,146,147,101,170,171],[0,146,147,100,172,173],[0,148,149,174,175,171],[0,148,149,100,176,177],[0,150,151,178,179,171],[0,150,151,100,180,181],[0,146,147,100,172,173,152,153,154,182,183,184,155,156,157,185,186,187],[0,158,159,101,188,189],[0,146,147,122,190,191],[0,146,147,123,192,193],[0,146,147,126,194,195],[0,146,147,127,196,197],[0,146,147,122,190,191,152,153,154,198,199,200,155,156,157,201,202,203],[0,158,159,123,204,205],[0,146,147,126,194,195,152,153,154,206,207,208,155,156,157,209,210,211],[0,158,159,129,212,213],[0,146,147,101,170,171,1,160,161,123,192,193],[0,146,147,108,214,215,1,160,161,127,196,197],[0,146,147,100,172,173,1,160,161,122,190,191],[0,146,147,109,216,217,1,160,161,126,194,195],[0,146,147,100,172,173,1,160,161,122,190,191,152,153,154,182,183,184,162,163,164,198,199,200,155,156,157,185,186,187,165,166,167,201,202,203],[0,158,159,101,188,189,1,168,169,123,204,205],[0,146,147,109,216,217,1,160,161,126,194,195,152,153,154,218,219,220,162,163,164,206,207,208,155,156,157,221,222,223,165,166,167,209,210,211],[0,158,159,117,224,225,1,168,169,129,212,213],[0,146,147,16,226,227],[0,148,149,18,228,229],[0,150,151,18,230,231],[0,150,151,16,232,233],[0,148,149,16,234,235],[0,146,147,18,236,237],[0,146,147,52,238,239],[0,146,147,16,226,227,1,160,161,52,238,239],[0,146,147,18,236,237,1,160,161,61,240,241],[0,146,147,16,226,227,100,172,173,101,170,171],[0,148,149,18,228,229,242,172,181,243,214,244],[0,150,151,18,230,231,245,172,177,246,214,247],[0,150,151,16,232,233,245,172,177,174,170,248],[0,148,149,16,234,235,242,172,181,178,170,249],[0,146,147,18,236,237,100,172,173,108,214,215],[0,146,147,16,226,227,122,190,191,123,192,193],[0,146,147,16,226,227,126,194,195,127,196,197],[0,146,147,18,236,237,126,194,195,123,192,193],[0,146,147,18,236,237,122,190,191,127,196,197],[0,146,147,52,238,239,122,190,191,101,170,171],[0,146,147,61,240,241,126,194,195,101,170,171],[0,146,147,52,238,239,100,172,173,123,192,193],[0,146,147,61,240,241,100,172,173,127,196,197],[0,146,147,16,226,227,100,172,173,101,170,171,1,160,161,52,239,238,122,190,191,123,192,193],[0,146,147,16,226,227,109,216,217,108,214,215,1,160,161,52,239,238,126,194,195,127,196,197],[0,146,147,18,236,237,109,216,217,101,170,171,1,160,161,61,241,240,126,194,195,123,192,193],[0,146,147,18,236,237,100,172,173,108,214,215,1,160,161,61,241,240,122,190,191,127,196,197],[0,16,2,17,158,250,251,252,159,253,254,255],[0,16,2,17,158,250,251,252,159,253,254,255,23,24,13,25,256,257,258,259,260,261,262,263,26,20,27,28,264,265,266,267,268,269,270,271,4,22,5,19,272,273,274,275,276,277,278,279],[0,16,2,17,158,250,251,252,159,253,254,255,29,21,15,30,280,281,282,283,284,285,286,287],[0,20,13,19,158,273,266,259,159,261,278,271],[0,20,13,19,158,273,266,259,159,261,278,271,29,31,32,33,280,288,289,290,284,291,292,293],[0,16,2,17,158,250,251,252,159,253,254,255,1,52,6,34,168,294,295,296,169,297,298,299],[0,16,2,17,158,250,251,252,159,253,254,255,53,54,9,42,300,301,302,303,304,305,306,307],[0,16,2,17,158,250,251,252,159,253,254,255,1,52,6,34,168,294,295,296,169,297,298,299,23,24,13,25,256,257,258,259,260,261,262,263,64,62,14,39,308,309,310,311,312,313,314,315,26,20,27,28,264,265,266,267,268,269,270,271,65,59,40,38,316,317,318,319,320,321,322,323,4,22,5,19,272,273,274,275,276,277,278,279,11,55,8,41,324,325,326,327,328,329,330,331],[0,16,2,17,158,250,251,252,159,253,254,255,66,67,44,45,332,333,334,335,336,337,338,339,23,24,13,25,256,257,258,259,260,261,262,263,68,69,46,47,340,341,342,343,344,345,346,347,26,20,27,28,264,265,266,267,268,269,270,271,70,71,48,49,348,349,350,351,352,353,354,355,4,22,5,19,272,273,274,275,276,277,278,279,72,73,50,51,356,357,358,359,360,361,362,363],[0,16,2,17,158,250,251,252,159,253,254,255,1,52,6,34,168,294,295,296,169,297,298,299,29,21,15,30,280,281,282,283,284,285,286,287,53,54,9,42,300,301,302,303,304,305,306,307],[0,20,13,19,158,273,266,259,159,261,278,271,1,59,14,41,168,325,318,311,169,313,330,323],[0,20,13,19,158,273,266,259,159,261,278,271,1,59,14,41,168,325,318,311,169,313,330,323,29,31,32,33,280,288,289,290,284,291,292,293,53,63,36,35,300,364,365,366,304,367,368,369],[0,16,2,17,158,250,251,252,159,253,254,255,100,101,75,74,370,371,188,372,373,374,375,189],[0,16,2,17,158,250,251,252,159,253,254,255,116,117,83,82,376,377,224,378,379,380,381,225],[0,16,2,17,158,250,251,252,159,253,254,255,100,101,75,74,370,371,188,372,373,374,375,189,23,24,13,25,256,257,258,259,260,261,262,263,382,383,384,385,386,387,388,389,390,391,392,393,26,20,27,28,264,265,266,267,268,269,270,271,394,395,396,397,398,399,400,401,402,403,404,405,4,22,5,19,272,273,274,275,276,277,278,279,138,139,95,94,406,407,408,409,410,411,412,413],[0,24,5,28,158,265,258,275,159,277,270,263,414,415,416,417,418,419,420,421,422,423,424,425,23,16,27,19,256,273,251,267,260,269,278,255,426,427,428,429,430,431,432,433,434,435,436,437,26,22,13,17,264,250,274,259,268,261,254,279,438,439,440,441,442,443,444,445,446,447,448,449,4,20,2,25,272,257,266,252,276,253,262,271,450,451,452,453,454,455,456,457,458,459,460,461],[0,16,2,17,158,250,251,252,159,253,254,255,100,101,75,74,370,371,188,372,373,374,375,189,29,21,15,30,280,281,282,283,284,285,286,287,116,117,83,82,376,377,224,378,379,380,381,225],[0,20,13,19,158,273,266,259,159,261,278,271,450,415,440,429,454,431,420,445,458,447,436,425],[0,20,13,19,158,273,266,259,159,261,278,271,462,463,464,465,466,467,468,469,470,471,472,473],[0,20,13,19,158,273,266,259,159,261,278,271,462,463,464,465,466,467,468,469,470,471,472,473,29,31,32,33,280,288,289,290,284,291,292,293,450,415,440,429,454,431,420,445,458,447,436,425],[0,16,2,17,158,250,251,252,159,253,254,255,123,122,88,89,204,474,475,476,205,477,478,479],[0,16,2,17,158,250,251,252,159,253,254,255,123,122,88,89,204,474,475,476,205,477,478,479,23,24,13,25,256,257,258,259,260,261,262,263,480,481,482,483,484,485,486,487,488,489,490,491,26,20,27,28,264,265,266,267,268,269,270,271,492,493,494,495,496,497,498,499,500,501,502,503,4,22,5,19,272,273,274,275,276,277,278,279,125,124,140,141,504,505,506,507,508,509,510,511],[0,16,2,17,158,250,251,252,159,253,254,255,123,122,88,89,204,474,475,476,205,477,478,479,29,21,15,30,280,281,282,283,284,285,286,287,129,128,90,91,212,512,513,514,213,515,516,517],[0,16,2,17,158,250,251,252,159,253,254,255,129,128,90,91,212,512,513,514,213,515,516,517],[0,16,2,17,158,250,251,252,159,253,254,255,129,128,90,91,212,512,513,514,213,515,516,517,23,24,13,25,256,257,258,259,260,261,262,263,518,519,520,521,522,523,524,525,526,527,528,529,26,20,27,28,264,265,266,267,268,269,270,271,530,531,532,533,534,535,536,537,538,539,540,541,4,22,5,19,272,273,274,275,276,277,278,279,127,126,92,93,542,543,544,545,546,547,548,549],[0,20,13,19,158,273,266,259,159,261,278,271,550,551,552,553,554,555,556,557,558,559,560,561,29,31,32,33,280,288,289,290,284,291,292,293,562,563,564,565,566,567,568,569,570,571,572,573],[0,16,2,17,158,250,251,252,159,253,254,255,100,101,75,74,370,371,188,372,373,374,375,189,1,52,6,34,168,294,295,296,169,297,298,299,122,123,89,88,475,476,204,474,479,478,477,205],[0,16,2,17,158,250,251,252,159,253,254,255,100,101,75,74,370,371,188,372,373,374,375,189,53,54,9,42,300,301,302,303,304,305,306,307,128,129,91,90,513,514,212,512,517,516,515,213],[0,16,2,17,158,250,251,252,159,253,254,255,116,117,83,82,376,377,224,378,379,380,381,225,1,52,6,34,168,294,295,296,169,297,298,299,128,129,91,90,513,514,212,512,517,516,515,213],[0,16,2,17,158,250,251,252,159,253,254,255,116,117,83,82,376,377,224,378,379,380,381,225,53,54,9,42,300,301,302,303,304,305,306,307,122,123,89,88,475,476,204,474,479,478,477,205],[0,16,2,17,158,250,251,252,159,253,254,255,100,101,75,74,370,371,188,372,373,374,375,189,1,52,6,34,168,294,295,296,169,297,298,299,122,123,89,88,475,476,204,474,479,478,477,205,23,24,13,25,256,257,258,259,260,261,262,263,382,383,384,385,386,387,388,389,390,391,392,393,64,62,14,39,308,309,310,311,312,313,314,315,481,480,483,482,486,487,484,485,491,490,489,488,26,20,27,28,264,265,266,267,268,269,270,271,394,395,396,397,398,399,400,401,402,403,404,405,65,59,40,38,316,317,318,319,320,321,322,323,493,492,495,494,498,499,496,497,503,502,501,500,4,22,5,19,272,273,274,275,276,277,278,279,138,139,95,94,406,407,408,409,410,411,412,413,11,55,8,41,324,325,326,327,328,329,330,331,124,125,141,140,506,507,504,505,511,510,509,508],[0,16,2,17,158,250,251,252,159,253,254,255,116,117,83,82,376,377,224,378,379,380,381,225,1,52,6,34,168,294,295,296,169,297,298,299,128,129,91,90,513,514,212,512,517,516,515,213,23,24,13,25,256,257,258,259,260,261,262,263,574,575,576,577,578,579,580,581,582,583,584,585,64,62,14,39,308,309,310,311,312,313,314,315,519,518,521,520,524,525,522,523,529,528,527,526,26,20,27,28,264,265,266,267,268,269,270,271,586,587,588,589,590,591,592,593,594,595,596,597,65,59,40,38,316,317,318,319,320,321,322,323,531,530,533,532,536,537,534,535,541,540,539,538,4,22,5,19,272,273,274,275,276,277,278,279,109,108,79,78,598,599,600,601,602,603,604,605,11,55,8,41,324,325,326,327,328,329,330,331,126,127,93,92,544,545,542,543,549,548,547,546],[0,24,5,28,158,265,258,275,159,277,270,263,414,415,416,417,418,419,420,421,422,423,424,425,66,69,50,49,332,349,342,359,336,361,354,347,493,123,483,140,498,507,204,485,503,490,509,205,23,16,27,19,256,273,251,267,260,269,278,255,426,427,428,429,430,431,432,433,434,435,436,437,68,67,48,51,340,357,334,351,344,353,362,339,124,480,89,494,506,499,484,474,511,478,501,488,26,22,13,17,264,250,274,259,268,261,254,279,438,439,440,441,442,443,444,445,446,447,448,449,70,73,46,45,348,333,358,343,352,345,338,363,122,492,141,482,475,487,496,505,479,510,489,500,4,20,2,25,272,257,266,252,276,253,262,271,450,451,452,453,454,455,456,457,458,459,460,461,72,71,44,47,356,341,350,335,360,337,346,355,481,125,495,88,486,476,504,497,491,502,477,508],[0,24,5,28,158,265,258,275,159,277,270,263,414,415,416,417,418,419,420,421,422,423,424,425,606,607,608,609,610,611,612,613,614,615,616,617,531,129,521,92,536,545,212,523,541,528,547,213,23,16,27,19,256,273,251,267,260,269,278,255,426,427,428,429,430,431,432,433,434,435,436,437,618,619,620,621,622,623,624,625,626,627,628,629,126,518,91,532,544,537,522,512,549,516,539,526,26,22,13,17,264,250,274,259,268,261,254,279,438,439,440,441,442,443,444,445,446,447,448,449,630,631,632,633,634,635,636,637,638,639,640,641,128,530,93,520,513,525,534,543,517,548,527,538,4,20,2,25,272,257,266,252,276,253,262,271,450,451,452,453,454,455,456,457,458,459,460,461,642,643,644,645,646,647,648,649,650,651,652,653,519,127,533,90,524,514,542,535,529,540,515,546],[0,16,2,17,158,250,251,252,159,253,254,255,100,101,75,74,370,371,188,372,373,374,375,189,1,52,6,34,168,294,295,296,169,297,298,299,122,123,89,88,475,476,204,474,479,478,477,205,29,21,15,30,280,281,282,283,284,285,286,287,116,117,83,82,376,377,224,378,379,380,381,225,53,54,9,42,300,301,302,303,304,305,306,307,128,129,91,90,513,514,212,512,517,516,515,213],[0,20,13,19,158,273,266,259,159,261,278,271,462,463,464,465,466,467,468,469,470,471,472,473,1,59,14,41,168,325,318,311,169,313,330,323,551,550,553,552,556,557,554,555,561,560,559,558,29,31,32,33,280,288,289,290,284,291,292,293,450,415,440,429,454,431,420,445,458,447,436,425,53,63,36,35,300,364,365,366,304,367,368,369,563,562,565,564,568,569,566,567,573,572,571,570],[0,16],[0,18],[0,16,26,20],[0,2,23,13],[0,3,4,32],[0,2,29,15],[0,3,29,27],[0,52],[0,63],[0,52,26,59],[0,63,26,54],[0,52,16,1],[0,18,1,61],[0,52,16,1,26,59,20,65],[0,31,1,63],[0,1,24,62],[0,15,1,9],[0,5,1,8],[0,31,1,63,26,21,65,54],[0,2,57,56],[0,60,3,16],[0,22,57,3],[0,2,28,20],[0,17,13,24],[0,20,19,13,4,24,17,27],[0,22,57,3,4,16,60,32],[0,22,57,3,23,20,30,12,26,24,33,15,4,16,60,32],[0,22,57,3,29,18,27,25],[0,22,3,57,1,55,10,37],[0,22,385,396,3,57,109,117],[0,22,57,3,159,279,654,655,158,274,656,657,29,18,25,27,284,658,262,269,280,659,257,267]],at={"P 1":0,"P -1":1,"P 1 2 1":2,"P 1 21 1":3,"C 1 2 1":4,"P 1 m 1":5,"P 1 c 1":6,"C 1 m 1":7,"C 1 c 1":8,"P 1 2/m 1":9,"P 1 21/m 1":10,"C 1 2/m 1":11,"P 1 2/c 1":12,"P 1 21/c 1":13,"C 1 2/c 1":14,"P 2 2 2":15,"P 2 2 21":16,"P 21 21 2":17,"P 21 21 21":18,"C 2 2 21":19,"C 2 2 2":20,"F 2 2 2":21,"I 2 2 2":22,"I 21 21 21":23,"P m m 2":24,"P m c 21":25,"P c c 2":26,"P m a 2":27,"P c a 21":28,"P n c 2":29,"P m n 21":30,"P b a 2":31,"P n a 21":32,"P n n 2":33,"C m m 2":34,"C m c 21":35,"C c c 2":36,"A m m 2":37,"A b m 2":38,"A m a 2":39,"A b a 2":40,"F m m 2":41,"F d d 2":42,"I m m 2":43,"I b a 2":44,"I m a 2":45,"P 2/m 2/m 2/m":46,"P m m m":46,"P 2/n 2/n 2/n":47,"P n n n":47,"P 2/c 2/c 2/m":48,"P c c m":48,"P 2/b 2/a 2/n":49,"P b a n":49,"P 21/m 2/m 2/a":50,"P m m a":50,"P 2/n 21/n 2/a":51,"P n n a":51,"P 2/m 2/n 21/a":52,"P m n a":52,"P 21/c 2/c 2/a":53,"P c c a":53,"P 21/b 21/a 2/m":54,"P b a m":54,"P 21/c 21/c 2/n":55,"P c c n":55,"P 2/b 21/c 21/m":56,"P b c m":56,"P 21/n 21/n 2/m":57,"P n n m":57,"P 21/m 21/m 2/n":58,"P m m n":58,"P 21/b 2/c 21/n":59,"P b c n":59,"P 21/b 21/c 21/a":60,"P b c a":60,"P 21/n 21/m 21/a":61,"P n m a":61,"C 2/m 2/c 21/m":62,"C m c m":62,"C 2/m 2/c 21/a":63,"C m c a":63,"C 2/m 2/m 2/m":64,"C m m m":64,"C 2/c 2/c 2/m":65,"C c c m":65,"C 2/m 2/m 2/a":66,"C m m a":66,"C 2/c 2/c 2/a":67,"C c c a":67,"F 2/m 2/m 2/m":68,"F m m m":68,"F 2/d 2/d 2/d":69,"F d d d":69,"I 2/m 2/m 2/m":70,"I m m m":70,"I 2/b 2/a 2/m":71,"I b a m":71,"I 21/b 21/c 21/a":72,"I b c a":72,"I 21/m 21/m 21/a":73,"I m m a":73,"P 4":74,"P 41":75,"P 42":76,"P 43":77,"I 4":78,"I 41":79,"P -4":80,"I -4":81,"P 4/m":82,"P 42/m":83,"P 4/n":84,"P 42/n":85,"I 4/m":86,"I 41/a":87,"P 4 2 2":88,"P 4 21 2":89,"P 41 2 2":90,"P 41 21 2":91,"P 42 2 2":92,"P 42 21 2":93,"P 43 2 2":94,"P 43 21 2":95,"I 4 2 2":96,"I 41 2 2":97,"P 4 m m":98,"P 4 b m":99,"P 42 c m":100,"P 42 n m":101,"P 4 c c":102,"P 4 n c":103,"P 42 m c":104,"P 42 b c":105,"I 4 m m":106,"I 4 c m":107,"I 41 m d":108,"I 41 c d":109,"P -4 2 m":110,"P -4 2 c":111,"P -4 21 m":112,"P -4 21 c":113,"P -4 m 2":114,"P -4 c 2":115,"P -4 b 2":116,"P -4 n 2":117,"I -4 m 2":118,"I -4 c 2":119,"I -4 2 m":120,"I -4 2 d":121,"P 4/m 2/m 2/m":122,"P4/m m m":122,"P 4/m 2/c 2/c":123,"P4/m c c":123,"P 4/n 2/b 2/m":124,"P4/n b m":124,"P 4/n 2/n 2/c":125,"P4/n n c":125,"P 4/m 21/b 2/m":126,"P4/m b m":126,"P 4/m 21/n 2/c":127,"P4/m n c":127,"P 4/n 21/m 2/m":128,"P4/n m m":128,"P 4/n 2/c 2/c":129,"P4/n c c":129,"P 42/m 2/m 2/c":130,"P42/m m c":130,"P 42/m 2/c 2/m":131,"P42/m c m":131,"P 42/n 2/b 2/c":132,"P42/n b c":132,"P 42/n 2/n 2/m":133,"P42/n n m":133,"P 42/m 21/b 2/c":134,"P42/m b c":134,"P 42/m 21/n 2/m":135,"P42/m n m":135,"P 42/n 21/m 2/c":136,"P42/n m c":136,"P 42/n 21/c 2/m":137,"P42/n c m":137,"I 4/m 2/m 2/m":138,"I4/m m m":138,"I 4/m 2/c 2/m":139,"I4/m c m":139,"I 41/a 2/m 2/d":140,"I41/a m d":140,"I 41/a 2/c 2/d":141,"I41/a c d":141,"P 3":142,"P 31":143,"P 32":144,"H 3":145,"R 3":146,"P -3":147,"H -3":148,"R -3":149,"P 3 1 2":150,"P 3 2 1":151,"P 31 1 2":152,"P 31 2 1":153,"P 32 1 2":154,"P 32 2 1":155,"H 3 2":156,"R 3 2":157,"P 3 m 1":158,"P 3 1 m":159,"P 3 c 1":160,"P 3 1 c":161,"H 3 m":162,"R 3 m":163,"H 3 c":164,"R 3 c":165,"P -3 1 2/m":166,"P -3 1 m":166,"P -3 1 2/c":167,"P -3 1 c":167,"P -3 2/m 1":168,"P -3 m 1":168,"P -3 2/c 1":169,"P -3 c 1":169,"H -3 2/m":170,"H -3 m":170,"R -3 2/m":171,"R -3 m":171,"H -3 2/c":172,"H -3 c":172,"R -3 2/c":173,"R -3 c":173,"P 6":174,"P 61":175,"P 65":176,"P 62":177,"P 64":178,"P 63":179,"P -6":180,"P 6/m":181,"P 63/m":182,"P 6 2 2":183,"P 61 2 2":184,"P 65 2 2":185,"P 62 2 2":186,"P 64 2 2":187,"P 63 2 2":188,"P 6 m m":189,"P 6 c c":190,"P 63 c m":191,"P 63 m c":192,"P -6 m 2":193,"P -6 c 2":194,"P -6 2 m":195,"P -6 2 c":196,"P 6/m 2/m 2/m":197,"P 6/m m m":197,"P 6/m 2/c 2/c":198,"P 6/m c c":198,"P 63/m 2/c 2/m":199,"P 63/m c m":199,"P 63/m 2/m 2/c":200,"P 63/m m c":200,"P 2 3":201,"F 2 3":202,"I 2 3":203,"P 21 3":204,"I 21 3":205,"P 2/m -3":206,"P m -3":206,"P 2/n -3":207,"P n -3":207,"F 2/m -3":208,"F m -3":208,"F 2/d -3":209,"F d -3":209,"I 2/m -3":210,"I m -3":210,"P 21/a -3":211,"P a -3":211,"I 21/a -3":212,"I a -3":212,"P 4 3 2":213,"P 42 3 2":214,"F 4 3 2":215,"F 41 3 2":216,"I 4 3 2":217,"P 43 3 2":218,"P 41 3 2":219,"I 41 3 2":220,"P -4 3 m":221,"F -4 3 m":222,"I -4 3 m":223,"P -4 3 n":224,"F -4 3 c":225,"I -4 3 d":226,"P 4/m -3 2/m":227,"P m -3 m":227,"P 4/n -3 2/n":228,"P n -3 n":228,"P 42/m -3 2/n":229,"P m -3 n":229,"P 42/n -3 2/m":230,"P n -3 m":230,"F 4/m -3 2/m":231,"F m -3 m":231,"F 4/m -3 2/c":232,"F m -3 c":232,"F 41/d -3 2/m":233,"F d -3 m":233,"F 41/d -3 2/c":234,"F d -3 c":234,"I 4/m -3 2/m":235,"I m -3 m":235,"I 41/a -3 2/d":236,"I a -3 d":236,"P 1 1 2":237,"P 1 1 21":238,"B 1 1 2":239,"B 2":239,"A 1 2 1":240,"C 1 21 1":241,"I 1 2 1":242,"I 2":242,"I 1 21 1":243,"P 1 1 m":244,"P 1 1 b":245,"B 1 1 m":246,"B 1 1 b":247,"P 1 1 2/m":248,"P 1 1 21/m":249,"B 1 1 2/m":250,"P 1 1 2/b":251,"P 1 1 21/b":252,"P 1 21/n 1":253,"P 1 21/a 1":254,"B 1 1 2/b":255,"P 21 2 2":256,"P 2 21 2":257,"P 21 21 2 (a)":258,"P 21 2 21":259,"P 2 21 21":260,"C 2 2 21a)":261,"C 2 2 2a":262,"F 2 2 2a":263,"I 2 2 2a":264,"P 21/m 21/m 2/n a":265,"P 42 21 2a":266,"I 2 3a":267};function Xs(e){switch(e){case 1146:return 146;case 1148:return 149;case 1155:return 157;case 1160:return 163;case 1161:return 165;case 1166:return 171;case 1167:return 173;case 1003:return 237;case 1004:return 238;case 1005:return 239;case 2005:return 240;case 3005:return 241;case 4005:return 242;case 5005:return 243;case 1006:return 244;case 1007:return 245;case 1008:return 246;case 1009:return 247;case 1010:return 248;case 1011:return 249;case 1012:return 250;case 1013:return 251;case 1014:return 252;case 2014:return 253;case 3014:return 254;case 1015:return 255;case 1017:return 256;case 2017:return 257;case 1018:return 258;case 2018:return 259;case 3018:return 260;case 1020:return 261;case 1021:return 262;case 1022:return 263;case 1023:return 264;case 1059:return 265;case 1094:return 266;case 1197:return 267}let n=0;return e>146&&++n,e>148&&++n,e>155&&++n,e>160&&++n,e>161&&++n,e>166&&++n,e>167&&++n,e-1+n}function Ys(e){if(e<146)return e+1;if(e===146)return 1146;if(e<149)return e+1-1;if(e===149)return 1148;if(e<157)return e+1-2;if(e===157)return 1155;if(e<163)return e+1-3;if(e===163)return 1160;if(e<165)return e+1-4;if(e===165)return 1161;if(e<171)return e+1-5;if(e===171)return 1166;if(e<173)return e+1-6;if(e===173)return 1167;if(e<237)return e+1-7;if(e===237)return 1003;if(e===238)return 1004;if(e===239)return 1005;if(e===240)return 2005;if(e===241)return 3005;if(e===242)return 4005;if(e===243)return 5005;if(e===244)return 1006;if(e===245)return 1007;if(e===246)return 1008;if(e===247)return 1009;if(e===248)return 1010;if(e===249)return 1011;if(e===250)return 1012;if(e===251)return 1013;if(e===252)return 1014;if(e===253)return 2014;if(e===254)return 3014;if(e===255)return 1015;if(e===256)return 1017;if(e===257)return 2017;if(e===258)return 1018;if(e===259)return 2018;if(e===260)return 3018;if(e===261)return 1020;if(e===262)return 1021;if(e===263)return 1022;if(e===264)return 1023;if(e===265)return 1059;if(e===266)return 1094;if(e===267)return 1197;throw new Error(`unknown spacegroup index '${e}'`)}const P0=function(){const e=Object.create(null);for(const n of Object.keys(at))e[at[n]]=n;return e}(),Js=function(){const e=Object.create(null);for(const n of Object.keys(at)){const t=at[n];e[t]=Ys(t)}return e}();function Ws(e){const n=typeof e=="number"?Xs(e):at[e];return typeof n>"u"||typeof P0[n]>"u"?-1:n}var _t;(function(e){e.Zero=t("P 1",y.create(1,1,1),y.create(Math.PI/2,Math.PI/2,Math.PI/2));function n(r){return r?r.index===0&&r.size[0]===1&&r.size[1]===1&&r.size[1]===1:!0}e.isZero=n;function t(r,i,c){const a=Ws(r);if(a<0)return console.warn(`Unknown spacegroup '${r}', returning a 'P 1' with cellsize [1, 1, 1]`),e.Zero;const l=i[0]*i[1]*i[2],d=c[0],w=c[1],g=c[2],A=i[0],m=i[1],F=i[2],E=Math.cos(w),p=(Math.cos(d)-Math.cos(w)*Math.cos(g))/Math.sin(g),P=Math.sqrt(1-E*E-p*p),j=[A,0,0],O=[Math.cos(g)*m,Math.sin(g)*m,0],Z=[E*F,p*F,P*F],G=be.ofRows([[j[0],O[0],Z[0],0],[0,O[1],Z[1],0],[0,0,Z[2],0],[0,0,0,1]]),q=be.invert(be.zero(),G);return{index:a,size:i,volume:l,anglesInRadians:c,toFractional:q,fromFractional:G}}e.create=t})(_t||(_t={}));var Fr;(function(e){e.ZeroP1=n(_t.Zero);function n(P){const j=Hs[P.index].map(G=>A(Ds[G])),O=P0[P.index],Z=Js[P.index];return{name:O,num:Z,cell:P,operators:j}}e.create=n;const t=y(),r=be();function i(P,j,O,Z,G,q){return y.set(t,O,Z,G),be.fromTranslation(r,t),be.mul(q,be.mul(q,be.mul(q,P.cell.fromFractional,r),P.operators[j]),P.cell.toFractional)}e.setOperatorMatrix=i;function c(P,j,O,Z,G){const q=i(P,j,O,Z,G,be.zero());return Zn.create(Zn.getSymmetryOperatorName(j,O,Z,G),q,{hkl:y.create(O,Z,G),spgrOp:j})}e.getSymmetryOperator=c;const a=y(),l=y(),d=y(),w=y();function g(P,j,O,Z,G,q){const C=be.zero();y.set(t,O,Z,G),y.floor(a,q),be.copy(C,P.operators[j]),y.floor(l,y.transformMat4(l,q,C)),be.getTranslation(w,C),y.sub(w,w,l),y.add(w,w,a),y.add(w,w,t),be.setTranslation(C,w),be.mul(C,P.cell.fromFractional,C),be.mul(C,C,P.cell.toFractional),y.sub(d,l,a);const J=O-d[0],D=Z-d[1],W=G-d[2];return Zn.create(Zn.getSymmetryOperatorName(j,J,D,W),C,{hkl:y.create(J,D,W),spgrOp:j})}e.getSymmetryOperatorRef=g;function A(P){const j=$t[P[0]],O=$t[P[1]],Z=$t[P[2]];return be.ofRows([j,O,Z,[0,0,0,1]])}function m(P){return[p(F(P[0],P[4],P[8]),E(P[12])),p(F(P[1],P[5],P[9]),E(P[13])),p(F(P[2],P[6],P[10]),E(P[14]))].join(",")}e.getOperatorXyz=m;function F(P,j,O){const Z=[];if(P>0?Z.push("+X"):P<0&&Z.push("-X"),j>0?Z.push("+Y"):j<0&&Z.push("-Y"),O>0?Z.push("+Z"):O<0&&Z.push("-Z"),Z.length===1)return Z[0].charAt(0)==="+"?Z[0].substr(1):Z[0];if(Z.length===2){const G=Z[0].charAt(0),q=Z[1].charAt(0);if(G==="+")return`${Z[0].substr(1)}${Z[1]}`;if(q==="+")return`${Z[1].substr(1)}${Z[0]}`}throw new Error(`unknown rotation '${Z}', ${P} ${j} ${O}`)}function E(P){switch(P){case 1/2:return"1/2";case 1/4:return"1/4";case 3/4:return"3/4";case 1/3:return"1/3";case 2/3:return"2/3";case 1/6:return"1/6";case 5/6:return"5/6"}return""}function p(P,j){return j===""?P:P.length>2?`${P}+${j}`:P.charAt(0)==="-"?`${j}${P}`:`${j}+${P}`}})(Fr||(Fr={}));const Ks=y.add,Vs=y.squaredDistance,Qs=y.distance;class Qt{reset(){y.set(this.center,0,0,0),this.radiusSq=0,this.count=0}includeStep(n){Ks(this.center,this.center,n),this.count++}finishedIncludeStep(){this.count!==0&&y.scale(this.center,this.center,1/this.count)}radiusStep(n){const t=Vs(n,this.center);t>this.radiusSq&&(this.radiusSq=t)}radiusSphereStep(n,t){const r=Qs(n,this.center)+t,i=r*r;i>this.radiusSq&&(this.radiusSq=i)}getSphere(n){return n||(n=Ve()),y.copy(n.center,this.center),n.radius=Math.sqrt(this.radiusSq),n}getCount(){return this.count}constructor(){this.count=0,this.center=y(),this.radiusSq=0}}(function(e){const n=new e,t=y(),r=y();function i({x:l,y:d,z:w},g){n.reset();const A=l.length;for(let m=0;m<A;m++)y.set(t,l[m],d[m],w[m]),n.includeStep(t);n.finishedIncludeStep();for(let m=0;m<A;m++)y.set(t,l[m],d[m],w[m]),n.radiusStep(t);return y.copy(g.center,n.center),g.radius=Math.sqrt(n.radiusSq),g}e.fromArrays=i;function c(l,d,w){n.reset();for(let g=0;g<l;g++)d(g,t),n.includeStep(t);n.finishedIncludeStep();for(let g=0;g<l;g++)d(g,t),n.radiusStep(t);return y.copy(w.center,n.center),w.radius=Math.sqrt(n.radiusSq),w}e.fromProvider=c;function a(l,d,w){n.reset();for(let g=0;g<l;g++)d(g,t,r),n.includeStep(t),n.includeStep(r);n.finishedIncludeStep();for(let g=0;g<l;g++)d(g,t,r),n.radiusStep(t),n.radiusStep(r);return y.copy(w.center,n.center),w.radius=Math.sqrt(n.radiusSq),w}e.fromPairProvider=a})(Qt||(Qt={}));function ec(e,n,t){let r=1,i;for(i=0;i<n;i++){const c=r*e;if(Math.abs(Math.round(c)-c)<=t)return i;r*=10}return-1}function y2(e,n){return Math.abs(e)<n?0:Math.floor(Math.log10(Math.abs(e)))+1}function w2(e,n,t){let r=1,i=0;for(let c=0,a=e.length;c<a;c++){if(r>=0){const d=ec(e[c],n,t);d<0?r=-1:d>r&&(r=d)}const l=Math.abs(e[c]);if(l>t){const d=Math.floor(Math.log10(Math.abs(l)))+1;d>i&&(i=d)}}return{mantissaDigits:r,integerDigits:i}}function M2(e){e=e.trim();const n=parseInt(e,10);return Number.isNaN(n)?!1:n.toString()===e}function _2(e){if(!isFinite(e))return 0;let n=1,t=0;for(;Math.round(e*n)/n!==e;)n*=10,++t;return t}function $r(e,n){return parseFloat(e.toPrecision(n))}function I2(e,n){return parseFloat(e.toFixed(n))}const Or=y.dot,Lr=y.copy,nc=y.scaleAndSub,tc=y.scaleAndAdd;class rc{computeExtrema(n,t){const r=Or(this.dir[n],t);r<this.minDist[n]&&(this.minDist[n]=r,Lr(this.extrema[n*2],t)),r>this.maxDist[n]&&(this.maxDist[n]=r,Lr(this.extrema[n*2+1],t))}computeSphereExtrema(n,t,r){const i=this.dir[n],c=Or(i,t);c-r<this.minDist[n]&&(this.minDist[n]=c-r,nc(this.extrema[n*2],t,i,r)),c+r>this.maxDist[n]&&(this.maxDist[n]=c+r,tc(this.extrema[n*2+1],t,i,r))}includeSphere(n){if(Ve.hasExtrema(n)&&n.extrema.length>1)for(const t of n.extrema)this.includePosition(t);else this.includePositionRadius(n.center,n.radius)}includePosition(n){for(let t=0;t<this.dirLength;++t)this.computeExtrema(t,n)}includePositionRadius(n,t){for(let r=0;r<this.dirLength;++r)this.computeSphereExtrema(r,n,t)}finishedIncludeStep(){for(let n=0;n<this.extrema.length;n++)this.centroidHelper.includeStep(this.extrema[n]);this.centroidHelper.finishedIncludeStep()}radiusSphere(n){if(Ve.hasExtrema(n)&&n.extrema.length>1)for(const t of n.extrema)this.radiusPosition(t);else this.radiusPositionRadius(n.center,n.radius)}radiusPosition(n){this.centroidHelper.radiusStep(n)}radiusPositionRadius(n,t){this.centroidHelper.radiusSphereStep(n,t)}getSphere(n){return Ve.setExtrema(this.centroidHelper.getSphere(n),this.extrema.slice())}getBox(n){return He.fromVec3Array(n||He(),this.extrema)}reset(){for(let n=0;n<this.dirLength;++n)this.minDist[n]=1/0,this.maxDist[n]=-1/0,this.extrema[n*2]=y(),this.extrema[n*2+1]=y();this.centroidHelper.reset()}constructor(n){this.minDist=[],this.maxDist=[],this.extrema=[],this.centroidHelper=new Qt,this.dir=ic(n),this.dirLength=this.dir.length,this.reset()}}function ic(e){let n;switch(e){case"6":n=[...ht];break;case"14":n=[...ht,...Ot];break;case"26":n=[...ht,...Ot,...Ur];break;case"98":n=[...ht,...Ot,...Ur,...sc,...cc,...oc];break}return n.map(t=>{const r=y.create(t[0],t[1],t[2]);return y.normalize(r,r)})}const ht=[[1,0,0],[0,1,0],[0,0,1]],Ot=[[1,1,1],[-1,1,1],[-1,-1,1],[1,-1,1]],Ur=[[1,1,0],[1,-1,0],[1,0,1],[1,0,-1],[0,1,1],[0,1,-1]],sc=[[0,1,2],[0,2,1],[1,0,2],[2,0,1],[1,2,0],[2,1,0],[0,1,-2],[0,2,-1],[1,0,-2],[2,0,-1],[1,-2,0],[2,-1,0]],cc=[[1,1,2],[2,1,1],[1,2,1],[1,-1,2],[1,1,-2],[1,-1,-2],[2,-1,1],[2,1,-1],[2,-1,-1],[1,-2,1],[1,2,-1],[1,-2,-1]],oc=[[2,2,1],[1,2,2],[2,1,2],[2,-2,1],[2,2,-1],[2,-2,-1],[1,-2,2],[1,2,-2],[1,-2,-2],[2,-1,2],[2,1,-2],[2,-1,-2]];function ac(e,n,t){if(t)return Gr(e,n,t.min,t.max);{const[r,i]=Ei(e);return Gr(e,n,r,i)}}function Gr(e,n,t,r){let i=(r-t)/n;i===0&&(i=1);const c=new Int32Array(n);for(let a=0,l=e.length;a<l;a++){let d=Math.floor((e[a]-t)/i);d>=n?d=n-1:d<0&&(d=0),c[d]++}return{min:t,max:r,binWidth:i,counts:c}}var an;(function(e){e.One={transform:{kind:"matrix",matrix:be.identity()},cells:sn.create(sn.Space([1,1,1],[0,1,2]),sn.Data1([0])),stats:{min:0,max:0,mean:0,sigma:0}};const n=be(),t=be();function r(w){if(w.transform.kind==="matrix")return be.copy(be(),w.transform.matrix);if(w.transform.kind==="spacegroup"){const{cells:{space:g}}=w,A=be.fromScaling(n,y.div(y(),He.size(y(),w.transform.fractionalBox),y.ofArray(g.dimensions))),m=be.fromTranslation(t,w.transform.fractionalBox.min);return be.mul3(be(),w.transform.cell.fromFractional,m,A)}return be.identity()}e.getGridToCartesianTransform=r;function i(w,g){return w===g}e.areEquivalent=i;function c(w){return w.cells.data.length===0}e.isEmpty=c;function a(w,g){g||(g=Ve());const A=w.cells.space.dimensions,m=e.getGridToCartesianTransform(w);return Ve.fromDimensionsAndTransform(g,A,m)}e.getBoundingSphere=a;function l(w,g){let A=w._historams;return A||(A=w._historams={}),A[g]||(A[g]=ac(w.cells.data,g,{min:w.stats.min,max:w.stats.max})),A[g]}e.getHistogram=l;function d(w,g){const A=e.getGridToCartesianTransform(w);be.invert(A,A);const m=y(),{stats:F}=w,{dimensions:E,get:p}=w.cells.space,P=w.cells.data,[j,O,Z]=E;return function(q){y.copy(m,q),y.transformMat4(m,m,A);const C=Math.trunc(m[0]),J=Math.trunc(m[1]),D=Math.trunc(m[2]);if(C<0||C>=j||J<0||J>=O||D<0||D>=Z)return Number.NaN;const W=m[0]-C,le=m[1]-J,$=m[2]-D,f=Math.min(C+1,j-1),x=Math.min(J+1,O-1),o=Math.min(D+1,Z-1);let u=p(P,C,J,D),_=p(P,f,J,D),N=p(P,C,x,D),L=p(P,f,x,D);const Y=xn(xn(u,_,W),xn(N,L,W),le);u=p(P,C,J,o),_=p(P,f,J,o),N=p(P,C,x,o),L=p(P,f,x,o);const B=xn(xn(u,_,W),xn(N,L,W),le),V=xn(Y,B,$);return g==="relative"?(V-F.mean)/F.sigma:V}}e.makeGetTrilinearlyInterpolated=d})(an||(an={}));function v2(e,n){return en.create("Create Volume",async()=>{const{header:t,values:r}=e,i=sn.Space(t.dim,[0,1,2],Float64Array);let c;if(t.dataSetIds.length===0)c=r;else{const[w,g,A]=t.dim,m=((n==null?void 0:n.dataIndex)||0)+1;let F=0,E=0;c=new Float64Array(w*g*A);for(let p=0;p<w;p++)for(let P=0;P<g;P++)for(let j=0;j<A;j++)c[F++]=r[E],E+=m}const a=sn.create(i,sn.Data1(c)),l=be.fromTranslation(be(),t.origin),d=be.fromBasis(be(),t.basisX,t.basisY,t.basisZ);return be.mul(l,l,d),{label:n==null?void 0:n.label,entryId:n==null?void 0:n.entryId,grid:{transform:{kind:"matrix",matrix:l},cells:a,stats:{min:Ni(c),max:ki(c),mean:Ri(c),sigma:Bi(c)}},instances:[{transform:be.identity()}],sourceData:It.create(e),customProperties:new sr,_propertyData:Object.create(null)}})}var It;(function(e){function n(r){return(r==null?void 0:r.kind)==="cube"}e.is=n;function t(r){return{kind:"cube",name:r.name,data:r}}e.create=t})(It||(It={}));function A2(e,n){return en.create("Create Volume",async t=>{const{volume_data_3d_info:r,volume_data_3d:i}=e,c=_t.create(r.spacegroup_number.value(0)||"P 1",y.ofArray(r.spacegroup_cell_size.value(0)),y.scale(y.zero(),y.ofArray(r.spacegroup_cell_angles.value(0)),Math.PI/180)),a=r.axis_order.value(0),l=sn.convertToCanonicalAxisIndicesFastToSlow(a),d=l(r.sample_count.value(0)),w=sn.Space(d,sn.invertAxisOrder(a),Float32Array),g=sn.create(w,sn.Data1(i.values.toArray({array:Float32Array}))),A=y.ofArray(l(r.origin.value(0))),m=y.ofArray(l(r.dimensions.value(0)));return{label:n==null?void 0:n.label,entryId:n==null?void 0:n.entryId,periodicity:y.isInteger(m)?"xyz":"none",grid:{transform:{kind:"spacegroup",cell:c,fractionalBox:He.create(A,y.add(y.zero(),A,m))},cells:g,stats:{min:r.min_sampled.value(0),max:r.max_sampled.value(0),mean:r.mean_sampled.value(0),sigma:r.sigma_sampled.value(0)}},instances:[{transform:be.identity()}],sourceData:vt.create(e),customProperties:new sr,_propertyData:Object.create(null)}})}var vt;(function(e){function n(r){return(r==null?void 0:r.kind)==="dscif"}e.is=n;function t(r){return{kind:"dscif",name:r._name,data:r}}e.create=t})(vt||(vt={}));var Kn;(function(e){function n(p){var P,j,O,Z;return((Z=(O=(j=(P=p==null?void 0:p.grid)===null||P===void 0?void 0:P.cells)===null||j===void 0?void 0:j.space)===null||O===void 0?void 0:O.dimensions)===null||Z===void 0?void 0:Z.length)&&(p==null?void 0:p.sourceData)&&(p==null?void 0:p.customProperties)&&(p==null?void 0:p._propertyData)}e.is=n;let t;(function(p){function P(D,W,le){return Je(q(D,le).absoluteValue,q(W,le).absoluteValue,le.sigma/100)}p.areSame=P;function j(D){return{kind:"absolute",absoluteValue:D}}p.absolute=j;function O(D){return{kind:"relative",relativeValue:D}}p.relative=O;function Z(D,W){return W*D.sigma+D.mean}p.calcAbsolute=Z;function G(D,W){return D.sigma===0?0:(W-D.mean)/D.sigma}p.calcRelative=G;function q(D,W){return D.kind==="absolute"?D:{kind:"absolute",absoluteValue:p.calcAbsolute(W,D.relativeValue)}}p.toAbsolute=q;function C(D,W){return D.kind==="relative"?D:{kind:"relative",relativeValue:p.calcRelative(W,D.absoluteValue)}}p.toRelative=C;function J(D){return D.kind==="relative"?`${D.relativeValue.toFixed(2)} `:`${D.absoluteValue.toPrecision(4)}`}p.toString=J})(t=e.IsoValue||(e.IsoValue={}));function r(p,P,j){if(j==="relative")return t.relative(P);const O=t.absolute(P);if(vt.is(p.sourceData)){const Z={min:p.sourceData.data.volume_data_3d_info.min_source.value(0),max:p.sourceData.data.volume_data_3d_info.max_source.value(0),mean:p.sourceData.data.volume_data_3d_info.mean_source.value(0),sigma:p.sourceData.data.volume_data_3d_info.sigma_source.value(0)};return e.IsoValue.toRelative(O,Z)}return O}e.adjustedIsoValue=r;const i={min:-1,max:1,mean:0,sigma:.1};function c(p,P){const j=P||i,{min:O,max:Z,mean:G,sigma:q}=j,C=(O-G)/q,J=(Z-G)/q;let D=p;return p.kind==="absolute"?p.absoluteValue<O?D=e.IsoValue.absolute(O):p.absoluteValue>Z&&(D=e.IsoValue.absolute(Z)):p.relativeValue<C?D=e.IsoValue.relative(C):p.relativeValue>J&&(D=e.IsoValue.relative(J)),on.Conditioned(D,{absolute:on.Converted(W=>e.IsoValue.toAbsolute(W,an.One.stats).absoluteValue,W=>e.IsoValue.absolute(W),on.Numeric(G,{min:O,max:Z,step:$r(q/100,2)},{immediateUpdate:!0})),relative:on.Converted(W=>e.IsoValue.toRelative(W,an.One.stats).relativeValue,W=>e.IsoValue.relative(W),on.Numeric(Math.min(1,J),{min:C,max:J,step:$r(Math.round((Z-O)/q)/100,2)},{immediateUpdate:!0}))},W=>W.kind==="absolute"?"absolute":"relative",(W,le)=>le==="absolute"?e.IsoValue.toAbsolute(W,j):e.IsoValue.toRelative(W,j),{isEssential:!0})}e.createIsoValueParam=c,e.IsoValueParam=c(e.IsoValue.relative(2)),e.One={label:"",grid:an.One,instances:[],sourceData:{kind:"",name:"",data:{}},customProperties:new sr,_propertyData:Object.create(null)};function a(p,P){return an.areEquivalent(p.grid,P.grid)&&l(p,P)}e.areEquivalent=a;function l(p,P){if(p.instances.length!==P.instances.length)return!1;for(let j=0,O=p.instances.length;j<O;++j)if(!be.areEqual(p.instances[j].transform,P.instances[j].transform,De))return!1;return!0}e.areInstanceTransformsEqual=l;function d(p){return an.isEmpty(p.grid)||p.instances.length===0}e.isEmpty=d;function w(p){return It.is(p.sourceData)?p.sourceData.data.header.orbitals:!1}e.isOrbitals=w;function g(p,P){return{kind:"volume-loci",volume:p,instances:P}}e.Loci=g;function A(p){return!!p&&p.kind==="volume-loci"}e.isLoci=A;function m(p,P){return p.volume===P.volume&&Ee.areEqual(p.instances,P.instances)}e.areLociEqual=m;function F(p){return d(p.volume)||Ee.isEmpty(p.instances)}e.isLociEmpty=F;function E(p,P){return an.getBoundingSphere(p.grid,P)}e.getBoundingSphere=E,function(p){function P(C,J,D){return{kind:"isosurface-loci",volume:C,isoValue:J,instances:D}}p.Loci=P;function j(C){return!!C&&C.kind==="isosurface-loci"}p.isLoci=j;function O(C,J){return C.volume===J.volume&&e.IsoValue.areSame(C.isoValue,J.isoValue,C.volume.grid.stats)&&Ee.areEqual(C.instances,J.instances)}p.areLociEqual=O;function Z(C){return d(C.volume)||Ee.isEmpty(C.instances)}p.isLociEmpty=Z;const G=He();function q(C,J,D){const W=e.IsoValue.toAbsolute(J,C.grid.stats).absoluteValue,le=W<0,$=[0,0,0],f=C.grid.cells.space.getCoords,x=C.grid.cells.data,[o,u,_]=C.grid.cells.space.dimensions;let N=o-1,L=u-1,Y=_-1,B=0,V=0,fe=0;for(let Ie=0,Ae=x.length;Ie<Ae;++Ie)(le&&x[Ie]<=W||!le&&x[Ie]>=W)&&(f(Ie,$),$[0]<N&&(N=$[0]),$[1]<L&&(L=$[1]),$[2]<Y&&(Y=$[2]),$[0]>B&&(B=$[0]),$[1]>V&&(V=$[1]),$[2]>fe&&(fe=$[2]));y.set(G.min,N-1,L-1,Y-1),y.set(G.max,B+1,V+1,fe+1);const we=an.getGridToCartesianTransform(C.grid);return He.transform(G,G,we),Ve.fromBox3D(D||Ve(),G)}p.getBoundingSphere=q}(e.Isosurface||(e.Isosurface={})),function(p){function P($,f){return{kind:"cell-loci",volume:$,elements:f}}p.Loci=P;function j($){return!!$&&$.kind==="cell-loci"}p.isLoci=j;function O($,f){if($.volume!==f.volume||$.elements.length!==f.elements.length)return!1;for(let x=0,o=$.elements.length;x<o;++x){const u=$.elements[x],_=f.elements[x];if(!Ee.areEqual(u.instances,_.instances)||!Ee.areEqual(u.indices,_.indices))return!1}return!0}p.areLociEqual=O;function Z($){for(const{indices:f,instances:x}of $.elements)if(!Ee.isEmpty(x)||!Ee.isEmpty(f))return!1;return!0}p.isLociEmpty=Z;function G($){let f=0;for(const{indices:x,instances:o}of $.elements)f+=Ee.size(x)*Ee.size(o);return f}p.getLociSize=G;function q($,f,x){return{kind:"cell-location",volume:$,cell:f,instance:x}}p.Location=q;function C($){return!!$&&$.kind==="cell-location"}p.isLocation=C;const J=new rc("98"),D=y(),W=y();function le($,f,x){J.reset();const o=an.getGridToCartesianTransform($.grid),{getCoords:u}=$.grid.cells.space;for(const{indices:N,instances:L}of f)for(let Y=0,B=Ee.size(N);Y<B;Y++){const V=Ee.getAt(N,Y);u(V,D),y.transformMat4(D,D,o);for(let fe=0,we=Ee.size(L);fe<we;fe++){const Ie=$.instances[Ee.getAt(L,fe)];y.transformMat4(W,D,Ie.transform),J.includePosition(W)}}J.finishedIncludeStep();for(const{indices:N,instances:L}of f)for(let Y=0,B=Ee.size(N);Y<B;Y++){const V=Ee.getAt(N,Y);u(V,D),y.transformMat4(D,D,o);for(let fe=0,we=Ee.size(L);fe<we;fe++){const Ie=$.instances[Ee.getAt(L,fe)];y.transformMat4(W,D,Ie.transform),J.radiusPosition(W)}}const _=J.getSphere(x);return Ve.expand(_,_,be.getMaxScaleOnAxis(o)*10)}p.getBoundingSphere=le}(e.Cell||(e.Cell={})),function(p){function P($,f){return{kind:"segment-loci",volume:$,elements:f}}p.Loci=P;function j($){return!!$&&$.kind==="segment-loci"}p.isLoci=j;function O($,f){if($.volume!==f.volume||$.elements.length!==f.elements.length)return!1;for(let x=0,o=$.elements.length;x<o;++x){const u=$.elements[x],_=f.elements[x];if(!Ee.areEqual(u.instances,_.instances)||!Ee.areEqual(u.segments,_.segments))return!1}return!0}p.areLociEqual=O;function Z($){for(const{segments:f,instances:x}of $.elements)if(!Ee.isEmpty(x)||!Ee.isEmpty(f))return!1;return!0}p.isLociEmpty=Z;function G($){let f=0;for(const{segments:x,instances:o}of $.elements)f+=Ee.size(x)*Ee.size(o);return f}p.getLociSize=G;const q=He(),C=He(),J=He();function D($,f,x){const o=e.Segmentation.get($);if(o){He.setEmpty(q);const u=an.getGridToCartesianTransform($.grid);for(const{segments:_,instances:N}of f){He.setEmpty(C);for(let L=0,Y=Ee.size(_);L<Y;L++){const B=Ee.getAt(_,L),V=o.bounds[B];He.add(C,V.min),He.add(C,V.max)}He.transform(C,C,u);for(let L=0,Y=Ee.size(N);L<Y;L++){const B=$.instances[Ee.getAt(N,L)];He.transform(J,C,B.transform),He.addBox3D(q,J)}}return Ve.fromBox3D(x||Ve(),q)}else return e.getBoundingSphere($,x)}p.getBoundingSphere=D;function W($,f,x){return{kind:"segment-location",volume:$,segment:f,instance:x}}p.Location=W;function le($){return!!$&&$.kind==="segment-location"}p.isLocation=le}(e.Segment||(e.Segment={})),e.PickingGranularity={set(p,P){p._propertyData.__picking_granularity__=P},get(p){var P;return(P=p._propertyData.__picking_granularity__)!==null&&P!==void 0?P:"voxel"}},e.Segmentation={set(p,P){p._propertyData.__segmentation__=P},get(p){return p._propertyData.__segmentation__}}})(Kn||(Kn={}));function fc(e,n,t={}){const r=t;return typeof r.type=="string"||typeof r.color=="string"||typeof r.size=="string"?hc(e,n||Kn.One,t):C0(e,n||Kn.One,t)}function lc(e,n){const{themes:t}=e.representation.volume;return n?t.colorThemeRegistry.getApplicableTypes({volume:n}):t.colorThemeRegistry.types}function uc(e,n,t,r,i){const{registry:c,themes:a}=e.representation.volume,l=c.get(t||c.default.name),d=a.colorThemeRegistry.get(r||l.defaultColorTheme.name),w=on.getDefaultValues(d.getParams({volume:n||Kn.One}));return d.name===l.defaultColorTheme.name&&Object.assign(w,l.defaultColorTheme.props),{name:d.name,params:Object.assign(w,i)}}function dc(e,n,t,r,i){const{registry:c,themes:a}=e.representation.volume,l=c.get(t||c.default.name),d=a.sizeThemeRegistry.get(r||l.defaultSizeTheme.name),w=on.getDefaultValues(d.getParams({volume:n||Kn.One}));return d.name===l.defaultSizeTheme.name&&Object.assign(w,l.defaultSizeTheme.props),{name:d.name,params:Object.assign(w,i)}}function hc(e,n,t){const r=t.type&&e.representation.volume.registry.get(t.type)||e.representation.volume.registry.default.provider,i=t.color&&e.representation.volume.themes.colorThemeRegistry.get(t.color)||e.representation.volume.themes.colorThemeRegistry.get(r.defaultColorTheme.name),c=t.size&&e.representation.volume.themes.sizeThemeRegistry.get(t.size)||e.representation.volume.themes.sizeThemeRegistry.get(r.defaultSizeTheme.name);return C0(e,n,{type:r,typeParams:t.typeParams,color:i,colorParams:t.colorParams,size:c,sizeParams:t.sizeParams})}function C0(e,n,t={}){const{themes:r}=e.representation.volume,i={volume:n},c=t.type||e.representation.volume.registry.default.provider,a=on.getDefaultValues(c.getParams(r,n)),l=Object.assign(a,t.typeParams),d=t.color||r.colorThemeRegistry.get(c.defaultColorTheme.name),w=on.getDefaultValues(d.getParams(i));d.name===c.defaultColorTheme.name&&Object.assign(w,c.defaultColorTheme.props);const g=Object.assign(w,t.colorParams),A=t.size||r.sizeThemeRegistry.get(c.defaultSizeTheme.name),m=on.getDefaultValues(A.getParams(i));A.name===c.defaultSizeTheme.name&&Object.assign(m,c.defaultSizeTheme.props);const F=Object.assign(m,t.sizeParams);return{type:{name:c.name,params:l},colorTheme:{name:d.name,params:g},sizeTheme:{name:A.name,params:F}}}const z2=Object.freeze(Object.defineProperty({__proto__:null,createVolumeColorThemeParams:uc,createVolumeRepresentationParams:fc,createVolumeSizeThemeParams:dc,getVolumeThemeTypes:lc},Symbol.toStringTag,{value:"Module"}));export{jc as $,Fc as A,He as B,Xn as C,fr as D,De as E,a0 as F,b2 as G,w2 as H,Rr as I,n2 as J,e2 as K,Lc as L,Cn as M,Je as N,Ee as O,on as P,fn as Q,Uc as R,Oe as S,en as T,Qt as U,y as V,Nr as W,Vt as X,te as Y,rc as Z,Fr as _,er as a,Ic as a$,N0 as a0,Zn as a1,_t as a2,Er as a3,O0 as a4,Gc as a5,gn as a6,Ns as a7,jr as a8,sr as a9,an as aA,Mc as aB,Rc as aC,cr as aD,Bi as aE,Ri as aF,Ni as aG,Kn as aH,v2 as aI,A2 as aJ,cn as aK,zn as aL,un as aM,M2 as aN,Cc as aO,y2 as aP,E0 as aQ,_2 as aR,bc as aS,xn as aT,qc as aU,ln as aV,vc as aW,Xc as aX,m2 as aY,Ec as aZ,kc as a_,$c as aa,Oc as ab,Xe as ac,Mt as ad,Qc as ae,g2 as af,ar as ag,x2 as ah,Es as ai,Nc as aj,mc as ak,rn as al,c2 as am,mi as an,j1 as ao,Dr as ap,ki as aq,wt as ar,r2 as as,Vc as at,Ht as au,O1 as av,Yc as aw,_c as ax,qn as ay,St as az,h2 as b,Wn as b0,Dc as b1,Ac as b2,I2 as b3,Kc as b4,p2 as b5,s2 as b6,ut as b7,qi as b8,Sc as b9,Tc as ba,Bc as bb,Yr as bc,fc as bd,Ye as be,gc as bf,_0 as bg,wc as bh,Ti as bi,Jr as bj,d2 as bk,i2 as bl,G1 as bm,o2 as bn,Mr as bo,$r as bp,z2 as bq,$n as c,yc as d,u2 as e,f2 as f,F0 as g,Zc as h,t2 as i,l2 as j,Jc as k,a2 as l,Ve as m,be as n,Pc as o,Nt as p,Sn as q,Wt as r,Wc as s,zc as t,sn as u,e1 as v,pc as w,Ei as x,Hc as y,et as z};
//# sourceMappingURL=volume-representation-params-BC9-RSKx.js.map
