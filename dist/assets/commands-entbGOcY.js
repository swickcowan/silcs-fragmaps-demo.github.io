import{i as x,U as L}from"./id-factory-CW2C2ZcE.js";var z;(function(n){function c(a){return a}n.create=c;function u(a,i){return(a&i)!==0}n.has=u;function f(a,i){return!!i&&(a&i)===i}n.hasAll=f})(z||(z={}));var R;(function(n){function c(t=512){return{current:[],offset:0,capacity:t,chunks:[]}}n.create=c;function u(t){return t.chunks.length?(t.offset>0&&(t.chunks[t.chunks.length]=t.current.length===t.offset?t.current.join(""):t.current.slice(0,t.offset).join("")),t.chunks.join("")):t.current.length===t.offset?t.current.join(""):t.current.splice(0,t.offset).join("")}n.getString=u;function f(t){let o=0;for(const g of t.chunks)o+=g.length;for(let g=0;g<t.offset;g++)o+=t.current[g].length;return o}n.getSize=f;function a(t){return t.offset>0&&(t.current.length===t.offset?t.chunks[t.chunks.length]=t.current.join(""):t.chunks[t.chunks.length]=t.current.slice(0,t.offset).join(""),t.offset=0),t.chunks}n.getChunks=a;let i;(function(t){t[t.Count=512]="Count"})(i||(i={}));const p=[];(function(){let t="";for(let o=0;o<i.Count;o++)p[o]=t,t=t+" "})();function k(t){m(t,`
`)}n.newline=k;function F(t,o){o>0&&m(t,p[o])}n.whitespace=F;function d(t){m(t," ")}n.whitespace1=d;function E(t,o){o&&(t.offset===t.capacity&&(t.chunks[t.chunks.length]=t.current.join(""),t.offset=0),t.current[t.offset++]=o)}n.write=E;function m(t,o){t.offset===t.capacity&&(t.chunks[t.chunks.length]=t.current.join(""),t.offset=0),t.current[t.offset++]=o}n.writeSafe=m;function j(t,o,g){if(!o){F(t,g);return}const A=g-o.length;F(t,A),m(t,o)}n.writePadLeft=j;function h(t,o,g){if(!o){F(t,g);return}const A=g-o.length;m(t,o),F(t,A)}n.writePadRight=h;function e(t,o){m(t,""+o)}n.writeInteger=e;function s(t,o){m(t,""+o+" ")}n.writeIntegerAndSpace=s;function w(t,o,g){const A=""+o,P=g-A.length;F(t,P),m(t,A)}n.writeIntegerPadLeft=w;function y(t,o,g){const A=""+o,P=g-A.length;m(t,A),F(t,P)}n.writeIntegerPadRight=y;function l(t,o,g){m(t,""+Math.round(g*o)/g)}n.writeFloat=l;function v(t,o,g,A){const P=""+Math.round(g*o)/g,S=A-P.length;F(t,S),m(t,P)}n.writeFloatPadLeft=v;function U(t,o,g,A){const P=""+Math.round(g*o)/g,S=A-P.length;m(t,P),F(t,S)}n.writeFloatPadRight=U})(R||(R={}));function M(n,c){return n-c}function T(n){return Array.prototype.sort.call(n,M),n}var C;(function(n){class c{has(e){return!1}forEach(e,s){return s}constructor(){this.size=0}}class u{has(e){return e===this.idx}forEach(e,s){return e(this.idx,s),s}constructor(e){this.idx=e,this.size=1}}class f{has(e){return e<this.length&&!!this.mask[e]}_forEach(e,s){for(let w=0;w<this.length;w++)this.mask[w]&&e(w,s)}forEach(e,s){return this._forEach(e,s),s}constructor(e,s){this.mask=e,this.size=s,this.length=e.length}}class a{has(e){return!0}_forEach(e,s){for(let w=0;w<this.size;w++)e(w,s)}forEach(e,s){return this._forEach(e,s),s}constructor(e){this.size=e}}class i{has(e){return this.set.has(e)}_forEach(e,s){for(const w of this.flatten())e(w,s)}flatten(){if(this._flat)return this._flat;const e=new Int32Array(this.size);let s=0;return this.set.forEach(w=>e[s++]=w),T(e),this._flat=e,this._flat}forEach(e,s){return this._forEach(e,s),s}constructor(e){this.set=e,this._flat=void 0,this.size=e.size}}function p(h){return new a(h)}n.always=p,n.never=new c;function k(h){return new i(h)}n.ofSet=k;function F(h){return new u(h)}n.singleton=F;function d(h){const e=h.length;if(e===0)return new c;if(e===1)return new u(h[0]);let s=0;for(const l of h)l>s&&(s=l);if(e===s)return new a(e);if(e/s<1/12){const l=new Set;for(const v of h)l.add(v);return new i(l)}const y=new Int8Array(s+1);for(const l of h)y[l]=1;return new f(y,h.length)}n.ofUniqueIndices=d;function E(h,e){return new f(h,e)}n.ofMask=E;function m(h,e){for(const s of e)if(h.has(s))return!0;return!1}n.hasAny=m;function j(h,e){let s=0,w=0;if(e.forEach(y=>{h.has(y)||(s++,y>w&&(w=y))}),s/w<1/12){const y=new Set;return e.forEach(l=>{h.has(l)||y.add(l)}),k(y)}else{const y=new Uint8Array(w+1);return e.forEach(l=>{h.has(l)||(y[l]=1)}),E(y,s)}}n.complement=j})(C||(C={}));var _;(function(n){function c(f){return{ref:f}}n.create=c;function u(f,a){return f.ref=a,f}n.set=u})(_||(_={}));const H=x(0,2147483647);var I;(function(n){function c(f,a){return{id:H(),version:0,value:f,metadata:a}}n.create=c;function u(f,a){return{id:f.id,version:f.version+1,value:a,metadata:f.metadata}}n.withValue=u})(I||(I={}));var O;(function(n){function c(i,p){return _.create(I.create(i,p))}n.create=c;function u(i,p){return _.set(i,I.withValue(i.ref,p))}n.update=u;function f(i,p){return _.set(i,p)}n.set=f;function a(i,p){return i.ref.value!==p?u(i,p):i}n.updateIfChanged=a})(O||(O={}));function r(){const n=(c,u)=>c.commands.dispatch(n,u||{});return n.subscribe=(c,u)=>c.commands.subscribe(n,u),n.id=L.create22(),n}class q{constructor(){this.subs=new Map,this.disposing=!1}subscribe(c,u){let f=this.subs.get(c.id);return f||(f=[],this.subs.set(c.id,f)),f.push(u),{unsubscribe:()=>{const a=this.subs.get(c.id);if(!a)return;const i=a.indexOf(u);if(!(i<0)){for(let p=i+1;p<a.length;p++)a[p-1]=a[p];a.pop()}}}}dispatch(c,u){return new Promise((f,a)=>{if(this.disposing){a("disposed");return}if(!this.subs.get(c.id)){f();return}this.resolve({cmd:c,params:u,resolve:f,reject:a})})}dispose(){this.subs.clear()}async resolve(c){const u=this.subs.get(c.cmd.id);if(!u){c.resolve();return}try{for(const f of u)await f(c.params);c.resolve()}catch(f){c.reject(f)}}}const D={State:{SetCurrentObject:r(),ApplyAction:r(),Update:r(),RemoveObject:r(),ToggleExpanded:r(),ToggleVisibility:r(),Snapshots:{Add:r(),Replace:r(),Move:r(),Remove:r(),Apply:r(),Clear:r(),Upload:r(),Fetch:r(),DownloadToFile:r(),OpenFile:r(),OpenUrl:r()}},Interactivity:{Object:{Highlight:r()},Structure:{Highlight:r(),Select:r()},ClearHighlights:r()},Layout:{Update:r()},Toast:{Show:r(),Hide:r()},Camera:{Reset:r(),SetSnapshot:r(),Focus:r(),FocusObject:r(),OrientAxes:r(),ResetAxes:r()},Canvas3D:{SetSettings:r(),ResetSettings:r()}},N=Object.freeze(Object.defineProperty({__proto__:null,PluginCommands:D},Symbol.toStringTag,{value:"Module"}));export{z as B,D as P,R as S,O as V,I as a,q as b,N as c};
//# sourceMappingURL=commands-entbGOcY.js.map
