{"version":3,"file":"assets-C0Og-5xw.js","sources":["../../node_modules/molstar/lib/mol-data/util/array.js","../../node_modules/molstar/lib/mol-util/type-helpers.js","../../node_modules/molstar/lib/mol-io/common/string-like.js","../../node_modules/molstar/lib/mol-io/common/utf8.js","../../node_modules/molstar/lib/mol-task/util/scheduler.js","../../node_modules/molstar/lib/mol-util/debug.js","../../node_modules/molstar/lib/mol-task/util/user-timing.js","../../node_modules/molstar/lib/mol-task/execution/observable.js","../../node_modules/molstar/lib/mol-task/execution/synchronous.js","../../node_modules/molstar/lib/mol-task/task.js","../../node_modules/molstar/lib/mol-task/execution/runtime-context.js","../../node_modules/molstar/lib/mol-task/execution/progress.js","../../node_modules/molstar/lib/mol-util/nodejs-shims.js","../../node_modules/molstar/lib/mol-util/zip/bin.js","../../node_modules/molstar/lib/mol-util/zip/checksum.js","../../node_modules/molstar/lib/mol-util/zip/util.js","../../node_modules/molstar/lib/mol-util/zip/inflate.js","../../node_modules/molstar/lib/mol-util/zip/huffman.js","../../node_modules/molstar/lib/mol-util/zip/deflate.js","../../node_modules/molstar/lib/mol-util/zip/zip.js","../../node_modules/molstar/lib/mol-util/data-source.js","../../node_modules/molstar/lib/mol-util/assets.js"],"sourcesContent":["/**\n * Copyright (c) 2017 mol* contributors, licensed under MIT, See LICENSE file for more info.\n *\n * from https://github.com/dsehnal/CIFTools.js\n * @author David Sehnal <david.sehnal@gmail.com>\n */\nexport function arrayFind(array, f) {\n    for (let i = 0, _i = array.length; i < _i; i++) {\n        if (f(array[i]))\n            return array[i];\n    }\n    return void 0;\n}\nexport function iterableToArray(it) {\n    if (Array.from)\n        return Array.from(it);\n    const ret = [];\n    while (true) {\n        const { done, value } = it.next();\n        if (done)\n            break;\n        ret[ret.length] = value;\n    }\n    return ret;\n}\n/** Fills the array so that array[0] = start and array[array.length - 1] = end */\nexport function createRangeArray(start, end, ctor) {\n    const len = end - start + 1;\n    const array = ctor ? new ctor(len) : new Int32Array(len);\n    for (let i = 0; i < len; i++) {\n        array[i] = i + start;\n    }\n    return array;\n}\nexport function arrayPickIndices(array, indices) {\n    const ret = new (arrayGetCtor(array))(indices.length);\n    for (let i = 0, _i = indices.length; i < _i; i++) {\n        ret[i] = array[indices[i]];\n    }\n    return ret;\n}\nexport function arrayGetCtor(data) {\n    const ret = data.constructor;\n    if (!ret)\n        throw new Error('data does not define a constructor and it should');\n    return ret;\n}\n","/**\n * Copyright (c) 2018-2021 mol* contributors, licensed under MIT, See LICENSE file for more info.\n *\n * @author Alexander Rose <alexander.rose@weirdbyte.de>\n * @author David Sehnal <david.sehnal@gmail.com>\n */\nexport function ObjectKeys(o) {\n    return Object.keys(o);\n}\n;\nexport function assertUnreachable(x) {\n    throw new Error('unreachable');\n}\nexport function isPromiseLike(x) {\n    return typeof (x === null || x === void 0 ? void 0 : x.then) === 'function';\n}\n","/**\n * Copyright (c) 2025 mol* contributors, licensed under MIT, See LICENSE file for more info.\n *\n * @author Adam Midlik <midlik@gmail.com>\n */\nimport { utf8Read } from './utf8.js';\nexport const StringLike = {\n    /** Return true if `obj` is instance of `StringLike` */\n    is(obj) {\n        return typeof obj.charCodeAt === 'function'; // a bit hacky\n    },\n    /** Try to convert `StringLike` to a primitive `string`. Might fail if the content is longer that max allowed string length. */\n    toString(str) {\n        try {\n            return str.toString();\n        }\n        catch (err) {\n            throw new Error(`Failed to convert StringLike object into string. This might be because the length ${str.length} exceeds maximum allowed string length ${MAX_STRING_LENGTH}. (${err})`);\n        }\n    },\n};\n/** Maximum allowed string length (might be bigger for some engines, but in Chrome 136 and Node 22 it is this). */\nexport const MAX_STRING_LENGTH = 536870888;\n/** Binary logarithm of default string chunk size for `ChunkedBigString`. (string chunk size is chosen to be a power of 2, so we can use faster bit shift operator instead of integer division) */\nconst DEFAULT_LOG_STRING_CHUNK_SIZE = 28; // 2**28 is the largest power of 2 which is <= MAX_STRING_LENGTH\n/** Implementation of `CustomString`, based on an array of fixed-length strings (chunks). */\nexport class ChunkedBigString {\n    get length() {\n        return this._length;\n    }\n    constructor(logStringChunkSize = DEFAULT_LOG_STRING_CHUNK_SIZE) {\n        this._chunks = [];\n        this._length = 0;\n        this._tmpArray = [];\n        this.STRING_CHUNK_SIZE = 2 ** logStringChunkSize;\n        this.STRING_CHUNK_SHIFT = logStringChunkSize;\n        this.STRING_CHUNK_MASK = 2 ** logStringChunkSize - 1;\n    }\n    static fromString(content, logStringChunkSize = DEFAULT_LOG_STRING_CHUNK_SIZE) {\n        const out = new ChunkedBigString(logStringChunkSize);\n        out._append(content);\n        return out;\n    }\n    static fromStrings(content, logStringChunkSize = DEFAULT_LOG_STRING_CHUNK_SIZE) {\n        const out = new ChunkedBigString(logStringChunkSize);\n        for (const inputChunk of content) {\n            out._append(inputChunk);\n        }\n        return out;\n    }\n    /** Create instance from UTF8 data. (Do not call directly, prefer `utf8ReadLong` in utf8.ts.) */\n    static fromUtf8Data(data, start = 0, end = data.length, logStringChunkSize = DEFAULT_LOG_STRING_CHUNK_SIZE) {\n        const bufferChunkSize = 2 ** logStringChunkSize; // n bytes will always decode to <=n characters\n        const stringChunks = [];\n        let readStart = start;\n        while (readStart < end) {\n            let readEnd = Math.min(readStart + bufferChunkSize, end);\n            if (readEnd < end) {\n                // This is buffer chunk boundary, adjust to avoid cutting multi-byte characters\n                while ((data[readEnd] & 0xC0) === 0x80) { // Byte after the cut is a continuation byte (10xxxxxx)\n                    readEnd--;\n                    if (readEnd === readStart)\n                        throw new Error('Input is rubbish, no UTF-8 character start found in a chunk');\n                }\n            } // Else this is the end of the read region, let default error handling do its job\n            const stringChunk = utf8Read(data, readStart, readEnd - readStart);\n            stringChunks.push(stringChunk);\n            readStart = readEnd;\n        }\n        return ChunkedBigString.fromStrings(stringChunks, logStringChunkSize);\n    }\n    _append(inputChunk) {\n        const chunkSize = this.STRING_CHUNK_SIZE;\n        const tail = (this._chunks.length === 0 || this._chunks[this._chunks.length - 1].length === chunkSize) ? '' : this._chunks.pop();\n        let inputPtr = chunkSize - tail.length;\n        this._chunks.push(tail + inputChunk.substring(0, inputPtr)); // Assuming .substring() deals with inputPtr > inputChunk.length\n        while (inputPtr < inputChunk.length) {\n            this._chunks.push(inputChunk.substring(inputPtr, inputPtr + chunkSize)); // Assuming .substring() deals with inputPtr + chunkSize > inputChunk.length\n            inputPtr += chunkSize;\n        }\n        this._length += inputChunk.length;\n    }\n    _getChunkIndex(index) {\n        return index >>> this.STRING_CHUNK_SHIFT; // equivalent to `Math.floor(index / STRING_CHUNK_SIZE)`\n    }\n    _getIndexInChunk(index) {\n        return index & this.STRING_CHUNK_MASK; // equivalent to `index % STRING_CHUNK_SIZE`\n    }\n    _isOutOfRange(index) {\n        return index < 0 || index >= this.length;\n    }\n    at(index) {\n        if (-this.length <= index && index < 0) {\n            return this.at(index + this.length);\n        }\n        return this.charAt(index) || undefined;\n    }\n    charAt(index) {\n        if (this._isOutOfRange(index))\n            return '';\n        const iChunk = this._getChunkIndex(index);\n        const indexInChunk = this._getIndexInChunk(index);\n        return this._chunks[iChunk][indexInChunk];\n    }\n    charCodeAt(index) {\n        if (this._isOutOfRange(index))\n            return NaN;\n        const iChunk = this._getChunkIndex(index);\n        const indexInChunk = this._getIndexInChunk(index);\n        return this._chunks[iChunk].charCodeAt(indexInChunk);\n    }\n    substring(start, end) {\n        const start_ = Math.min(Math.max(start !== null && start !== void 0 ? start : 0, 0), this.length);\n        const end_ = Math.min(Math.max(end !== null && end !== void 0 ? end : this.length, 0), this.length);\n        if (start_ > end_) {\n            return this.substring(end_, start_);\n        }\n        if (start_ === end_) {\n            return '';\n        }\n        if (end_ - start_ > MAX_STRING_LENGTH) {\n            throw new Error(`Trying to create get a substring longer (${end_ - start_}) than maximum allowed string length (${MAX_STRING_LENGTH}).`);\n        }\n        const iFirstChunk = this._getChunkIndex(start_);\n        const indexInChunkFrom = this._getIndexInChunk(start_);\n        const iLastChunk = this._getChunkIndex(end_);\n        const indexInChunkTo = this._getIndexInChunk(end_);\n        if (iFirstChunk === iLastChunk) {\n            return this._chunks[iFirstChunk].substring(indexInChunkFrom, indexInChunkTo);\n        }\n        else {\n            const out = this._getTmpArray();\n            out.push(this._chunks[iFirstChunk].substring(indexInChunkFrom, this.STRING_CHUNK_SIZE));\n            for (let iChunk = iFirstChunk + 1; iChunk < iLastChunk; iChunk++) {\n                out.push(this._chunks[iChunk]);\n            }\n            out.push(this._chunks[iLastChunk].substring(0, indexInChunkTo));\n            return out.join('');\n        }\n    }\n    _getTmpArray() {\n        while (this._tmpArray.length)\n            this._tmpArray.pop(); // this seems to be faster than `this._tmpArray.length = 0` for short arrays\n        return this._tmpArray;\n    }\n    indexOf(searchString, position = 0) {\n        if (searchString.length > this.STRING_CHUNK_SIZE) {\n            throw new Error('NotImplementedError: indexOf is only implemented for searchString shorter than STRING_CHUNK_SIZE');\n            // In real use-cases STRING_CHUNK_SIZE is big and it doesn't make sense to search for such long substrings.\n        }\n        if (position < 0)\n            position = 0;\n        const iFirstChunk = this._getChunkIndex(position);\n        for (let iChunk = iFirstChunk; iChunk < this._chunks.length; iChunk++) {\n            const chunk = this._chunks[iChunk];\n            const positionInChunk = iChunk === iFirstChunk ? this._getIndexInChunk(position) : 0;\n            // Try to find the whole substring in this chunk\n            const found = chunk.indexOf(searchString, positionInChunk);\n            if (found >= 0)\n                return iChunk * this.STRING_CHUNK_SIZE + found;\n            // Try to find the substring overflowing to the next chunk (assumes searchString.length <= STRING_CHUNK_SIZE)\n            if (iChunk !== this._chunks.length - 1) {\n                const start = Math.max(this.STRING_CHUNK_SIZE - searchString.length + 1, positionInChunk);\n                const aroundBoundary = chunk.substring(start, undefined) + this._chunks[iChunk + 1].substring(0, searchString.length - 1);\n                const found = aroundBoundary.indexOf(searchString);\n                if (found >= 0)\n                    return iChunk * this.STRING_CHUNK_SIZE + start + found;\n            }\n        }\n        return -1;\n    }\n    includes(searchString, position = 0) {\n        return this.indexOf(searchString, position) >= 0;\n    }\n    startsWith(searchString, position = 0) {\n        if (searchString.length > this.STRING_CHUNK_SIZE) {\n            throw new Error('NotImplementedError: startsWith is only implemented for searchString shorter than STRING_CHUNK_SIZE');\n            // In real use-cases STRING_CHUNK_SIZE is big and it doesn't make sense to search for such long substrings.\n        }\n        return this.substring(position, position + searchString.length) === searchString;\n    }\n    toString() {\n        try {\n            return this._chunks.join('');\n        }\n        catch (err) {\n            throw new Error(`Failed to convert StringLike object into string. This might be because the length ${this.length} exceeds maximum allowed string length ${MAX_STRING_LENGTH}. (${err})`);\n        }\n    }\n}\n","/**\n * Copyright (c) 2017-2020 mol* contributors, licensed under MIT, See LICENSE file for more info.\n *\n * Adapted from https://github.com/rcsb/mmtf-javascript\n * @author Alexander Rose <alexander.rose@weirdbyte.de>\n * @author David Sehnal <david.sehnal@gmail.com>\n */\nimport { ChunkedBigString, MAX_STRING_LENGTH } from './string-like.js';\nexport function utf8Write(data, offset, str) {\n    for (let i = 0, l = str.length; i < l; i++) {\n        const codePoint = str.charCodeAt(i);\n        // One byte of UTF-8\n        if (codePoint < 0x80) {\n            data[offset++] = codePoint >>> 0 & 0x7f | 0x00;\n            continue;\n        }\n        // Two bytes of UTF-8\n        if (codePoint < 0x800) {\n            data[offset++] = codePoint >>> 6 & 0x1f | 0xc0;\n            data[offset++] = codePoint >>> 0 & 0x3f | 0x80;\n            continue;\n        }\n        // Three bytes of UTF-8.\n        if (codePoint < 0x10000) {\n            data[offset++] = codePoint >>> 12 & 0x0f | 0xe0;\n            data[offset++] = codePoint >>> 6 & 0x3f | 0x80;\n            data[offset++] = codePoint >>> 0 & 0x3f | 0x80;\n            continue;\n        }\n        // Four bytes of UTF-8\n        if (codePoint < 0x110000) {\n            data[offset++] = codePoint >>> 18 & 0x07 | 0xf0;\n            data[offset++] = codePoint >>> 12 & 0x3f | 0x80;\n            data[offset++] = codePoint >>> 6 & 0x3f | 0x80;\n            data[offset++] = codePoint >>> 0 & 0x3f | 0x80;\n            continue;\n        }\n        throw new Error('bad codepoint ' + codePoint);\n    }\n}\nconst __chars = function () {\n    const data = [];\n    for (let i = 0; i < 1024; i++)\n        data[i] = String.fromCharCode(i);\n    return data;\n}();\nfunction throwError(err) {\n    throw new Error(err);\n}\nfunction _utf8Read(data, offset, length) {\n    const chars = __chars;\n    let str = void 0, chunkOffset = 0;\n    const chunk = [], chunkSize = 512;\n    for (let i = offset, end = offset + length; i < end; i++) {\n        const byte = data[i];\n        if ((byte & 0x80) === 0x00) {\n            // One byte character\n            chunk[chunkOffset++] = chars[byte];\n        }\n        else if ((byte & 0xe0) === 0xc0) {\n            // Two byte character\n            chunk[chunkOffset++] = chars[((byte & 0x0f) << 6) | (data[++i] & 0x3f)];\n        }\n        else if ((byte & 0xf0) === 0xe0) {\n            // Three byte character\n            chunk[chunkOffset++] = String.fromCharCode(((byte & 0x0f) << 12) |\n                ((data[++i] & 0x3f) << 6) |\n                ((data[++i] & 0x3f) << 0));\n        }\n        else if ((byte & 0xf8) === 0xf0) {\n            // Four byte character\n            chunk[chunkOffset++] = String.fromCharCode(((byte & 0x07) << 18) |\n                ((data[++i] & 0x3f) << 12) |\n                ((data[++i] & 0x3f) << 6) |\n                ((data[++i] & 0x3f) << 0));\n        }\n        else\n            throwError('Invalid byte ' + byte.toString(16));\n        if (chunkOffset === chunkSize) {\n            str = str || [];\n            str[str.length] = chunk.join('');\n            chunkOffset = 0;\n        }\n    }\n    if (!str)\n        return chunk.slice(0, chunkOffset).join('');\n    if (chunkOffset > 0) {\n        str[str.length] = chunk.slice(0, chunkOffset).join('');\n    }\n    return str.join('');\n}\nconst utf8Decoder = (typeof TextDecoder !== 'undefined') ? new TextDecoder() : undefined;\n/** Decode UTF8 data. Return as primitive `string` type, or fail if the result is longer than MAX_STRING_LENGTH. */\nexport function utf8Read(data, offset = 0, length = data.length) {\n    if (utf8Decoder) {\n        const input = (offset || length !== data.length) ? data.subarray(offset, offset + length) : data;\n        return utf8Decoder.decode(input);\n    }\n    else {\n        return _utf8Read(data, offset, length);\n    }\n}\n/** Decode UTF8 data, potentially exceeding MAX_STRING_LENGTH. Return as primitive `string` if possible; or as `ChunkedBigString` if the result is longer than MAX_STRING_LENGTH. */\nexport function utf8ReadLong(data, offset = 0, length = data.length) {\n    if (length <= MAX_STRING_LENGTH) {\n        return utf8Read(data, offset, length);\n    }\n    const out = ChunkedBigString.fromUtf8Data(data, offset, offset + length);\n    return out.length <= MAX_STRING_LENGTH ? out.toString() : out;\n}\nexport function utf8ByteCount(str) {\n    let count = 0;\n    for (let i = 0, l = str.length; i < l; i++) {\n        const codePoint = str.charCodeAt(i);\n        if (codePoint < 0x80) {\n            count += 1;\n            continue;\n        }\n        if (codePoint < 0x800) {\n            count += 2;\n            continue;\n        }\n        if (codePoint < 0x10000) {\n            count += 3;\n            continue;\n        }\n        if (codePoint < 0x110000) {\n            count += 4;\n            continue;\n        }\n        throwError('bad codepoint ' + codePoint);\n    }\n    return count;\n}\n","/**\n * Copyright (c) 2017 mol* contributors, licensed under MIT, See LICENSE file for more info.\n *\n * @author David Sehnal <david.sehnal@gmail.com>\n */\nfunction createImmediateActions() {\n    const thisGlobal = (function () {\n        const _window = typeof window !== 'undefined' && window;\n        const _self = typeof self !== 'undefined' && typeof WorkerGlobalScope !== 'undefined' && self instanceof WorkerGlobalScope && self;\n        const _global = typeof global !== 'undefined' && global;\n        return _window || _global || _self;\n    })();\n    const tasksByHandle = {};\n    const doc = typeof document !== 'undefined' ? document : void 0;\n    let nextHandle = 1; // Spec says greater than zero\n    let registerImmediate;\n    function setImmediate(callback, ...args) {\n        // Callback can either be a function or a string\n        if (typeof callback !== 'function') {\n            callback = new Function('' + callback);\n        }\n        // Store and register the task\n        const task = { callback: callback, args: args };\n        tasksByHandle[nextHandle] = task;\n        registerImmediate(nextHandle);\n        return nextHandle++;\n    }\n    function clearImmediate(handle) {\n        delete tasksByHandle[handle];\n    }\n    function run(task) {\n        const callback = task.callback;\n        const args = task.args;\n        switch (args.length) {\n            case 0:\n                callback();\n                break;\n            case 1:\n                callback(args[0]);\n                break;\n            case 2:\n                callback(args[0], args[1]);\n                break;\n            case 3:\n                callback(args[0], args[1], args[2]);\n                break;\n            default:\n                callback.apply(undefined, args);\n                break;\n        }\n    }\n    function runIfPresent(handle) {\n        const task = tasksByHandle[handle];\n        clearImmediate(handle);\n        run(task);\n    }\n    function installNextTickImplementation() {\n        registerImmediate = function (handle) {\n            process.nextTick(function () { runIfPresent(handle); });\n        };\n    }\n    function canUsePostMessage() {\n        if (thisGlobal && thisGlobal.postMessage && !thisGlobal.importScripts) {\n            let postMessageIsAsynchronous = true;\n            const oldOnMessage = thisGlobal.onmessage;\n            thisGlobal.onmessage = function () {\n                postMessageIsAsynchronous = false;\n            };\n            thisGlobal.postMessage('', '*');\n            thisGlobal.onmessage = oldOnMessage;\n            return postMessageIsAsynchronous;\n        }\n    }\n    function installPostMessageImplementation() {\n        // Installs an event handler on `global` for the `message` event: see\n        // * https://developer.mozilla.org/en/DOM/window.postMessage\n        // * http://www.whatwg.org/specs/web-apps/current-work/multipage/comms.html#crossDocumentMessages\n        const messagePrefix = 'setImmediate$' + Math.random() + '$';\n        const onGlobalMessage = function (event) {\n            if (event.source === thisGlobal &&\n                typeof event.data === 'string' &&\n                event.data.indexOf(messagePrefix) === 0) {\n                runIfPresent(+event.data.slice(messagePrefix.length));\n            }\n        };\n        if (window.addEventListener) {\n            window.addEventListener('message', onGlobalMessage, false);\n        }\n        else {\n            window.attachEvent('onmessage', onGlobalMessage);\n        }\n        registerImmediate = function (handle) {\n            window.postMessage(messagePrefix + handle, '*');\n        };\n    }\n    function installMessageChannelImplementation() {\n        const channel = new MessageChannel();\n        channel.port1.onmessage = function (event) {\n            const handle = event.data;\n            runIfPresent(handle);\n        };\n        registerImmediate = function (handle) {\n            channel.port2.postMessage(handle);\n        };\n    }\n    function installReadyStateChangeImplementation() {\n        const html = doc.documentElement;\n        registerImmediate = function (handle) {\n            // Create a <script> element; its readystatechange event will be fired asynchronously once it is inserted\n            // into the document. Do so, thus queuing up the task. Remember to clean up once it's been called.\n            let script = doc.createElement('script');\n            script.onreadystatechange = function () {\n                runIfPresent(handle);\n                script.onreadystatechange = null;\n                html.removeChild(script);\n                script = null;\n            };\n            html.appendChild(script);\n        };\n    }\n    function installSetTimeoutImplementation() {\n        registerImmediate = function (handle) {\n            setTimeout(runIfPresent, 0, handle);\n        };\n    }\n    // Don't get fooled by e.g. browserify environments.\n    if (typeof process !== 'undefined' && {}.toString.call(process) === '[object process]') {\n        // For Node.js before 0.9\n        installNextTickImplementation();\n    }\n    else if (canUsePostMessage()) {\n        // For non-IE10 modern browsers\n        installPostMessageImplementation();\n    }\n    else if (typeof MessageChannel !== 'undefined') {\n        // For web workers, where supported\n        installMessageChannelImplementation();\n    }\n    else if (doc && 'onreadystatechange' in doc.createElement('script')) {\n        // For IE 6–8\n        installReadyStateChangeImplementation();\n    }\n    else {\n        // For older browsers\n        installSetTimeoutImplementation();\n    }\n    return {\n        setImmediate,\n        clearImmediate\n    };\n}\nconst immediateActions = (function () {\n    if (typeof setImmediate !== 'undefined') {\n        if (typeof window !== 'undefined') {\n            return {\n                setImmediate: (handler, ...args) => window.setImmediate(handler, ...args),\n                clearImmediate: (handle) => window.clearImmediate(handle)\n            };\n        }\n        else {\n            return { setImmediate, clearImmediate };\n        }\n    }\n    return createImmediateActions();\n}());\nfunction resolveImmediate(res) {\n    immediateActions.setImmediate(res);\n}\nconst Scheduler = {\n    setImmediate: immediateActions.setImmediate,\n    clearImmediate: immediateActions.clearImmediate,\n    immediatePromise() { return new Promise(resolveImmediate); },\n    delay(timeout, value = void 0) { return new Promise(r => setTimeout(r, timeout, value)); }\n};\nexport { Scheduler };\n","/**\n * Copyright (c) 2019-2023 mol* contributors, licensed under MIT, See LICENSE file for more info.\n *\n * @author Alexander Rose <alexander.rose@weirdbyte.de>\n */\n/**\n * on node `process.env.NODE_ENV` is available, in webpack build it is automatically set\n * by the DefinePlugin to the webpack `mode` value\n */\nlet isProductionMode = function () {\n    try {\n        return process.env.NODE_ENV === 'production';\n    }\n    catch (_a) {\n        return false;\n    }\n}();\n/**\n * set to true to enable more comprehensive checks and assertions,\n * mostly used in `mol-gl` and in valence-model calculation\n */\nlet isDebugMode = function getIsDebug() {\n    try {\n        const val = process.env.DEBUG;\n        return val === '*' || val === 'molstar';\n    }\n    catch (_a) {\n        return false;\n    }\n}();\n/**\n * set to true to gather timings, mostly used in `mol-gl`\n */\nlet isTimingMode = false;\nexport { isProductionMode, isDebugMode, isTimingMode };\nexport function setProductionMode(value) {\n    if (typeof value !== 'undefined')\n        isProductionMode = value;\n}\nexport function setDebugMode(value) {\n    if (typeof value !== 'undefined')\n        isDebugMode = value;\n}\nexport function setTimingMode(value) {\n    if (typeof value !== 'undefined')\n        isTimingMode = value;\n}\nconst consoleStatsProviders = [];\nexport function addConsoleStatsProvider(p) {\n    if (!consoleStatsProviders.includes(p))\n        consoleStatsProviders.push(p);\n}\nexport function removeConsoleStatsProvider(p) {\n    const idx = consoleStatsProviders.indexOf(p);\n    if (idx !== -1)\n        consoleStatsProviders.splice(idx, 1);\n}\nexport function consoleStats() {\n    for (const p of consoleStatsProviders) {\n        p();\n    }\n}\n","/**\n * Copyright (c) 2018-2019 mol* contributors, licensed under MIT, See LICENSE file for more info.\n *\n * @author Alexander Rose <alexander.rose@weirdbyte.de>\n */\nimport { isTimingMode } from '../../mol-util/debug.js';\nconst hasPerformance = (typeof performance !== 'undefined') && !!performance.mark && performance.measure;\nconst timingEnabled = hasPerformance && isTimingMode;\nexport var UserTiming;\n(function (UserTiming) {\n    function startMarkName(task) { return `startTask${task.id}`; }\n    function endMarkName(task) { return `endTask${task.id}`; }\n    function markStart(task) {\n        if (timingEnabled)\n            performance.mark(startMarkName(task));\n    }\n    UserTiming.markStart = markStart;\n    function markEnd(task) {\n        if (timingEnabled)\n            performance.mark(endMarkName(task));\n    }\n    UserTiming.markEnd = markEnd;\n    function measure(task) {\n        if (timingEnabled)\n            performance.measure(`✳️ ${task.name}`, startMarkName(task), endMarkName(task));\n    }\n    UserTiming.measure = measure;\n})(UserTiming || (UserTiming = {}));\n","/**\n * Copyright (c) 2017-2018 mol* contributors, licensed under MIT, See LICENSE file for more info.\n *\n * @author David Sehnal <david.sehnal@gmail.com>\n */\nimport { Task } from '../task.js';\nimport { now } from '../../mol-util/now.js';\nimport { Scheduler } from '../util/scheduler.js';\nimport { UserTiming } from '../util/user-timing.js';\nexport function ExecuteObservable(task, observer, updateRateMs = 250) {\n    const info = ProgressInfo(task, observer, updateRateMs);\n    const ctx = new ObservableRuntimeContext(info, info.root);\n    return execute(task, ctx);\n}\nexport function CreateObservableCtx(task, observer, updateRateMs = 250) {\n    const info = ProgressInfo(task, observer, updateRateMs);\n    return new ObservableRuntimeContext(info, info.root);\n}\nexport function ExecuteInContext(ctx, task) {\n    return execute(task, ctx);\n}\nexport function ExecuteObservableChild(ctx, task, progress) {\n    return ctx.runChild(task, progress);\n}\nfunction defaultProgress(task) {\n    return {\n        taskId: task.id,\n        taskName: task.name,\n        message: '',\n        startedTime: 0,\n        canAbort: true,\n        isIndeterminate: true,\n        current: 0,\n        max: 0\n    };\n}\nfunction ProgressInfo(task, observer, updateRateMs) {\n    const abortToken = { abortRequested: false, treeAborted: false, reason: '' };\n    return {\n        updateRateMs,\n        lastNotified: now(),\n        observer,\n        abortToken,\n        taskId: task.id,\n        root: { progress: defaultProgress(task), children: [] },\n        tryAbort: createAbortFunction(abortToken)\n    };\n}\nfunction createAbortFunction(token) {\n    return (reason) => {\n        token.abortRequested = true;\n        token.reason = reason || token.reason;\n    };\n}\nfunction cloneTree(root) {\n    return { progress: { ...root.progress }, children: root.children.map(cloneTree) };\n}\nfunction canAbort(root) {\n    return root.progress.canAbort && root.children.every(canAbort);\n}\nfunction snapshotProgress(info) {\n    return { root: cloneTree(info.root), canAbort: canAbort(info.root), requestAbort: info.tryAbort };\n}\nasync function execute(task, ctx) {\n    UserTiming.markStart(task);\n    ctx.node.progress.startedTime = now();\n    try {\n        const ret = await task.f(ctx);\n        UserTiming.markEnd(task);\n        UserTiming.measure(task);\n        if (ctx.info.abortToken.abortRequested) {\n            abort(ctx.info);\n        }\n        return ret;\n    }\n    catch (e) {\n        if (Task.isAbort(e)) {\n            ctx.isAborted = true;\n            // wait for all child computations to go thru the abort phase.\n            if (ctx.node.children.length > 0) {\n                await new Promise(res => { ctx.onChildrenFinished = res; });\n            }\n            if (task.onAbort) {\n                task.onAbort();\n            }\n        }\n        throw e;\n    }\n}\nfunction abort(info) {\n    if (!info.abortToken.treeAborted) {\n        info.abortToken.treeAborted = true;\n        abortTree(info.root);\n        notifyObserver(info, now());\n    }\n    throw Task.Aborted(info.abortToken.reason);\n}\nfunction abortTree(root) {\n    const progress = root.progress;\n    progress.isIndeterminate = true;\n    progress.canAbort = false;\n    progress.message = 'Aborting...';\n    for (const c of root.children)\n        abortTree(c);\n}\n// function shouldNotify(info: ProgressInfo, time: number) {\n//     return time - info.lastNotified > info.updateRateMs;\n// }\nfunction notifyObserver(info, time) {\n    info.lastNotified = time;\n    const snapshot = snapshotProgress(info);\n    info.observer(snapshot);\n}\nclass ObservableRuntimeContext {\n    checkAborted() {\n        if (this.info.abortToken.abortRequested) {\n            this.isAborted = true;\n            abort(this.info);\n        }\n    }\n    get shouldUpdate() {\n        this.checkAborted();\n        return now() - this.lastUpdatedTime > this.info.updateRateMs;\n    }\n    updateProgress(update) {\n        this.checkAborted();\n        if (!update)\n            return;\n        const progress = this.node.progress;\n        if (typeof update === 'string') {\n            progress.message = update;\n            progress.isIndeterminate = true;\n        }\n        else {\n            if (typeof update.canAbort !== 'undefined')\n                progress.canAbort = update.canAbort;\n            if (typeof update.message !== 'undefined')\n                progress.message = update.message;\n            if (typeof update.current !== 'undefined')\n                progress.current = update.current;\n            if (typeof update.max !== 'undefined')\n                progress.max = update.max;\n            progress.isIndeterminate = typeof progress.current === 'undefined' || typeof progress.max === 'undefined';\n            if (typeof update.isIndeterminate !== 'undefined')\n                progress.isIndeterminate = update.isIndeterminate;\n        }\n    }\n    update(progress, dontNotify) {\n        // The progress tracking and observer notification are separated\n        // because the computation can have a tree structure.\n        // All nodes of the tree should be regualarly updated at the specified frequency,\n        // however, the notification should only be invoked once per the whole tree.\n        this.lastUpdatedTime = now();\n        this.updateProgress(progress);\n        // TODO: do the shouldNotify check here?\n        if (!!dontNotify /* || !shouldNotify(this.info, this.lastUpdatedTime)*/)\n            return;\n        notifyObserver(this.info, this.lastUpdatedTime);\n        // The computation could have been aborted during the notifycation phase.\n        this.checkAborted();\n        return Scheduler.immediatePromise();\n    }\n    async runChild(task, progress) {\n        this.updateProgress(progress);\n        // Create a new child context and add it to the progress tree.\n        // When the child task finishes, remove the tree node.\n        const node = { progress: defaultProgress(task), children: [] };\n        const children = this.node.children;\n        children.push(node);\n        const ctx = new ObservableRuntimeContext(this.info, node);\n        try {\n            return await execute(task, ctx);\n        }\n        catch (e) {\n            if (Task.isAbort(e)) {\n                // need to catch the error here because otherwise\n                // promises for running child tasks in a tree-like computation\n                // will get orphaned and cause \"uncaught error in Promise\".\n                if (this.isAborted)\n                    return void 0;\n            }\n            throw e;\n        }\n        finally {\n            // remove the progress node after the computation has finished.\n            const idx = children.indexOf(node);\n            if (idx >= 0) {\n                for (let i = idx, _i = children.length - 1; i < _i; i++) {\n                    children[i] = children[i + 1];\n                }\n                children.pop();\n            }\n            if (children.length === 0 && this.onChildrenFinished)\n                this.onChildrenFinished();\n        }\n    }\n    constructor(info, node) {\n        this.isSynchronous = false;\n        this.isExecuting = true;\n        this.lastUpdatedTime = 0;\n        // used for waiting for cancelled computation trees\n        this.onChildrenFinished = void 0;\n        this.node = node;\n        this.info = info;\n    }\n}\n","/**\n * Copyright (c) 2017 mol* contributors, licensed under MIT, See LICENSE file for more info.\n *\n * @author David Sehnal <david.sehnal@gmail.com>\n */\nexport class SynchronousRuntimeContext {\n    constructor() {\n        this.shouldUpdate = false;\n        this.isSynchronous = true;\n    }\n    update(progress, dontNotify) { }\n}\nexport const SyncRuntimeContext = new SynchronousRuntimeContext();\n","/**\n * Copyright (c) 2017-2018 mol* contributors, licensed under MIT, See LICENSE file for more info.\n *\n * @author David Sehnal <david.sehnal@gmail.com>\n */\nimport { ExecuteObservable, ExecuteObservableChild, ExecuteInContext } from './execution/observable.js';\nimport { SyncRuntimeContext } from './execution/synchronous.js';\nimport { idFactory } from '../mol-util/id-factory.js';\nvar Task;\n(function (Task) {\n    class Impl {\n        run(observer, updateRateMs = 250) {\n            if (observer)\n                return ExecuteObservable(this, observer, updateRateMs);\n            return this.f(SyncRuntimeContext);\n        }\n        runAsChild(ctx, progress) {\n            if (ctx.isSynchronous)\n                return this.f(SyncRuntimeContext);\n            return ExecuteObservableChild(ctx, this, progress);\n        }\n        runInContext(ctx) {\n            if (ctx.isSynchronous)\n                return this.f(SyncRuntimeContext);\n            return ExecuteInContext(ctx, this);\n        }\n        constructor(name, f, onAbort) {\n            this.name = name;\n            this.f = f;\n            this.onAbort = onAbort;\n            this.id = getNextId();\n        }\n    }\n    function is(t) {\n        const _t = t;\n        return !!t && typeof _t.id === 'number' && typeof _t.name === 'string' && !!_t.run;\n    }\n    Task.is = is;\n    function isAbort(e) { return !!e && !!e.isAborted; }\n    Task.isAbort = isAbort;\n    function Aborted(reason) { return { isAborted: true, reason, toString() { return `Aborted${reason ? ': ' + reason : ''}`; } }; }\n    Task.Aborted = Aborted;\n    function create(name, f, onAbort) {\n        return new Impl(name, f, onAbort);\n    }\n    Task.create = create;\n    function constant(name, value) { return create(name, async (ctx) => value); }\n    Task.constant = constant;\n    function empty() { return create('', async (ctx) => { }); }\n    Task.empty = empty;\n    function fail(name, reason) { return create(name, async (ctx) => { throw new Error(reason); }); }\n    Task.fail = fail;\n    function resolveInContext(object, ctx) {\n        if (is(object))\n            return ctx ? object.runInContext(ctx) : object.run();\n        return object;\n    }\n    Task.resolveInContext = resolveInContext;\n    const getNextId = idFactory(0, 0x3fffffff);\n})(Task || (Task = {}));\nexport { Task };\n","/**\n * Copyright (c) 2017 mol* contributors, licensed under MIT, See LICENSE file for more info.\n *\n * @author David Sehnal <david.sehnal@gmail.com>\n */\nimport { SyncRuntimeContext } from './synchronous.js';\nvar RuntimeContext;\n(function (RuntimeContext) {\n    RuntimeContext.Synchronous = SyncRuntimeContext;\n})(RuntimeContext || (RuntimeContext = {}));\nexport { RuntimeContext };\n","/**\n * Copyright (c) 2017 mol* contributors, licensed under MIT, See LICENSE file for more info.\n *\n * @author David Sehnal <david.sehnal@gmail.com>\n */\nvar Progress;\n(function (Progress) {\n    function _format(root, prefix = '') {\n        const p = root.progress;\n        if (!root.children.length) {\n            if (p.isIndeterminate)\n                return `${prefix}${p.taskName}: ${p.message}`;\n            return `${prefix}${p.taskName}: [${p.current}/${p.max}] ${p.message}`;\n        }\n        const newPrefix = prefix + '  |_ ';\n        const subTree = root.children.map(c => _format(c, newPrefix));\n        if (p.isIndeterminate)\n            return `${prefix}${p.taskName}: ${p.message}\\n${subTree.join('\\n')}`;\n        return `${prefix}${p.taskName}: [${p.current}/${p.max}] ${p.message}\\n${subTree.join('\\n')}`;\n    }\n    function format(p) { return _format(p.root); }\n    Progress.format = format;\n})(Progress || (Progress = {}));\nexport { Progress };\n","/**\n * Copyright (c) 2018-2025 mol* contributors, licensed under MIT, See LICENSE file for more info.\n *\n * @author Adam Midlik <midlik@gmail.com>\n * @author Russell Parker <russell@benchling.com>\n *\n * Implements some browser-only global variables for Node.js environment.\n * These workarounds will also work in browsers as usual.\n */\n/** Determines whether the current code is running in Node.js */\nexport const RUNNING_IN_NODEJS = typeof process !== 'undefined' && process.versions != null && process.versions.node != null;\n/** Like `File` but works also in Node.js */\nexport const File_ = getFile();\nfunction getFile() {\n    if (typeof File === 'undefined' || RUNNING_IN_NODEJS) {\n        class File_NodeJs {\n            arrayBuffer() { return this.blob.arrayBuffer(); }\n            slice(start, end, contentType) { return this.blob.slice(start, end, contentType); }\n            stream() { return this.blob.stream(); }\n            text() { return this.blob.text(); }\n            bytes() { return this.blob.bytes(); }\n            constructor(fileBits, fileName, options) {\n                var _a;\n                this.blob = new Blob(fileBits, options);\n                // Blob fields\n                this.size = this.blob.size;\n                this.type = this.blob.type;\n                // File fields\n                this.name = fileName;\n                this.lastModified = (_a = options === null || options === void 0 ? void 0 : options.lastModified) !== null && _a !== void 0 ? _a : 0;\n                this.webkitRelativePath = '';\n            }\n        }\n        return File_NodeJs;\n    }\n    else {\n        return File;\n    }\n}\n","/**\n * Copyright (c) 2020 mol* contributors, licensed under MIT, See LICENSE file for more info.\n *\n * @author Alexander Rose <alexander.rose@weirdbyte.de>\n *\n * ported from https://github.com/photopea/UZIP.js/blob/master/UZIP.js\n * MIT License, Copyright (c) 2018 Photopea\n */\nexport function toUint32(x) {\n    return x >>> 0;\n}\nexport function toInt32(x) {\n    return x >> 0;\n}\nexport function readUshort(buff, p) {\n    return (buff[p]) | (buff[p + 1] << 8);\n}\nexport function writeUshort(buff, p, n) {\n    buff[p] = (n) & 255;\n    buff[p + 1] = (n >> 8) & 255;\n}\nexport function readUint(buff, p) {\n    return (buff[p + 3] * (256 * 256 * 256)) + ((buff[p + 2] << 16) | (buff[p + 1] << 8) | buff[p]);\n}\nexport function writeUint(buff, p, n) {\n    buff[p] = n & 255;\n    buff[p + 1] = (n >> 8) & 255;\n    buff[p + 2] = (n >> 16) & 255;\n    buff[p + 3] = (n >> 24) & 255;\n}\nfunction readASCII(buff, p, l) {\n    let s = '';\n    for (let i = 0; i < l; i++)\n        s += String.fromCharCode(buff[p + i]);\n    return s;\n}\n// function writeASCII(data: Uint8Array, p: number, s: string){\n//     for(let i=0; i<s.length; i++) data[p+i] = s.charCodeAt(i);\n// }\nfunction pad(n) {\n    return n.length < 2 ? '0' + n : n;\n}\nexport function readUTF8(buff, p, l) {\n    let s = '', ns;\n    for (let i = 0; i < l; i++)\n        s += '%' + pad(buff[p + i].toString(16));\n    try {\n        ns = decodeURIComponent(s);\n    }\n    catch (e) {\n        return readASCII(buff, p, l);\n    }\n    return ns;\n}\nexport function writeUTF8(buff, p, str) {\n    const strl = str.length;\n    let i = 0;\n    for (let ci = 0; ci < strl; ci++) {\n        const code = str.charCodeAt(ci);\n        if ((code & (0xffffffff - (1 << 7) + 1)) === 0) {\n            buff[p + i] = (code);\n            i++;\n        }\n        else if ((code & (0xffffffff - (1 << 11) + 1)) === 0) {\n            buff[p + i] = (192 | (code >> 6));\n            buff[p + i + 1] = (128 | ((code >> 0) & 63));\n            i += 2;\n        }\n        else if ((code & (0xffffffff - (1 << 16) + 1)) === 0) {\n            buff[p + i] = (224 | (code >> 12));\n            buff[p + i + 1] = (128 | ((code >> 6) & 63));\n            buff[p + i + 2] = (128 | ((code >> 0) & 63));\n            i += 3;\n        }\n        else if ((code & (0xffffffff - (1 << 21) + 1)) === 0) {\n            buff[p + i] = (240 | (code >> 18));\n            buff[p + i + 1] = (128 | ((code >> 12) & 63));\n            buff[p + i + 2] = (128 | ((code >> 6) & 63));\n            buff[p + i + 3] = (128 | ((code >> 0) & 63));\n            i += 4;\n        }\n        else\n            throw new Error('e');\n    }\n    return i;\n}\nexport function sizeUTF8(str) {\n    const strl = str.length;\n    let i = 0;\n    for (let ci = 0; ci < strl; ci++) {\n        const code = str.charCodeAt(ci);\n        if ((code & (0xffffffff - (1 << 7) + 1)) === 0) {\n            i++;\n        }\n        else if ((code & (0xffffffff - (1 << 11) + 1)) === 0) {\n            i += 2;\n        }\n        else if ((code & (0xffffffff - (1 << 16) + 1)) === 0) {\n            i += 3;\n        }\n        else if ((code & (0xffffffff - (1 << 21) + 1)) === 0) {\n            i += 4;\n        }\n        else {\n            throw new Error('e');\n        }\n    }\n    return i;\n}\n","/**\n * Copyright (c) 2020 mol* contributors, licensed under MIT, See LICENSE file for more info.\n *\n * @author Alexander Rose <alexander.rose@weirdbyte.de>\n *\n * ported from https://github.com/photopea/UZIP.js/blob/master/UZIP.js\n * MIT License, Copyright (c) 2018 Photopea\n */\nconst CrcTable = (function () {\n    const tab = new Uint32Array(256);\n    for (let n = 0; n < 256; n++) {\n        let c = n;\n        for (let k = 0; k < 8; k++) {\n            if (c & 1)\n                c = 0xedb88320 ^ (c >>> 1);\n            else\n                c = c >>> 1;\n        }\n        tab[n] = c;\n    }\n    return tab;\n})();\nfunction _crc(c, buf, off, len) {\n    for (let i = 0; i < len; i++) {\n        c = CrcTable[(c ^ buf[off + i]) & 0xff] ^ (c >>> 8);\n    }\n    return c;\n}\nexport function crc(b, o, l) {\n    return _crc(0xffffffff, b, o, l) ^ 0xffffffff;\n}\nexport function adler(data, o, len) {\n    let a = 1, b = 0;\n    let off = o;\n    const end = o + len;\n    while (off < end) {\n        const eend = Math.min(off + 5552, end);\n        while (off < eend) {\n            a += data[off++];\n            b += a;\n        }\n        a = a % 65521;\n        b = b % 65521;\n    }\n    return (b << 16) | a;\n}\n","/**\n * Copyright (c) 2020-2024 mol* contributors, licensed under MIT, See LICENSE file for more info.\n *\n * @author Alexander Rose <alexander.rose@weirdbyte.de>\n *\n * ported from https://github.com/photopea/UZIP.js/blob/master/UZIP.js\n * MIT License, Copyright (c) 2018 Photopea\n */\nconst hasCompressionStreamSupport = {\n    deflate: undefined,\n    'deflate-raw': undefined,\n    gzip: undefined\n};\nexport function checkCompressionStreamSupport(format) {\n    if (hasCompressionStreamSupport[format] === undefined) {\n        try {\n            new CompressionStream(format);\n            hasCompressionStreamSupport[format] = true;\n        }\n        catch (e) {\n            hasCompressionStreamSupport[format] = false;\n        }\n    }\n    return !!hasCompressionStreamSupport[format];\n}\nexport const U = (function () {\n    const u16 = Uint16Array, u32 = Uint32Array;\n    return {\n        next_code: new u16(16),\n        bl_count: new u16(16),\n        ordr: [16, 17, 18, 0, 8, 7, 9, 6, 10, 5, 11, 4, 12, 3, 13, 2, 14, 1, 15],\n        of0: [3, 4, 5, 6, 7, 8, 9, 10, 11, 13, 15, 17, 19, 23, 27, 31, 35, 43, 51, 59, 67, 83, 99, 115, 131, 163, 195, 227, 258, 999, 999, 999],\n        exb: [0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 2, 2, 2, 2, 3, 3, 3, 3, 4, 4, 4, 4, 5, 5, 5, 5, 0, 0, 0, 0],\n        ldef: new u16(32),\n        df0: [1, 2, 3, 4, 5, 7, 9, 13, 17, 25, 33, 49, 65, 97, 129, 193, 257, 385, 513, 769, 1025, 1537, 2049, 3073, 4097, 6145, 8193, 12289, 16385, 24577, 65535, 65535],\n        dxb: [0, 0, 0, 0, 1, 1, 2, 2, 3, 3, 4, 4, 5, 5, 6, 6, 7, 7, 8, 8, 9, 9, 10, 10, 11, 11, 12, 12, 13, 13, 0, 0],\n        ddef: new u32(32),\n        flmap: new u16(512), fltree: [],\n        fdmap: new u16(32), fdtree: [],\n        lmap: new u16(32768), ltree: [], ttree: [],\n        dmap: new u16(32768), dtree: [],\n        imap: new u16(512), itree: [],\n        // rev9 : new u16(  512)\n        rev15: new u16(1 << 15),\n        lhst: new u32(286), dhst: new u32(30), ihst: new u32(19),\n        lits: new u32(15000),\n        strt: new u16(1 << 16),\n        prev: new u16(1 << 15)\n    };\n})();\n(function () {\n    const len = 1 << 15;\n    for (let i = 0; i < len; i++) {\n        let x = i;\n        x = (((x & 0xaaaaaaaa) >>> 1) | ((x & 0x55555555) << 1));\n        x = (((x & 0xcccccccc) >>> 2) | ((x & 0x33333333) << 2));\n        x = (((x & 0xf0f0f0f0) >>> 4) | ((x & 0x0f0f0f0f) << 4));\n        x = (((x & 0xff00ff00) >>> 8) | ((x & 0x00ff00ff) << 8));\n        U.rev15[i] = (((x >>> 16) | (x << 16))) >>> 17;\n    }\n    function pushV(tgt, n, sv) {\n        while (n-- !== 0)\n            tgt.push(0, sv);\n    }\n    for (let i = 0; i < 32; i++) {\n        U.ldef[i] = (U.of0[i] << 3) | U.exb[i];\n        U.ddef[i] = (U.df0[i] << 4) | U.dxb[i];\n    }\n    pushV(U.fltree, 144, 8);\n    pushV(U.fltree, 255 - 143, 9);\n    pushV(U.fltree, 279 - 255, 7);\n    pushV(U.fltree, 287 - 279, 8);\n    /*\n    var i = 0;\n    for(; i<=143; i++) U.fltree.push(0,8);\n    for(; i<=255; i++) U.fltree.push(0,9);\n    for(; i<=279; i++) U.fltree.push(0,7);\n    for(; i<=287; i++) U.fltree.push(0,8);\n    */\n    makeCodes(U.fltree, 9);\n    codes2map(U.fltree, 9, U.flmap);\n    revCodes(U.fltree, 9);\n    pushV(U.fdtree, 32, 5);\n    // for(i=0;i<32; i++) U.fdtree.push(0,5);\n    makeCodes(U.fdtree, 5);\n    codes2map(U.fdtree, 5, U.fdmap);\n    revCodes(U.fdtree, 5);\n    pushV(U.itree, 19, 0);\n    pushV(U.ltree, 286, 0);\n    pushV(U.dtree, 30, 0);\n    pushV(U.ttree, 320, 0);\n    /*\n    for(var i=0; i< 19; i++) U.itree.push(0,0);\n    for(var i=0; i<286; i++) U.ltree.push(0,0);\n    for(var i=0; i< 30; i++) U.dtree.push(0,0);\n    for(var i=0; i<320; i++) U.ttree.push(0,0);\n    */\n})();\nexport function codes2map(tree, MAX_BITS, map) {\n    const max_code = tree.length;\n    const r15 = U.rev15;\n    for (let i = 0; i < max_code; i += 2) {\n        if (tree[i + 1] !== 0) {\n            const lit = i >> 1;\n            const cl = tree[i + 1], val = (lit << 4) | cl; // :  (0x8000 | (U.of0[lit-257]<<7) | (U.exb[lit-257]<<4) | cl);\n            const rest = (MAX_BITS - cl);\n            let i0 = tree[i] << rest;\n            const i1 = i0 + (1 << rest);\n            // tree[i]=r15[i0]>>>(15-MAX_BITS);\n            while (i0 !== i1) {\n                const p0 = r15[i0] >>> (15 - MAX_BITS);\n                map[p0] = val;\n                i0++;\n            }\n        }\n    }\n}\nexport function makeCodes(tree, MAX_BITS) {\n    const max_code = tree.length;\n    const bl_count = U.bl_count;\n    for (let i = 0; i <= MAX_BITS; i++)\n        bl_count[i] = 0;\n    for (let i = 1; i < max_code; i += 2)\n        bl_count[tree[i]]++;\n    const next_code = U.next_code; // smallest code for each length\n    let code = 0;\n    bl_count[0] = 0;\n    for (let bits = 1; bits <= MAX_BITS; bits++) {\n        code = (code + bl_count[bits - 1]) << 1;\n        next_code[bits] = code;\n    }\n    for (let n = 0; n < max_code; n += 2) {\n        const len = tree[n + 1];\n        if (len !== 0) {\n            tree[n] = next_code[len];\n            next_code[len]++;\n        }\n    }\n}\nexport function revCodes(tree, MAX_BITS) {\n    const r15 = U.rev15, imb = 15 - MAX_BITS;\n    for (let i = 0; i < tree.length; i += 2) {\n        const i0 = (tree[i] << (MAX_BITS - tree[i + 1]));\n        tree[i] = r15[i0] >>> imb;\n    }\n}\n","/**\n * Copyright (c) 2020-2024 mol* contributors, licensed under MIT, See LICENSE file for more info.\n *\n * @author Alexander Rose <alexander.rose@weirdbyte.de>\n *\n * ported from https://github.com/photopea/UZIP.js/blob/master/UZIP.js\n * MIT License, Copyright (c) 2018 Photopea\n */\nimport { U, makeCodes, codes2map, checkCompressionStreamSupport } from './util.js';\nfunction InflateContext(data, buf) {\n    const noBuf = buf === undefined;\n    if (buf === undefined)\n        buf = new Uint8Array((data.length >>> 2) << 3);\n    return {\n        data,\n        buf,\n        noBuf,\n        BFINAL: 0,\n        off: 0,\n        pos: 0\n    };\n}\nfunction inflateBlocks(ctx, count) {\n    const { data, noBuf } = ctx;\n    let { buf, BFINAL, off, pos } = ctx;\n    let iBlock = 0;\n    while (BFINAL === 0 && iBlock < count) {\n        let lmap, dmap;\n        let ML = 0, MD = 0;\n        BFINAL = _bitsF(data, pos, 1);\n        iBlock += 1;\n        const BTYPE = _bitsF(data, pos + 1, 2);\n        pos += 3;\n        if (BTYPE === 0) {\n            // uncompressed block\n            if ((pos & 7) !== 0)\n                pos += 8 - (pos & 7);\n            const p8 = (pos >>> 3) + 4;\n            const len = data[p8 - 4] | (data[p8 - 3] << 8);\n            if (noBuf)\n                buf = _check(buf, off + len);\n            buf.set(new Uint8Array(data.buffer, data.byteOffset + p8, len), off);\n            pos = ((p8 + len) << 3);\n            off += len;\n            continue;\n        }\n        // grow output buffer if not provided\n        if (noBuf)\n            buf = _check(buf, off + (1 << 17));\n        if (BTYPE === 1) {\n            // block compressed with fixed Huffman codes\n            lmap = U.flmap;\n            dmap = U.fdmap;\n            ML = (1 << 9) - 1;\n            MD = (1 << 5) - 1;\n        }\n        else if (BTYPE === 2) {\n            // block compressed with dynamic Huffman codes\n            const HLIT = _bitsE(data, pos, 5) + 257;\n            const HDIST = _bitsE(data, pos + 5, 5) + 1;\n            const HCLEN = _bitsE(data, pos + 10, 4) + 4;\n            pos += 14;\n            for (let i = 0; i < 38; i += 2) {\n                U.itree[i] = 0;\n                U.itree[i + 1] = 0;\n            }\n            let tl = 1;\n            for (let i = 0; i < HCLEN; i++) {\n                const l = _bitsE(data, pos + i * 3, 3);\n                U.itree[(U.ordr[i] << 1) + 1] = l;\n                if (l > tl)\n                    tl = l;\n            }\n            pos += 3 * HCLEN;\n            makeCodes(U.itree, tl);\n            codes2map(U.itree, tl, U.imap);\n            lmap = U.lmap;\n            dmap = U.dmap;\n            pos = _decodeTiny(U.imap, (1 << tl) - 1, HLIT + HDIST, data, pos, U.ttree);\n            const mx0 = _copyOut(U.ttree, 0, HLIT, U.ltree);\n            ML = (1 << mx0) - 1;\n            const mx1 = _copyOut(U.ttree, HLIT, HDIST, U.dtree);\n            MD = (1 << mx1) - 1;\n            makeCodes(U.ltree, mx0);\n            codes2map(U.ltree, mx0, lmap);\n            makeCodes(U.dtree, mx1);\n            codes2map(U.dtree, mx1, dmap);\n        }\n        else {\n            throw new Error(`unknown BTYPE ${BTYPE}`);\n        }\n        while (true) {\n            const code = lmap[_get17(data, pos) & ML];\n            pos += code & 15;\n            const lit = code >>> 4;\n            if ((lit >>> 8) === 0) {\n                buf[off++] = lit;\n            }\n            else if (lit === 256) {\n                break;\n            }\n            else {\n                let end = off + lit - 254;\n                if (lit > 264) {\n                    const ebs = U.ldef[lit - 257];\n                    end = off + (ebs >>> 3) + _bitsE(data, pos, ebs & 7);\n                    pos += ebs & 7;\n                }\n                const dcode = dmap[_get17(data, pos) & MD];\n                pos += dcode & 15;\n                const dlit = dcode >>> 4;\n                const dbs = U.ddef[dlit];\n                const dst = (dbs >>> 4) + _bitsF(data, pos, dbs & 15);\n                pos += dbs & 15;\n                if (noBuf)\n                    buf = _check(buf, off + (1 << 17));\n                while (off < end) {\n                    buf[off] = buf[off++ - dst];\n                    buf[off] = buf[off++ - dst];\n                    buf[off] = buf[off++ - dst];\n                    buf[off] = buf[off++ - dst];\n                }\n                off = end;\n            }\n        }\n    }\n    ctx.buf = buf;\n    ctx.BFINAL = BFINAL;\n    ctx.off = off;\n    ctx.pos = pos;\n}\n// inflating a 44 MB gzip file to 225 MB.\n// Using JS\n// inflate: 570.8759765625 ms\n// inflate: 562.950927734375 ms\n// inflate: 595.06591796875 ms\n// inflate: 584.8740234375 ms\n// inflate: 583.31396484375 ms\n// Using DecompressionStream\n// inflate: 502.001953125 ms\n// inflate: 476.818115234375 ms\n// inflate: 476.68701171875 ms\n// inflate: 422.319091796875 ms\n// inflate: 428.925048828125 ms\n// https://tools.ietf.org/html/rfc1951\nexport async function _inflate(runtime, data, buf) {\n    if (data[0] === 3 && data[1] === 0)\n        return (buf ? buf : new Uint8Array(0));\n    if (checkCompressionStreamSupport('deflate-raw')) {\n        const ds = new DecompressionStream('deflate-raw');\n        const blob = new Blob([data]);\n        const decompressedStream = blob.stream().pipeThrough(ds);\n        let offset = 0;\n        const chunks = [];\n        const reader = decompressedStream.getReader();\n        const readChunk = async () => {\n            const { done, value } = await reader.read();\n            if (done)\n                return;\n            if (runtime.shouldUpdate) {\n                await runtime.update({ message: 'Inflating blocks...', current: offset, max: buf === null || buf === void 0 ? void 0 : buf.length });\n            }\n            if (buf) {\n                buf.set(value, offset);\n            }\n            else {\n                chunks.push(value);\n            }\n            offset += value.length;\n            return readChunk();\n        };\n        await readChunk();\n        if (!buf) {\n            buf = new Uint8Array(offset);\n            for (let i = 0, j = 0; i < chunks.length; i++) {\n                buf.set(chunks[i], j);\n                j += chunks[i].length;\n            }\n        }\n        return buf;\n    }\n    const ctx = InflateContext(data, buf);\n    while (ctx.BFINAL === 0) {\n        if (runtime.shouldUpdate) {\n            await runtime.update({ message: 'Inflating blocks...', current: ctx.pos, max: data.length });\n        }\n        inflateBlocks(ctx, 100);\n    }\n    return ctx.buf.length === ctx.off ? ctx.buf : ctx.buf.slice(0, ctx.off);\n}\nfunction _check(buf, len) {\n    const bl = buf.length;\n    if (len <= bl)\n        return buf;\n    const nbuf = new Uint8Array(Math.max(bl << 1, len));\n    nbuf.set(buf, 0);\n    return nbuf;\n}\nfunction _decodeTiny(lmap, LL, len, data, pos, tree) {\n    let i = 0;\n    while (i < len) {\n        const code = lmap[_get17(data, pos) & LL];\n        pos += code & 15;\n        const lit = code >>> 4;\n        if (lit <= 15) {\n            tree[i] = lit;\n            i++;\n        }\n        else {\n            let ll = 0, n = 0;\n            if (lit === 16) {\n                n = (3 + _bitsE(data, pos, 2));\n                pos += 2;\n                ll = tree[i - 1];\n            }\n            else if (lit === 17) {\n                n = (3 + _bitsE(data, pos, 3));\n                pos += 3;\n            }\n            else if (lit === 18) {\n                n = (11 + _bitsE(data, pos, 7));\n                pos += 7;\n            }\n            const ni = i + n;\n            while (i < ni) {\n                tree[i] = ll;\n                i++;\n            }\n        }\n    }\n    return pos;\n}\nfunction _copyOut(src, off, len, tree) {\n    let mx = 0, i = 0;\n    const tl = tree.length >>> 1;\n    while (i < len) {\n        const v = src[i + off];\n        tree[(i << 1)] = 0;\n        tree[(i << 1) + 1] = v;\n        if (v > mx)\n            mx = v;\n        i++;\n    }\n    while (i < tl) {\n        tree[(i << 1)] = 0;\n        tree[(i << 1) + 1] = 0;\n        i++;\n    }\n    return mx;\n}\nfunction _bitsE(dt, pos, length) {\n    return ((dt[pos >>> 3] | (dt[(pos >>> 3) + 1] << 8)) >>> (pos & 7)) & ((1 << length) - 1);\n}\nfunction _bitsF(dt, pos, length) {\n    return ((dt[pos >>> 3] | (dt[(pos >>> 3) + 1] << 8) | (dt[(pos >>> 3) + 2] << 16)) >>> (pos & 7)) & ((1 << length) - 1);\n}\nfunction _get17(dt, pos) {\n    return (dt[pos >>> 3] | (dt[(pos >>> 3) + 1] << 8) | (dt[(pos >>> 3) + 2] << 16)) >>> (pos & 7);\n}\n","/**\n * Copyright (c) 2020 mol* contributors, licensed under MIT, See LICENSE file for more info.\n *\n * @author Alexander Rose <alexander.rose@weirdbyte.de>\n *\n * ported from https://github.com/photopea/UZIP.js/blob/master/UZIP.js\n * MIT License, Copyright (c) 2018 Photopea\n */\nexport function _hufTree(hst, tree, MAXL) {\n    const list = [];\n    const hl = hst.length, tl = tree.length;\n    for (let i = 0; i < tl; i += 2) {\n        tree[i] = 0;\n        tree[i + 1] = 0;\n    }\n    for (let i = 0; i < hl; i++)\n        if (hst[i] !== 0)\n            list.push({ lit: i, f: hst[i], d: undefined });\n    const end = list.length, l2 = list.slice(0);\n    if (end === 0)\n        return 0; // empty histogram (usually for dist)\n    if (end === 1) {\n        const lit = list[0].lit, l2 = lit === 0 ? 1 : 0;\n        tree[(lit << 1) + 1] = 1;\n        tree[(l2 << 1) + 1] = 1;\n        return 1;\n    }\n    list.sort(function (a, b) { return a.f - b.f; });\n    let a = list[0], b = list[1], i0 = 0, i1 = 1, i2 = 2;\n    list[0] = {\n        lit: -1,\n        f: a.f + b.f,\n        l: a,\n        r: b,\n        d: 0\n    };\n    while (i1 !== end - 1) {\n        if (i0 !== i1 && (i2 === end || list[i0].f < list[i2].f)) {\n            a = list[i0++];\n        }\n        else {\n            a = list[i2++];\n        }\n        if (i0 !== i1 && (i2 === end || list[i0].f < list[i2].f)) {\n            b = list[i0++];\n        }\n        else {\n            b = list[i2++];\n        }\n        list[i1++] = {\n            lit: -1,\n            f: a.f + b.f,\n            l: a,\n            r: b,\n            d: undefined\n        };\n    }\n    let maxl = setDepth(list[i1 - 1], 0);\n    if (maxl > MAXL) {\n        restrictDepth(l2, MAXL, maxl);\n        maxl = MAXL;\n    }\n    for (let i = 0; i < end; i++)\n        tree[(l2[i].lit << 1) + 1] = l2[i].d;\n    return maxl;\n}\nfunction setDepth(t, d) {\n    if (t.lit !== -1) {\n        t.d = d;\n        return d;\n    }\n    return Math.max(setDepth(t.l, d + 1), setDepth(t.r, d + 1));\n}\nfunction restrictDepth(dps, MD, maxl) {\n    let i = 0, dbt = 0;\n    const bCost = 1 << (maxl - MD);\n    dps.sort(function (a, b) { return b.d === a.d ? a.f - b.f : b.d - a.d; });\n    for (i = 0; i < dps.length; i++) {\n        if (dps[i].d > MD) {\n            const od = dps[i].d;\n            dps[i].d = MD;\n            dbt += bCost - (1 << (maxl - od));\n        }\n        else {\n            break;\n        }\n    }\n    dbt = dbt >>> (maxl - MD);\n    while (dbt > 0) {\n        const od = dps[i].d;\n        if (od < MD) {\n            dps[i].d++;\n            dbt -= (1 << (MD - od - 1));\n        }\n        else {\n            i++;\n        }\n    }\n    for (; i >= 0; i--) {\n        if (dps[i].d === MD && dbt < 0) {\n            dps[i].d--;\n            dbt++;\n        }\n    }\n    if (dbt !== 0)\n        console.log('debt left');\n}\n","/**\n * Copyright (c) 2020-2024 mol* contributors, licensed under MIT, See LICENSE file for more info.\n *\n * @author Alexander Rose <alexander.rose@weirdbyte.de>\n *\n * ported from https://github.com/photopea/UZIP.js/blob/master/UZIP.js\n * MIT License, Copyright (c) 2018 Photopea\n */\nimport { assertUnreachable } from '../type-helpers.js';\nimport { _hufTree } from './huffman.js';\nimport { U, revCodes, makeCodes, checkCompressionStreamSupport } from './util.js';\nfunction DeflateContext(data, out, opos, lvl) {\n    const { lits, strt, prev } = U;\n    return {\n        data,\n        out,\n        opt: Opts[lvl],\n        i: 0,\n        pos: opos << 3,\n        cvrd: 0,\n        dlen: data.length,\n        li: 0,\n        lc: 0,\n        bs: 0,\n        ebits: 0,\n        c: 0,\n        nc: 0,\n        lits,\n        strt,\n        prev\n    };\n}\nfunction deflateChunk(ctx, count) {\n    const { data, dlen, out, opt } = ctx;\n    let { i, pos, cvrd, li, lc, bs, ebits, c, nc } = ctx;\n    const { lits, strt, prev } = U;\n    const end = Math.min(i + count, dlen);\n    for (; i < end; i++) {\n        c = nc;\n        if (i + 1 < dlen - 2) {\n            nc = _hash(data, i + 1);\n            const ii = ((i + 1) & 0x7fff);\n            prev[ii] = strt[nc];\n            strt[nc] = ii;\n        }\n        if (cvrd <= i) {\n            if ((li > 14000 || lc > 26697) && (dlen - i) > 100) {\n                if (cvrd < i) {\n                    lits[li] = i - cvrd;\n                    li += 2;\n                    cvrd = i;\n                }\n                pos = _writeBlock(((i === dlen - 1) || (cvrd === dlen)) ? 1 : 0, lits, li, ebits, data, bs, i - bs, out, pos);\n                li = lc = ebits = 0;\n                bs = i;\n            }\n            let mch = 0;\n            if (i < dlen - 2) {\n                mch = _bestMatch(data, i, prev, c, Math.min(opt[2], dlen - i), opt[3]);\n            }\n            if (mch !== 0) {\n                const len = mch >>> 16, dst = mch & 0xffff;\n                const lgi = _goodIndex(len, U.of0);\n                U.lhst[257 + lgi]++;\n                const dgi = _goodIndex(dst, U.df0);\n                U.dhst[dgi]++;\n                ebits += U.exb[lgi] + U.dxb[dgi];\n                lits[li] = (len << 23) | (i - cvrd);\n                lits[li + 1] = (dst << 16) | (lgi << 8) | dgi;\n                li += 2;\n                cvrd = i + len;\n            }\n            else {\n                U.lhst[data[i]]++;\n            }\n            lc++;\n        }\n    }\n    ctx.i = i;\n    ctx.pos = pos;\n    ctx.cvrd = cvrd;\n    ctx.li = li;\n    ctx.lc = lc;\n    ctx.bs = bs;\n    ctx.ebits = ebits;\n    ctx.c = c;\n    ctx.nc = nc;\n}\n/**\n * - good_length: reduce lazy search above this match length;\n * - max_lazy: do not perform lazy search above this match length;\n * - nice_length: quit search above this match length;\n */\nconst Opts = [\n    /*      good lazy nice chain */\n    /* 0 */ [0, 0, 0, 0, 0], /* store only */\n    /* 1 */ [4, 4, 8, 4, 0], /* max speed, no lazy matches */\n    /* 2 */ [4, 5, 16, 8, 0],\n    /* 3 */ [4, 6, 16, 16, 0],\n    /* 4 */ [4, 10, 16, 32, 0], /* lazy matches */\n    /* 5 */ [8, 16, 32, 32, 0],\n    /* 6 */ [8, 16, 128, 128, 0],\n    /* 7 */ [8, 32, 128, 256, 0],\n    /* 8 */ [32, 128, 258, 1024, 1],\n    /* 9 */ [32, 258, 258, 4096, 1] /* max compression */\n];\nexport async function _deflateRaw(runtime, data, out, opos, lvl) {\n    if (checkCompressionStreamSupport('deflate-raw')) {\n        const cs = new CompressionStream('deflate-raw');\n        const blob = new Blob([data]);\n        const compressedStream = blob.stream().pipeThrough(cs);\n        const reader = compressedStream.getReader();\n        let offset = opos;\n        const writeChunk = async () => {\n            const { done, value } = await reader.read();\n            if (done)\n                return;\n            if (runtime.shouldUpdate) {\n                await runtime.update({ message: 'Deflating...', current: offset, max: out.length });\n            }\n            out.set(value, offset);\n            offset += value.length;\n            return writeChunk();\n        };\n        await writeChunk();\n        return offset;\n    }\n    const ctx = DeflateContext(data, out, opos, lvl);\n    const { dlen } = ctx;\n    if (lvl === 0) {\n        let { i, pos } = ctx;\n        while (i < dlen) {\n            const len = Math.min(0xffff, dlen - i);\n            _putsE(out, pos, (i + len === dlen ? 1 : 0));\n            pos = _copyExact(data, i, len, out, pos + 8);\n            i += len;\n        }\n        return pos >>> 3;\n    }\n    if (dlen > 2) {\n        ctx.nc = _hash(data, 0);\n        ctx.strt[ctx.nc] = 0;\n    }\n    while (ctx.i < dlen) {\n        if (runtime.shouldUpdate) {\n            await runtime.update({ message: 'Deflating...', current: ctx.i, max: dlen });\n        }\n        deflateChunk(ctx, 1024 * 1024);\n    }\n    let { li, cvrd, pos } = ctx;\n    const { i, lits, bs, ebits } = ctx;\n    if (bs !== i || data.length === 0) {\n        if (cvrd < i) {\n            lits[li] = i - cvrd;\n            li += 2;\n            cvrd = i;\n        }\n        pos = _writeBlock(1, lits, li, ebits, data, bs, i - bs, out, pos);\n    }\n    while ((pos & 7) !== 0)\n        pos++;\n    return pos >>> 3;\n}\nfunction _bestMatch(data, i, prev, c, nice, chain) {\n    let ci = (i & 0x7fff), pi = prev[ci];\n    // console.log(\"----\", i);\n    let dif = ((ci - pi + (1 << 15)) & 0x7fff);\n    if (pi === ci || c !== _hash(data, i - dif))\n        return 0;\n    let tl = 0, td = 0; // top length, top distance\n    const dlim = Math.min(0x7fff, i);\n    while (dif <= dlim && --chain !== 0 && pi !== ci /* && c==UZIP.F._hash(data,i-dif)*/) {\n        if (tl === 0 || (data[i + tl] === data[i + tl - dif])) {\n            let cl = _howLong(data, i, dif);\n            if (cl > tl) {\n                tl = cl;\n                td = dif;\n                if (tl >= nice)\n                    break; //*\n                if (dif + 2 < cl)\n                    cl = dif + 2;\n                let maxd = 0; // pi does not point to the start of the word\n                for (let j = 0; j < cl - 2; j++) {\n                    const ei = (i - dif + j + (1 << 15)) & 0x7fff;\n                    const li = prev[ei];\n                    const curd = (ei - li + (1 << 15)) & 0x7fff;\n                    if (curd > maxd) {\n                        maxd = curd;\n                        pi = ei;\n                    }\n                }\n            }\n        }\n        ci = pi;\n        pi = prev[ci];\n        dif += ((ci - pi + (1 << 15)) & 0x7fff);\n    }\n    return (tl << 16) | td;\n}\nfunction _howLong(data, i, dif) {\n    if (data[i] !== data[i - dif] || data[i + 1] !== data[i + 1 - dif] || data[i + 2] !== data[i + 2 - dif])\n        return 0;\n    const oi = i, l = Math.min(data.length, i + 258);\n    i += 3;\n    // while(i+4<l && data[i]==data[i-dif] && data[i+1]==data[i+1-dif] && data[i+2]==data[i+2-dif] && data[i+3]==data[i+3-dif]) i+=4;\n    while (i < l && data[i] === data[i - dif])\n        i++;\n    return i - oi;\n}\nfunction _hash(data, i) {\n    return (((data[i] << 8) | data[i + 1]) + (data[i + 2] << 4)) & 0xffff;\n    // var hash_shift = 0, hash_mask = 255;\n    // var h = data[i+1] % 251;\n    // h = (((h << 8) + data[i+2]) % 251);\n    // h = (((h << 8) + data[i+2]) % 251);\n    // h = ((h<<hash_shift) ^ (c) ) & hash_mask;\n    // return h | (data[i]<<8);\n    // return (data[i] | (data[i+1]<<8));\n}\nfunction _writeBlock(BFINAL, lits, li, ebits, data, o0, l0, out, pos) {\n    U.lhst[256]++;\n    const [ML, MD, MH, numl, numd, numh, lset, dset] = getTrees();\n    const cstSize = (((pos + 3) & 7) === 0 ? 0 : 8 - ((pos + 3) & 7)) + 32 + (l0 << 3);\n    const fxdSize = ebits + contSize(U.fltree, U.lhst) + contSize(U.fdtree, U.dhst);\n    let dynSize = ebits + contSize(U.ltree, U.lhst) + contSize(U.dtree, U.dhst);\n    dynSize += 14 + 3 * numh + contSize(U.itree, U.ihst) + (U.ihst[16] * 2 + U.ihst[17] * 3 + U.ihst[18] * 7);\n    for (let j = 0; j < 286; j++)\n        U.lhst[j] = 0;\n    for (let j = 0; j < 30; j++)\n        U.dhst[j] = 0;\n    for (let j = 0; j < 19; j++)\n        U.ihst[j] = 0;\n    const BTYPE = (cstSize < fxdSize && cstSize < dynSize) ? 0 : (fxdSize < dynSize ? 1 : 2);\n    _putsF(out, pos, BFINAL);\n    _putsF(out, pos + 1, BTYPE);\n    pos += 3;\n    // let opos = pos;\n    if (BTYPE === 0) {\n        while ((pos & 7) !== 0)\n            pos++;\n        pos = _copyExact(data, o0, l0, out, pos);\n    }\n    else {\n        let ltree, dtree;\n        if (BTYPE === 1) {\n            ltree = U.fltree;\n            dtree = U.fdtree;\n        }\n        else if (BTYPE === 2) {\n            makeCodes(U.ltree, ML);\n            revCodes(U.ltree, ML);\n            makeCodes(U.dtree, MD);\n            revCodes(U.dtree, MD);\n            makeCodes(U.itree, MH);\n            revCodes(U.itree, MH);\n            ltree = U.ltree;\n            dtree = U.dtree;\n            _putsE(out, pos, numl - 257);\n            pos += 5; // 286\n            _putsE(out, pos, numd - 1);\n            pos += 5; // 30\n            _putsE(out, pos, numh - 4);\n            pos += 4; // 19\n            for (let i = 0; i < numh; i++)\n                _putsE(out, pos + i * 3, U.itree[(U.ordr[i] << 1) + 1]);\n            pos += 3 * numh;\n            pos = _codeTiny(lset, U.itree, out, pos);\n            pos = _codeTiny(dset, U.itree, out, pos);\n        }\n        else {\n            assertUnreachable(BTYPE);\n        }\n        let off = o0;\n        for (let si = 0; si < li; si += 2) {\n            const qb = lits[si], len = (qb >>> 23), end = off + (qb & ((1 << 23) - 1));\n            while (off < end)\n                pos = _writeLit(data[off++], ltree, out, pos);\n            if (len !== 0) {\n                const qc = lits[si + 1], dst = (qc >> 16), lgi = (qc >> 8) & 255, dgi = (qc & 255);\n                pos = _writeLit(257 + lgi, ltree, out, pos);\n                _putsE(out, pos, len - U.of0[lgi]);\n                pos += U.exb[lgi];\n                pos = _writeLit(dgi, dtree, out, pos);\n                _putsF(out, pos, dst - U.df0[dgi]);\n                pos += U.dxb[dgi];\n                off += len;\n            }\n        }\n        pos = _writeLit(256, ltree, out, pos);\n    }\n    // console.log(pos-opos, fxdSize, dynSize, cstSize);\n    return pos;\n}\nfunction _copyExact(data, off, len, out, pos) {\n    let p8 = (pos >>> 3);\n    out[p8] = (len);\n    out[p8 + 1] = (len >>> 8);\n    out[p8 + 2] = 255 - out[p8];\n    out[p8 + 3] = 255 - out[p8 + 1];\n    p8 += 4;\n    out.set(new Uint8Array(data.buffer, off, len), p8);\n    // for(var i=0; i<len; i++) out[p8+i]=data[off+i];\n    return pos + ((len + 4) << 3);\n}\n/*\n    Interesting facts:\n    - decompressed block can have bytes, which do not occur in a Huffman tree (copied from the previous block by reference)\n*/\nfunction getTrees() {\n    const ML = _hufTree(U.lhst, U.ltree, 15);\n    const MD = _hufTree(U.dhst, U.dtree, 15);\n    const lset = [];\n    const numl = _lenCodes(U.ltree, lset);\n    const dset = [];\n    const numd = _lenCodes(U.dtree, dset);\n    for (let i = 0; i < lset.length; i += 2)\n        U.ihst[lset[i]]++;\n    for (let i = 0; i < dset.length; i += 2)\n        U.ihst[dset[i]]++;\n    const MH = _hufTree(U.ihst, U.itree, 7);\n    let numh = 19;\n    while (numh > 4 && U.itree[(U.ordr[numh - 1] << 1) + 1] === 0)\n        numh--;\n    return [ML, MD, MH, numl, numd, numh, lset, dset];\n}\nfunction contSize(tree, hst) {\n    let s = 0;\n    for (let i = 0; i < hst.length; i++)\n        s += hst[i] * tree[(i << 1) + 1];\n    return s;\n}\nfunction _codeTiny(set, tree, out, pos) {\n    for (let i = 0; i < set.length; i += 2) {\n        const l = set[i], rst = set[i + 1]; // console.log(l, pos, tree[(l<<1)+1]);\n        pos = _writeLit(l, tree, out, pos);\n        const rsl = l === 16 ? 2 : (l === 17 ? 3 : 7);\n        if (l > 15) {\n            _putsE(out, pos, rst);\n            pos += rsl;\n        }\n    }\n    return pos;\n}\nfunction _lenCodes(tree, set) {\n    let len = tree.length;\n    while (len !== 2 && tree[len - 1] === 0)\n        len -= 2; // when no distances, keep one code with length 0\n    for (let i = 0; i < len; i += 2) {\n        const l = tree[i + 1], nxt = (i + 3 < len ? tree[i + 3] : -1), nnxt = (i + 5 < len ? tree[i + 5] : -1), prv = (i === 0 ? -1 : tree[i - 1]);\n        if (l === 0 && nxt === l && nnxt === l) {\n            let lz = i + 5;\n            while (lz + 2 < len && tree[lz + 2] === l)\n                lz += 2;\n            const zc = Math.min((lz + 1 - i) >>> 1, 138);\n            if (zc < 11)\n                set.push(17, zc - 3);\n            else\n                set.push(18, zc - 11);\n            i += zc * 2 - 2;\n        }\n        else if (l === prv && nxt === l && nnxt === l) {\n            let lz = i + 5;\n            while (lz + 2 < len && tree[lz + 2] === l)\n                lz += 2;\n            const zc = Math.min((lz + 1 - i) >>> 1, 6);\n            set.push(16, zc - 3);\n            i += zc * 2 - 2;\n        }\n        else {\n            set.push(l, 0);\n        }\n    }\n    return len >>> 1;\n}\nfunction _goodIndex(v, arr) {\n    let i = 0;\n    if (arr[i | 16] <= v)\n        i |= 16;\n    if (arr[i | 8] <= v)\n        i |= 8;\n    if (arr[i | 4] <= v)\n        i |= 4;\n    if (arr[i | 2] <= v)\n        i |= 2;\n    if (arr[i | 1] <= v)\n        i |= 1;\n    return i;\n}\nfunction _writeLit(ch, ltree, out, pos) {\n    _putsF(out, pos, ltree[ch << 1]);\n    return pos + ltree[(ch << 1) + 1];\n}\nfunction _putsE(dt, pos, val) {\n    val = val << (pos & 7);\n    const o = (pos >>> 3);\n    dt[o] |= val;\n    dt[o + 1] |= (val >>> 8);\n}\nfunction _putsF(dt, pos, val) {\n    val = val << (pos & 7);\n    const o = (pos >>> 3);\n    dt[o] |= val;\n    dt[o + 1] |= (val >>> 8);\n    dt[o + 2] |= (val >>> 16);\n}\n","/**\n * Copyright (c) 2020-2024 mol* contributors, licensed under MIT, See LICENSE file for more info.\n *\n * @author Alexander Rose <alexander.rose@weirdbyte.de>\n *\n * ported from https://github.com/photopea/UZIP.js/blob/master/UZIP.js\n * MIT License, Copyright (c) 2018 Photopea\n *\n * - added `ungzip`\n */\nimport { writeUint, writeUshort, sizeUTF8, writeUTF8, readUshort, readUint, readUTF8, toInt32 } from './bin.js';\nimport { crc, adler } from './checksum.js';\nimport { _inflate } from './inflate.js';\nimport { _deflateRaw } from './deflate.js';\nimport { Task } from '../../mol-task/index.js';\nexport function Unzip(buf, onlyNames = false) {\n    return Task.create('Unzip', ctx => unzip(ctx, buf, onlyNames));\n}\nexport async function unzip(runtime, buf, onlyNames = false) {\n    const out = Object.create(null);\n    const data = new Uint8Array(buf);\n    if (readUshort(data, 0) !== 0x4b50) {\n        throw new Error('Invalid ZIP file. A valid ZIP file must start with two magic bytes \\\\x50\\\\x4b (\"PK\" in ASCII).');\n    }\n    let eocd = data.length - 4;\n    while (readUint(data, eocd) !== 0x06054b50)\n        eocd--;\n    let o = eocd;\n    o += 4; // sign  = 0x06054b50\n    o += 4; // disks = 0;\n    const cnu = readUshort(data, o);\n    o += 2;\n    // const cnt = readUshort(data, o);\n    o += 2;\n    // const csize = readUint(data, o);\n    o += 4;\n    const coffs = readUint(data, o);\n    o += 4;\n    o = coffs;\n    for (let i = 0; i < cnu; i++) {\n        // const sign = readUint(data, o);\n        o += 4;\n        o += 4; // versions;\n        o += 4; // flag + compr\n        o += 4; // time\n        // const crc32 = readUint(data, o);\n        o += 4;\n        // const csize = readUint(data, o);\n        o += 4;\n        // const usize = readUint(data, o);\n        o += 4;\n        const nl = readUshort(data, o);\n        const el = readUshort(data, o + 2);\n        const cl = readUshort(data, o + 4);\n        o += 6; // name, extra, comment\n        o += 8; // disk, attribs\n        const roff = readUint(data, o);\n        o += 4;\n        o += nl + el + cl;\n        await _readLocal(runtime, data, roff, out, onlyNames);\n    }\n    // console.log(out);\n    return out;\n}\nasync function _readLocal(runtime, data, o, out, onlyNames) {\n    // const sign  = readUint(data, o);\n    o += 4;\n    // const ver   = readUshort(data, o);\n    o += 2;\n    // const gpflg = readUshort(data, o);\n    o += 2;\n    // if((gpflg&8)!=0) throw \"unknown sizes\";\n    const cmpr = readUshort(data, o);\n    o += 2;\n    // const time  = readUint(data, o);\n    o += 4;\n    // const crc32 = readUint(data, o);\n    o += 4;\n    const csize = readUint(data, o);\n    o += 4;\n    const usize = readUint(data, o);\n    o += 4;\n    const nlen = readUshort(data, o);\n    o += 2;\n    const elen = readUshort(data, o);\n    o += 2;\n    const name = readUTF8(data, o, nlen);\n    // console.log({ name, nlen, elen });\n    o += nlen;\n    o += elen;\n    if (onlyNames) {\n        out[name] = { size: usize, csize };\n        return;\n    }\n    const file = new Uint8Array(data.buffer, o, csize);\n    if (cmpr === 0) {\n        out[name] = file;\n    }\n    else if (cmpr === 8) {\n        const buf = new Uint8Array(usize);\n        await inflateRaw(runtime, file, buf);\n        out[name] = buf;\n    }\n    else {\n        throw new Error(`unknown compression method: ${cmpr}`);\n    }\n}\nexport async function inflateRaw(runtime, file, buf) {\n    return _inflate(runtime, file, buf);\n}\nexport function inflate(runtime, file, buf) {\n    // const CMF = file[0]\n    // const FLG = file[1]\n    // const CM = (CMF&15)\n    // const CINFO = (CMF>>>4);\n    // console.log(CM, CINFO,CMF,FLG);\n    return inflateRaw(runtime, new Uint8Array(file.buffer, file.byteOffset + 2, file.length - 6), buf);\n}\n// https://tools.ietf.org/html/rfc1952\nexport async function ungzip(runtime, file, buf) {\n    // const id1 = file[0]\n    // const id2 = file[1]\n    // const cm = file[2]\n    const flg = file[3];\n    // const mtime = readUint(file, 4)\n    // const xfl = file[8]\n    // const os = file[9]\n    let o = 10;\n    if (flg & 4) { // FEXTRA\n        const xlen = readUshort(file, o);\n        // console.log('FEXTRA', xlen)\n        o += xlen;\n    }\n    if (flg & 8) { // FNAME\n        let zero = o;\n        while (file[zero] !== 0)\n            ++zero;\n        // const name = readUTF8(file, o, zero - o)\n        // console.log('FNAME', name, zero - o)\n        o = zero + 1;\n    }\n    if (flg & 16) { // FCOMMENT\n        let zero = o;\n        while (file[zero] !== 0)\n            ++zero;\n        // const comment = readUTF8(file, o, zero - o)\n        // console.log('FCOMMENT', comment)\n        o = zero + 1;\n    }\n    if (flg & 1) { // FHCRC\n        // const hcrc = readUshort(file, o)\n        // console.log('FHCRC', hcrc)\n        o += 2;\n    }\n    const crc32 = toInt32(readUint(file, file.length - 8));\n    const isize = readUint(file, file.length - 4);\n    if (buf === undefined)\n        buf = new Uint8Array(isize);\n    const blocks = new Uint8Array(file.buffer, file.byteOffset + o, file.length - o - 8);\n    const inflated = await inflateRaw(runtime, blocks, buf);\n    const crcValue = crc(inflated, 0, inflated.length);\n    if (crc32 !== crcValue) {\n        console.error(\"ungzip: checksums don't match\");\n    }\n    return inflated;\n}\nexport async function deflate(runtime, data, opts /* , buf, off*/) {\n    if (opts === undefined)\n        opts = { level: 6 };\n    let off = 0;\n    const buf = new Uint8Array(50 + Math.floor(data.length * 1.1));\n    buf[off] = 120;\n    buf[off + 1] = 156;\n    off += 2;\n    off = await _deflateRaw(runtime, data, buf, off, opts.level);\n    const crcValue = adler(data, 0, data.length);\n    buf[off + 0] = ((crcValue >>> 24) & 255);\n    buf[off + 1] = ((crcValue >>> 16) & 255);\n    buf[off + 2] = ((crcValue >>> 8) & 255);\n    buf[off + 3] = ((crcValue >>> 0) & 255);\n    return new Uint8Array(buf.buffer, 0, off + 4);\n}\nasync function deflateRaw(runtime, data, opts) {\n    if (opts === undefined)\n        opts = { level: 6 };\n    const buf = new Uint8Array(50 + Math.floor(data.length * 1.1));\n    const off = await _deflateRaw(runtime, data, buf, 0, opts.level);\n    return new Uint8Array(buf.buffer, 0, off);\n}\nexport function Zip(obj, noCmpr = false) {\n    return Task.create('Zip', ctx => zip(ctx, obj, noCmpr));\n}\nexport async function zip(runtime, obj, noCmpr = false) {\n    let tot = 0;\n    const zpd = {};\n    for (const p in obj) {\n        const cpr = !_noNeed(p) && !noCmpr, buf = obj[p];\n        const crcValue = crc(buf, 0, buf.length);\n        zpd[p] = {\n            cpr,\n            usize: buf.length,\n            crc: crcValue,\n            file: (cpr ? await deflateRaw(runtime, buf) : buf)\n        };\n    }\n    for (const p in zpd)\n        tot += zpd[p].file.length + 30 + 46 + 2 * sizeUTF8(p);\n    tot += 22;\n    const data = new Uint8Array(tot);\n    let o = 0;\n    const fof = [];\n    for (const p in zpd) {\n        const file = zpd[p];\n        fof.push(o);\n        o = _writeHeader(data, o, p, file, 0);\n    }\n    let i = 0;\n    const ioff = o;\n    for (const p in zpd) {\n        const file = zpd[p];\n        fof.push(o);\n        o = _writeHeader(data, o, p, file, 1, fof[i++]);\n    }\n    const csize = o - ioff;\n    writeUint(data, o, 0x06054b50);\n    o += 4;\n    o += 4; // disks\n    writeUshort(data, o, i);\n    o += 2;\n    writeUshort(data, o, i);\n    o += 2; // number of c d records\n    writeUint(data, o, csize);\n    o += 4;\n    writeUint(data, o, ioff);\n    o += 4;\n    o += 2;\n    return data.buffer;\n}\n// no need to compress .PNG, .ZIP, .JPEG ....\nfunction _noNeed(fn) {\n    const ext = fn.split('.').pop().toLowerCase();\n    return 'png,jpg,jpeg,zip'.indexOf(ext) !== -1;\n}\nfunction _writeHeader(data, o, p, obj, t, roff = 0) {\n    const file = obj.file;\n    writeUint(data, o, t === 0 ? 0x04034b50 : 0x02014b50);\n    o += 4; // sign\n    if (t === 1)\n        o += 2; // ver made by\n    writeUshort(data, o, 20);\n    o += 2; // ver\n    writeUshort(data, o, 0);\n    o += 2; // gflip\n    writeUshort(data, o, obj.cpr ? 8 : 0);\n    o += 2; // cmpr\n    writeUint(data, o, 0);\n    o += 4; // time\n    writeUint(data, o, obj.crc);\n    o += 4; // crc32\n    writeUint(data, o, file.length);\n    o += 4; // csize\n    writeUint(data, o, obj.usize);\n    o += 4; // usize\n    writeUshort(data, o, sizeUTF8(p));\n    o += 2; // nlen\n    writeUshort(data, o, 0);\n    o += 2; // elen\n    if (t === 1) {\n        o += 2; // comment length\n        o += 2; // disk number\n        o += 6; // attributes\n        writeUint(data, o, roff);\n        o += 4; // usize\n    }\n    const nlen = writeUTF8(data, o, p);\n    o += nlen;\n    if (t === 0) {\n        data.set(file, o);\n        o += file.length;\n    }\n    return o;\n}\n","/**\n * Copyright (c) 2018-2025 mol* contributors, licensed under MIT, See LICENSE file for more info.\n *\n * @author David Sehnal <david.sehnal@gmail.com>\n * @author Alexander Rose <alexander.rose@weirdbyte.de>\n * @author Adam Midlik <midlik@gmail.com>\n *\n * Adapted from LiteMol\n */\nimport { utf8Read, utf8ReadLong } from '../mol-io/common/utf8.js';\nimport { Task } from '../mol-task/index.js';\nimport { Asset } from './assets.js';\nimport { RUNNING_IN_NODEJS } from './nodejs-shims.js';\nimport { ungzip, unzip } from './zip/zip.js';\nexport var DataCompressionMethod;\n(function (DataCompressionMethod) {\n    DataCompressionMethod[DataCompressionMethod[\"None\"] = 0] = \"None\";\n    DataCompressionMethod[DataCompressionMethod[\"Gzip\"] = 1] = \"Gzip\";\n    DataCompressionMethod[DataCompressionMethod[\"Zip\"] = 2] = \"Zip\";\n})(DataCompressionMethod || (DataCompressionMethod = {}));\nexport function readStringFromFile(file) {\n    return readFromFileInternal(file, 'string');\n}\nexport function readUint8ArrayFromFile(file) {\n    return readFromFileInternal(file, 'binary');\n}\nexport function readFromFile(file, type) {\n    return readFromFileInternal(file, type);\n}\nexport function ajaxGet(params) {\n    if (typeof params === 'string')\n        return ajaxGetInternal(params, params, 'string');\n    return ajaxGetInternal(params.title, params.url, params.type || 'string', params.body, params.headers);\n}\nfunction isDone(data) {\n    if (RUNNING_IN_NODEJS)\n        throw new Error('`isDone` should not be used when running in Node.js'); // XMLHttpRequest and FileReader are not available in Node.js\n    if (data instanceof FileReader) {\n        return data.readyState === FileReader.DONE;\n    }\n    else if (data instanceof XMLHttpRequest) {\n        return data.readyState === XMLHttpRequest.DONE;\n    }\n    throw new Error('unknown data type');\n}\nfunction genericError(isDownload) {\n    if (isDownload)\n        return 'Failed to download data. Possible reasons: Resource is not available, or CORS is not allowed on the server.';\n    return 'Failed to open file.';\n}\nfunction readData(ctx, action, data) {\n    if (RUNNING_IN_NODEJS)\n        throw new Error('`readData` should not be used when running in Node.js'); // XMLHttpRequest is not available in Node.js\n    return new Promise((resolve, reject) => {\n        // first check if data reading is already done\n        if (isDone(data)) {\n            const { error } = data;\n            if (error !== null && error !== undefined) {\n                reject(error !== null && error !== void 0 ? error : genericError(data instanceof XMLHttpRequest));\n            }\n            else {\n                resolve(data);\n            }\n            return;\n        }\n        let hasError = false;\n        data.onerror = (e) => {\n            if (hasError)\n                return;\n            const { error } = e.target;\n            reject(error !== null && error !== void 0 ? error : genericError(data instanceof XMLHttpRequest));\n        };\n        data.onprogress = (e) => {\n            if (!ctx.shouldUpdate || hasError)\n                return;\n            try {\n                if (e.lengthComputable) {\n                    ctx.update({ message: action, isIndeterminate: false, current: e.loaded, max: e.total });\n                }\n                else {\n                    ctx.update({ message: `${action} ${(e.loaded / 1024 / 1024).toFixed(2)} MB`, isIndeterminate: true });\n                }\n            }\n            catch (e) {\n                hasError = true;\n                reject(e);\n            }\n        };\n        data.onload = (e) => {\n            resolve(data);\n        };\n    });\n}\nfunction getCompression(name) {\n    return /\\.gz$/i.test(name) ? DataCompressionMethod.Gzip :\n        /\\.zip$/i.test(name) ? DataCompressionMethod.Zip :\n            DataCompressionMethod.None;\n}\nconst reFilterPath = /^(__MACOSX|.DS_Store)/;\nasync function decompress(ctx, data, compression) {\n    switch (compression) {\n        case DataCompressionMethod.None: return data;\n        case DataCompressionMethod.Gzip: return ungzip(ctx, data);\n        case DataCompressionMethod.Zip:\n            const parsed = await unzip(ctx, data.buffer);\n            const names = Object.keys(parsed).filter(n => !reFilterPath.test(n));\n            if (names.length !== 1)\n                throw new Error('can only decompress zip files with a single entry');\n            return parsed[names[0]];\n    }\n}\nasync function processFile(ctx, fileContent, type, compression) {\n    if (fileContent === null)\n        throw new Error('no data given');\n    let data = new Uint8Array(fileContent);\n    if (compression !== DataCompressionMethod.None && type !== 'zip') { // if type==='zip', data will be decompressed later\n        data = await decompress(ctx, data, compression);\n    }\n    if (type === 'binary') {\n        return data;\n    }\n    else if (type === 'zip') {\n        return await unzip(ctx, data.buffer);\n    }\n    else if (type === 'string') {\n        return utf8ReadLong(data);\n    }\n    else if (type === 'xml') {\n        const parser = new DOMParser();\n        return parser.parseFromString(utf8Read(data), 'application/xml');\n    }\n    else if (type === 'json') {\n        return JSON.parse(utf8Read(data));\n    }\n    throw new Error(`could not get requested response data '${type}'`);\n}\nfunction readFromFileInternal(file, type) {\n    if (RUNNING_IN_NODEJS) {\n        return readFromFileInternal_NodeJS(file, type);\n    }\n    let reader = void 0;\n    return Task.create('Read File', async (ctx) => {\n        try {\n            await ctx.update({ message: 'Opening file...', canAbort: true });\n            reader = new FileReader();\n            reader.readAsArrayBuffer(file);\n            const fileReader = await readData(ctx, 'Reading...', reader);\n            const fileContent = fileReader.result;\n            await ctx.update({ message: 'Processing file...', canAbort: false });\n            return await processFile(ctx, fileContent, type, getCompression(file.name));\n        }\n        finally {\n            reader = void 0;\n        }\n    }, () => {\n        if (reader)\n            reader.abort();\n    });\n}\nfunction readFromFileInternal_NodeJS(file, type) {\n    return Task.create('Read File', async (ctx) => {\n        await ctx.update({ message: 'Opening file...', canAbort: false });\n        const fileContent = await file.arrayBuffer();\n        await ctx.update({ message: 'Processing file...', canAbort: false });\n        return await processFile(ctx, fileContent, type, getCompression(file.name));\n    });\n}\nclass RequestPool {\n    static get() {\n        if (RUNNING_IN_NODEJS)\n            throw new Error('`RequestPool.get` should not be used when running in Node.js'); // XMLHttpRequest is not available in Node.js\n        if (this.pool.length) {\n            return this.pool.pop();\n        }\n        return new XMLHttpRequest();\n    }\n    static emptyFunc() { }\n    static deposit(req) {\n        if (this.pool.length < this.poolSize) {\n            req.onabort = RequestPool.emptyFunc;\n            req.onerror = RequestPool.emptyFunc;\n            req.onload = RequestPool.emptyFunc;\n            req.onprogress = RequestPool.emptyFunc;\n            this.pool.push(req);\n        }\n    }\n}\nRequestPool.pool = [];\nRequestPool.poolSize = 15;\nfunction processAjax(req, type) {\n    if (req.status >= 200 && req.status < 400) {\n        const { response } = req;\n        RequestPool.deposit(req);\n        if ((type === 'binary' || type === 'zip') && response instanceof ArrayBuffer) {\n            return new Uint8Array(response);\n        }\n        else if (type === 'string' && typeof response === 'string') {\n            return response;\n        }\n        else if (type === 'xml' && response instanceof XMLDocument) {\n            return response;\n        }\n        else if (type === 'json' && typeof response === 'object') {\n            return response;\n        }\n        throw new Error(`could not get requested response data '${type}'`);\n    }\n    else {\n        RequestPool.deposit(req);\n        throw new Error(`Download failed with status code ${req.status}`);\n    }\n}\nfunction getRequestResponseType(type) {\n    switch (type) {\n        case 'json': return 'json';\n        case 'xml': return 'document';\n        case 'string': return 'text';\n        case 'binary': return 'arraybuffer';\n        case 'zip': return 'arraybuffer';\n    }\n}\nfunction ajaxGetInternal(title, url, type, body, headers) {\n    if (RUNNING_IN_NODEJS) {\n        if (url.startsWith('file://')) {\n            return ajaxGetInternal_file_NodeJS(title, url, type, body, headers);\n        }\n        else {\n            return ajaxGetInternal_http_NodeJS(title, url, type, body, headers);\n        }\n    }\n    let xhttp = void 0;\n    return Task.create(title ? title : 'Download', async (ctx) => {\n        xhttp = RequestPool.get();\n        xhttp.open(body ? 'post' : 'get', url, true);\n        if (headers) {\n            for (const [name, value] of headers) {\n                xhttp.setRequestHeader(name, value);\n            }\n        }\n        xhttp.responseType = getRequestResponseType(type);\n        xhttp.send(body);\n        await ctx.update({ message: 'Waiting for server...', canAbort: true });\n        const req = await readData(ctx, 'Downloading...', xhttp);\n        xhttp = void 0; // guard against reuse, help garbage collector\n        await ctx.update({ message: 'Parsing response...', canAbort: false });\n        const result = processAjax(req, type);\n        return result;\n    }, () => {\n        if (xhttp) {\n            xhttp.abort();\n            xhttp = void 0; // guard against reuse, help garbage collector\n        }\n    });\n}\n// NOTE: a workaround for using this in Node.js\nlet _fs = undefined;\nfunction getFS() {\n    if (!_fs) {\n        throw new Error('When running in Node.js and reading from files, call mol-util/data-source\\'s setFSModule function first.');\n    }\n    return _fs;\n}\nexport function setFSModule(fs) {\n    _fs = fs;\n}\nfunction readFileAsync(filename) {\n    return new Promise((resolve, reject) => {\n        getFS().readFile(filename, (err, data) => {\n            if (err)\n                reject(err);\n            else\n                resolve(data);\n        });\n    });\n}\n/** Alternative implementation of ajaxGetInternal for NodeJS for file:// protocol */\nfunction ajaxGetInternal_file_NodeJS(title, url, type, body, headers) {\n    if (!RUNNING_IN_NODEJS)\n        throw new Error('This function should only be used when running in Node.js');\n    if (!url.startsWith('file://'))\n        throw new Error('This function is only for URLs with protocol file://');\n    return Task.create(title !== null && title !== void 0 ? title : 'Download', async (ctx) => {\n        const filename = url.substring('file://'.length);\n        await ctx.update({ message: 'Loading file...', canAbort: false });\n        const data = await readFileAsync(filename);\n        await ctx.update({ message: 'Parsing response...', canAbort: false });\n        const result = await processFile(ctx, data.buffer, type, DataCompressionMethod.None);\n        return result;\n    });\n}\n/** Alternative implementation of ajaxGetInternal for NodeJS for http(s):// protocol */\nfunction ajaxGetInternal_http_NodeJS(title, url, type, body, headers) {\n    if (!RUNNING_IN_NODEJS)\n        throw new Error('This function should only be used when running in Node.js');\n    const aborter = new AbortController();\n    return Task.create(title !== null && title !== void 0 ? title : 'Download', async (ctx) => {\n        await ctx.update({ message: 'Downloading...', canAbort: true });\n        const response = await fetch(url, { signal: aborter.signal });\n        if (!(response.status >= 200 && response.status < 400)) {\n            throw new Error(`Download failed with status code ${response.status}`);\n        }\n        const fileContent = await response.bytes();\n        await ctx.update({ message: 'Parsing response...', canAbort: false });\n        const result = await processFile(ctx, fileContent.buffer, type, DataCompressionMethod.None);\n        return result;\n    }, () => {\n        aborter.abort();\n    });\n}\nexport async function ajaxGetMany(ctx, assetManager, sources, maxConcurrency) {\n    const len = sources.length;\n    const slots = new Array(sources.length);\n    await ctx.update({ message: 'Downloading...', current: 0, max: len });\n    let promises = [], promiseKeys = [];\n    let currentSrc = 0;\n    for (let _i = Math.min(len, maxConcurrency); currentSrc < _i; currentSrc++) {\n        const current = sources[currentSrc];\n        promises.push(wrapPromise(currentSrc, current.id, assetManager.resolve(Asset.getUrlAsset(assetManager, current.url), current.isBinary ? 'binary' : 'string').runAsChild(ctx)));\n        promiseKeys.push(currentSrc);\n    }\n    let done = 0;\n    while (promises.length > 0) {\n        const r = await Promise.race(promises);\n        const src = sources[r.index];\n        const idx = promiseKeys.indexOf(r.index);\n        done++;\n        if (r.kind === 'error' && !src.canFail) {\n            // TODO: cancel other downloads\n            throw new Error(`${src.url}: ${r.error}`);\n        }\n        if (ctx.shouldUpdate) {\n            await ctx.update({ message: 'Downloading...', current: done, max: len });\n        }\n        slots[r.index] = r;\n        promises = promises.filter(_filterRemoveIndex, idx);\n        promiseKeys = promiseKeys.filter(_filterRemoveIndex, idx);\n        if (currentSrc < len) {\n            const current = sources[currentSrc];\n            const asset = assetManager.resolve(Asset.getUrlAsset(assetManager, current.url), current.isBinary ? 'binary' : 'string').runAsChild(ctx);\n            promises.push(wrapPromise(currentSrc, current.id, asset));\n            promiseKeys.push(currentSrc);\n            currentSrc++;\n        }\n    }\n    return slots;\n}\nfunction _filterRemoveIndex(_, i) {\n    return this !== i;\n}\nasync function wrapPromise(index, id, p) {\n    try {\n        const result = await p;\n        return { kind: 'ok', result, index, id };\n    }\n    catch (error) {\n        return { kind: 'error', error, index, id };\n    }\n}\n","/**\n * Copyright (c) 2020-2025 mol* contributors, licensed under MIT, See LICENSE file for more info.\n *\n * @author David Sehnal <david.sehnal@gmail.com>\n * @author Alexander Rose <alexander.rose@weirdbyte.de>\n */\nimport { UUID } from './uuid.js';\nimport { ajaxGet, readFromFile } from './data-source.js';\nimport { Task } from '../mol-task/index.js';\nimport { File_ as File } from './nodejs-shims.js';\nimport { iterableToArray } from '../mol-data/util/array.js';\nexport { AssetManager, Asset };\nvar Asset;\n(function (Asset) {\n    function Url(url, options) {\n        return { kind: 'url', id: UUID.create22(), url, ...options };\n    }\n    Asset.Url = Url;\n    function File(file) {\n        return { kind: 'file', id: UUID.create22(), name: file.name, file };\n    }\n    Asset.File = File;\n    function isUrl(x) {\n        return (x === null || x === void 0 ? void 0 : x.kind) === 'url';\n    }\n    Asset.isUrl = isUrl;\n    function isFile(x) {\n        return (x === null || x === void 0 ? void 0 : x.kind) === 'file';\n    }\n    Asset.isFile = isFile;\n    function Wrapper(data, asset, manager) {\n        return {\n            data,\n            dispose: () => {\n                manager.release(asset);\n            }\n        };\n    }\n    Asset.Wrapper = Wrapper;\n    function getUrl(url) {\n        return typeof url === 'string' ? url : url.url;\n    }\n    Asset.getUrl = getUrl;\n    function getUrlAsset(manager, url, body) {\n        if (typeof url === 'string') {\n            const asset = manager.tryFindUrl(url, body);\n            return asset || Url(url, { body });\n        }\n        return url;\n    }\n    Asset.getUrlAsset = getUrlAsset;\n})(Asset || (Asset = {}));\nclass AssetManager {\n    constructor() {\n        // TODO: add URL based ref-counted cache?\n        // TODO: when serializing, check for duplicates?\n        this._assets = new Map();\n    }\n    get assets() {\n        return iterableToArray(this._assets.values());\n    }\n    tryFindUrl(url, body) {\n        const assets = this.assets.values();\n        while (true) {\n            const v = assets.next();\n            if (v.done)\n                return;\n            const asset = v.value.asset;\n            if (Asset.isUrl(asset) && asset.url === url && (asset.body || '') === (body || ''))\n                return asset;\n        }\n    }\n    tryFindFilename(name) {\n        const it = this._assets.values();\n        while (true) {\n            const { done, value } = it.next();\n            if (done)\n                break;\n            if (value.file.name === name)\n                return value.asset;\n        }\n    }\n    set(asset, file, options) {\n        this._assets.set(asset.id, { asset, file, refCount: 0, tag: options === null || options === void 0 ? void 0 : options.tag, isStatic: options === null || options === void 0 ? void 0 : options.isStatic });\n    }\n    get(asset) {\n        return this._assets.get(asset.id);\n    }\n    delete(asset) {\n        return this._assets.delete(asset.id);\n    }\n    has(asset) {\n        return this._assets.has(asset.id);\n    }\n    resolve(asset, type, store = true) {\n        if (Asset.isUrl(asset)) {\n            return Task.create(`Download ${asset.title || asset.url}`, async (ctx) => {\n                if (this._assets.has(asset.id)) {\n                    const entry = this._assets.get(asset.id);\n                    entry.refCount++;\n                    return Asset.Wrapper(await readFromFile(entry.file, type).runInContext(ctx), asset, this);\n                }\n                if (!store) {\n                    return Asset.Wrapper(await ajaxGet({ ...asset, type }).runInContext(ctx), asset, this);\n                }\n                const data = await ajaxGet({ ...asset, type: 'binary' }).runInContext(ctx);\n                const file = new File([data], 'raw-data');\n                this._assets.set(asset.id, { asset, file, refCount: 1 });\n                return Asset.Wrapper(await readFromFile(file, type).runInContext(ctx), asset, this);\n            });\n        }\n        else {\n            return Task.create(`Read ${asset.name}`, async (ctx) => {\n                if (this._assets.has(asset.id)) {\n                    const entry = this._assets.get(asset.id);\n                    entry.refCount++;\n                    return Asset.Wrapper(await readFromFile(entry.file, type).runInContext(ctx), asset, this);\n                }\n                if (!(asset.file instanceof File)) {\n                    throw new Error(`Cannot resolve file asset '${asset.name}' (${asset.id})`);\n                }\n                if (store) {\n                    this._assets.set(asset.id, { asset, file: asset.file, refCount: 1 });\n                }\n                return Asset.Wrapper(await readFromFile(asset.file, type).runInContext(ctx), asset, this);\n            });\n        }\n    }\n    release(asset) {\n        const entry = this._assets.get(asset.id);\n        if (!entry)\n            return;\n        entry.refCount--;\n        if (entry.refCount <= 0 && !entry.isStatic)\n            this._assets.delete(asset.id);\n    }\n    clearTag(tag) {\n        const keys = Array.from(this._assets.keys());\n        for (const key of keys) {\n            const entry = this._assets.get(key);\n            if (entry && entry.tag === tag) {\n                this._assets.delete(key);\n            }\n        }\n    }\n    clear() {\n        this._assets.clear();\n    }\n    dispose() {\n        this.clear();\n    }\n}\n"],"names":["arrayFind","array","f","i","_i","iterableToArray","it","ret","done","value","createRangeArray","start","end","ctor","len","arrayPickIndices","indices","arrayGetCtor","data","ObjectKeys","o","assertUnreachable","x","isPromiseLike","StringLike","obj","str","err","MAX_STRING_LENGTH","DEFAULT_LOG_STRING_CHUNK_SIZE","ChunkedBigString","logStringChunkSize","content","out","inputChunk","bufferChunkSize","stringChunks","readStart","readEnd","stringChunk","utf8Read","chunkSize","tail","inputPtr","index","iChunk","indexInChunk","start_","end_","iFirstChunk","indexInChunkFrom","iLastChunk","indexInChunkTo","searchString","position","chunk","positionInChunk","found","utf8Write","offset","l","codePoint","__chars","throwError","_utf8Read","length","chars","chunkOffset","byte","utf8Decoder","input","utf8ReadLong","utf8ByteCount","count","createImmediateActions","thisGlobal","_window","_self","tasksByHandle","doc","nextHandle","registerImmediate","setImmediate","callback","args","task","clearImmediate","handle","run","runIfPresent","installNextTickImplementation","canUsePostMessage","postMessageIsAsynchronous","oldOnMessage","installPostMessageImplementation","messagePrefix","onGlobalMessage","event","installMessageChannelImplementation","channel","installReadyStateChangeImplementation","html","script","installSetTimeoutImplementation","immediateActions","handler","resolveImmediate","res","Scheduler","timeout","r","isProductionMode","isDebugMode","val","define_process_env_default","UserTiming","markStart","markEnd","measure","ExecuteObservable","observer","updateRateMs","info","ProgressInfo","ctx","ObservableRuntimeContext","execute","CreateObservableCtx","ExecuteInContext","ExecuteObservableChild","progress","defaultProgress","abortToken","now","createAbortFunction","token","reason","cloneTree","root","canAbort","snapshotProgress","abort","e","Task","abortTree","notifyObserver","c","time","snapshot","update","dontNotify","node","children","idx","SynchronousRuntimeContext","SyncRuntimeContext","Impl","name","onAbort","getNextId","is","t","_t","isAbort","Aborted","create","constant","empty","fail","resolveInContext","object","idFactory","RuntimeContext","Progress","_format","prefix","p","newPrefix","subTree","format","RUNNING_IN_NODEJS","File_","getFile","File_NodeJs","contentType","fileBits","fileName","options","_a","toInt32","readUshort","buff","writeUshort","readUint","writeUint","readASCII","s","pad","n","readUTF8","ns","writeUTF8","strl","ci","code","sizeUTF8","CrcTable","tab","k","_crc","buf","off","crc","b","hasCompressionStreamSupport","checkCompressionStreamSupport","U","u16","u32","pushV","tgt","sv","makeCodes","codes2map","revCodes","tree","MAX_BITS","map","max_code","r15","lit","cl","rest","i0","i1","p0","bl_count","next_code","bits","imb","InflateContext","noBuf","inflateBlocks","BFINAL","pos","iBlock","lmap","dmap","ML","MD","_bitsF","BTYPE","p8","_check","HLIT","_bitsE","HDIST","HCLEN","tl","_decodeTiny","mx0","_copyOut","mx1","_get17","ebs","dcode","dlit","dbs","dst","_inflate","runtime","ds","decompressedStream","chunks","reader","readChunk","j","bl","nbuf","LL","ll","ni","src","mx","v","dt","_hufTree","hst","MAXL","list","hl","l2","a","i2","maxl","setDepth","restrictDepth","d","dps","dbt","bCost","od","DeflateContext","opos","lvl","lits","strt","prev","Opts","deflateChunk","dlen","opt","cvrd","li","lc","bs","ebits","nc","_hash","ii","_writeBlock","mch","_bestMatch","lgi","_goodIndex","dgi","_deflateRaw","cs","writeChunk","_putsE","_copyExact","nice","chain","pi","dif","td","dlim","_howLong","maxd","ei","curd","oi","o0","l0","MH","numl","numd","numh","lset","dset","getTrees","cstSize","fxdSize","contSize","dynSize","_putsF","ltree","dtree","_codeTiny","si","qb","_writeLit","qc","_lenCodes","set","rst","rsl","nxt","nnxt","prv","lz","zc","arr","ch","unzip","onlyNames","eocd","cnu","coffs","nl","el","roff","_readLocal","cmpr","csize","usize","nlen","elen","file","inflateRaw","ungzip","flg","xlen","zero","crc32","isize","blocks","inflated","crcValue","deflateRaw","opts","Zip","noCmpr","zip","tot","zpd","cpr","_noNeed","fof","_writeHeader","ioff","fn","ext","DataCompressionMethod","readFromFile","type","readFromFileInternal","ajaxGet","params","ajaxGetInternal","isDone","genericError","isDownload","readData","action","resolve","reject","error","hasError","getCompression","reFilterPath","decompress","compression","parsed","names","processFile","fileContent","readFromFileInternal_NodeJS","RequestPool","req","processAjax","response","getRequestResponseType","title","url","body","headers","ajaxGetInternal_file_NodeJS","ajaxGetInternal_http_NodeJS","xhttp","getFS","readFileAsync","filename","aborter","ajaxGetMany","assetManager","sources","maxConcurrency","slots","promises","promiseKeys","currentSrc","current","wrapPromise","Asset","_filterRemoveIndex","asset","_","id","Url","UUID","File","isUrl","isFile","Wrapper","manager","getUrl","getUrlAsset","AssetManager","assets","store","entry","tag","keys","key"],"mappings":"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","x_google_ignoreList":[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21]}